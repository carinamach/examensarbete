(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var um={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function WS(){if(vv)return Pl;vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Ev;function ZS(){return Ev||(Ev=1,um.exports=WS()),um.exports}var E=ZS(),cm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function JS(){if(Tv)return Re;Tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,G={};function P(k,ne,de){this.props=k,this.context=ne,this.refs=G,this.updater=de||D}P.prototype.isReactComponent={},P.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=P.prototype;function q(k,ne,de){this.props=k,this.context=ne,this.refs=G,this.updater=de||D}var Y=q.prototype=new K;Y.constructor=q,O(Y,P.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,ue={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function M(k,ne,de,ae,oe,Ie){return de=Ie.ref,{$$typeof:i,type:k,key:ne,ref:de!==void 0?de:null,props:Ie}}function I(k,ne){return M(k.type,ne,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function N(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return ne[de]})}var L=/\/+/g;function H(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):ne.toString(36)}function x(){}function At(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pt(k,ne,de,ae,oe){var Ie=typeof k;(Ie==="undefined"||Ie==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case i:case e:Se=!0;break;case T:return Se=k._init,pt(Se(k._payload),ne,de,ae,oe)}}if(Se)return oe=oe(k),Se=ae===""?"."+H(k,0):ae,ie(oe)?(de="",Se!=null&&(de=Se.replace(L,"$&/")+"/"),pt(oe,ne,de,"",function(rt){return rt})):oe!=null&&(R(oe)&&(oe=I(oe,de+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(L,"$&/")+"/")+Se)),ne.push(oe)),1;Se=0;var gt=ae===""?".":ae+":";if(ie(k))for(var je=0;je<k.length;je++)ae=k[je],Ie=gt+H(ae,je),Se+=pt(ae,ne,de,Ie,oe);else if(je=S(k),typeof je=="function")for(k=je.call(k),je=0;!(ae=k.next()).done;)ae=ae.value,Ie=gt+H(ae,je++),Se+=pt(ae,ne,de,Ie,oe);else if(Ie==="object"){if(typeof k.then=="function")return pt(At(k),ne,de,ae,oe);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function se(k,ne,de){if(k==null)return k;var ae=[],oe=0;return pt(k,ae,"","",function(Ie){return ne.call(de,Ie,oe++)}),ae}function _e(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function qe(){}return Re.Children={map:se,forEach:function(k,ne,de){se(k,function(){ne.apply(this,arguments)},de)},count:function(k){var ne=0;return se(k,function(){ne++}),ne},toArray:function(k){return se(k,function(ne){return ne})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=P,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=q,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,ne,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=O({},k.props),oe=k.key,Ie=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(oe=""+ne.key),ne)!Te.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(ae[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)ae.children=de;else if(1<Se){for(var gt=Array(Se),je=0;je<Se;je++)gt[je]=arguments[je+2];ae.children=gt}return M(k.type,oe,void 0,void 0,Ie,ae)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,ne,de){var ae,oe={},Ie=null;if(ne!=null)for(ae in ne.key!==void 0&&(Ie=""+ne.key),ne)Te.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=ne[ae]);var Se=arguments.length-2;if(Se===1)oe.children=de;else if(1<Se){for(var gt=Array(Se),je=0;je<Se;je++)gt[je]=arguments[je+2];oe.children=gt}if(k&&k.defaultProps)for(ae in Se=k.defaultProps,Se)oe[ae]===void 0&&(oe[ae]=Se[ae]);return M(k,Ie,void 0,void 0,null,oe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=R,Re.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:_e}},Re.memo=function(k,ne){return{$$typeof:g,type:k,compare:ne===void 0?null:ne}},Re.startTransition=function(k){var ne=ue.T,de={};ue.T=de;try{var ae=k(),oe=ue.S;oe!==null&&oe(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(qe,pe)}catch(Ie){pe(Ie)}finally{ue.T=ne}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(k){return ue.H.use(k)},Re.useActionState=function(k,ne,de){return ue.H.useActionState(k,ne,de)},Re.useCallback=function(k,ne){return ue.H.useCallback(k,ne)},Re.useContext=function(k){return ue.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,ne){return ue.H.useDeferredValue(k,ne)},Re.useEffect=function(k,ne){return ue.H.useEffect(k,ne)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(k,ne,de){return ue.H.useImperativeHandle(k,ne,de)},Re.useInsertionEffect=function(k,ne){return ue.H.useInsertionEffect(k,ne)},Re.useLayoutEffect=function(k,ne){return ue.H.useLayoutEffect(k,ne)},Re.useMemo=function(k,ne){return ue.H.useMemo(k,ne)},Re.useOptimistic=function(k,ne){return ue.H.useOptimistic(k,ne)},Re.useReducer=function(k,ne,de){return ue.H.useReducer(k,ne,de)},Re.useRef=function(k){return ue.H.useRef(k)},Re.useState=function(k){return ue.H.useState(k)},Re.useSyncExternalStore=function(k,ne,de){return ue.H.useSyncExternalStore(k,ne,de)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.0.0",Re}var bv;function ap(){return bv||(bv=1,cm.exports=JS()),cm.exports}var z=ap(),hm={exports:{}},Ll={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function e0(){return Av||(Av=1,function(i){function e(se,_e){var pe=se.length;se.push(_e);e:for(;0<pe;){var qe=pe-1>>>1,k=se[qe];if(0<o(k,_e))se[qe]=_e,se[pe]=k,pe=qe;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var _e=se[0],pe=se.pop();if(pe!==_e){se[0]=pe;e:for(var qe=0,k=se.length,ne=k>>>1;qe<ne;){var de=2*(qe+1)-1,ae=se[de],oe=de+1,Ie=se[oe];if(0>o(ae,pe))oe<k&&0>o(Ie,ae)?(se[qe]=Ie,se[oe]=pe,qe=oe):(se[qe]=ae,se[de]=pe,qe=de);else if(oe<k&&0>o(Ie,pe))se[qe]=Ie,se[oe]=pe,qe=oe;else break e}}return _e}function o(se,_e){var pe=se.sortIndex-_e.sortIndex;return pe!==0?pe:se.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,S=3,D=!1,O=!1,G=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(se){for(var _e=n(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=se)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function ie(se){if(G=!1,Y(se),!O)if(n(p)!==null)O=!0,At();else{var _e=n(g);_e!==null&&pt(ie,_e.startTime-se)}}var ue=!1,Te=-1,M=5,I=-1;function R(){return!(i.unstable_now()-I<M)}function N(){if(ue){var se=i.unstable_now();I=se;var _e=!0;try{e:{O=!1,G&&(G=!1,K(Te),Te=-1),D=!0;var pe=S;try{t:{for(Y(se),w=n(p);w!==null&&!(w.expirationTime>se&&R());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,S=w.priorityLevel;var k=qe(w.expirationTime<=se);if(se=i.unstable_now(),typeof k=="function"){w.callback=k,Y(se),_e=!0;break t}w===n(p)&&s(p),Y(se)}else s(p);w=n(p)}if(w!==null)_e=!0;else{var ne=n(g);ne!==null&&pt(ie,ne.startTime-se),_e=!1}}break e}finally{w=null,S=pe,D=!1}_e=void 0}}finally{_e?L():ue=!1}}}var L;if(typeof q=="function")L=function(){q(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,x=H.port2;H.port1.onmessage=N,L=function(){x.postMessage(null)}}else L=function(){P(N,0)};function At(){ue||(ue=!0,L())}function pt(se,_e){Te=P(function(){se(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){O||D||(O=!0,At())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(se){switch(S){case 1:case 2:case 3:var _e=3;break;default:_e=S}var pe=S;S=_e;try{return se()}finally{S=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,_e){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=S;S=se;try{return _e()}finally{S=pe}},i.unstable_scheduleCallback=function(se,_e,pe){var qe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,se){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,se={id:T++,callback:_e,priorityLevel:se,startTime:pe,expirationTime:k,sortIndex:-1},pe>qe?(se.sortIndex=pe,e(g,se),n(p)===null&&se===n(g)&&(G?(K(Te),Te=-1):G=!0,pt(ie,pe-qe))):(se.sortIndex=k,e(p,se),O||D||(O=!0,At())),se},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(se){var _e=S;return function(){var pe=S;S=_e;try{return se.apply(this,arguments)}finally{S=pe}}}}(dm)),dm}var wv;function t0(){return wv||(wv=1,fm.exports=e0()),fm.exports}var mm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function n0(){if(Sv)return Wt;Sv=1;var i=ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Wt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:D}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var Rv;function i0(){if(Rv)return mm.exports;Rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=n0(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function r0(){if(Iv)return Ll;Iv=1;var i=t0(),e=ap(),n=i0();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case P:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return r=t.displayName||null,r!==null?r:I(t.type)||"Memo";case q:r=t._payload,t=t._init;try{return I(t(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,L,H;function x(t){if(L===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",H=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+t+H}var At=!1;function pt(t,r){if(!t||At)return"";At=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Q=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){Q=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){Q=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),U=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var W=`
`+C[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{At=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function _e(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function qe(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function k(t){if(pe(t)!==t)throw Error(s(188))}function ne(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return k(h),t;if(d===l)return k(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function de(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=de(t),r!==null)return r;t=t.sibling}return null}var ae=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Se=[],gt=-1;function je(t){return{current:t}}function rt(t){0>gt||(t.current=Se[gt],Se[gt]=null,gt--)}function Ke(t,r){gt++,Se[gt]=t.current,t.current=r}var rn=je(null),xi=je(null),In=je(null),mr=je(null);function pr(t,r){switch(Ke(In,r),Ke(xi,t),Ke(rn,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?$_(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=$_(t),r=Y_(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}rt(rn),Ke(rn,r)}function Di(){rt(rn),rt(xi),rt(In)}function Do(t){t.memoizedState!==null&&Ke(mr,t);var r=rn.current,a=Y_(r,t.type);r!==a&&(Ke(xi,t),Ke(rn,a))}function pa(t){xi.current===t&&(rt(rn),rt(xi)),mr.current===t&&(rt(mr),Dl._currentValue=Ie)}var ga=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,ya=i.unstable_cancelCallback,hf=i.unstable_shouldYield,Oo=i.unstable_requestPaint,hn=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,wt=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Su=i.unstable_LowPriority,ko=i.unstable_IdlePriority,ff=i.log,ws=i.unstable_setDisableYieldValue,gr=null,Yt=null;function Mo(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(gr,t,void 0,(t.current.flags&128)===128)}catch{}}function ri(t){if(typeof ff=="function"&&ws(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(gr,t)}catch{}}var sn=Math.clz32?Math.clz32:Iu,Vo=Math.log,Ru=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Vo(t)/Ru|0)|0}var si=128,yr=4194304;function Kn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~h,a!==0?l=Kn(a):(d&=b,d!==0?l=Kn(d):t||(v=b&~v,v!==0&&(l=Kn(v))))):(b=a&~h,b!==0?l=Kn(b):d!==0?l=Kn(d):t||(v=a&~v,v!==0&&(l=Kn(v)))),l===0?0:r!==0&&r!==l&&!(r&h)&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function _r(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function _a(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=si;return si<<=1,!(si&4194176)&&(si=128),t}function vr(){var t=yr;return yr<<=1,!(yr&62914560)&&(yr=4194304),t}function va(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cu(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-sn(a),te=1<<W;b[W]=0,C[W]=-1;var Q=U[W];if(Q!==null)for(U[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Er(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Er(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-sn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Tr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-sn(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Nu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:dv(t.type))}function br(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var ai=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ai,St="__reactProps$"+ai,ki="__reactContainer$"+ai,Ss="__reactEvents$"+ai,Ea="__reactListeners$"+ai,oi="__reactHandles$"+ai,Lo="__reactResources$"+ai,Ar="__reactMarker$"+ai;function Rs(t){delete t[Mt],delete t[St],delete t[Ss],delete t[Ea],delete t[oi]}function Qn(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[ki]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[Mt])return a;t=Z_(t)}return r}t=a,a=t.parentNode}return null}function Mi(t){if(t=t[Mt]||t[ki]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function wr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Sr(t){var r=t[Lo];return r||(r=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(t){t[Ar]=!0}var Uo=new Set,Ta={};function yn(t,r){fn(t,r),fn(t+"Capture",r)}function fn(t,r){for(Ta[t]=r,t=0;t<r.length;t++)Uo.add(r[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function Du(t){return ga.call(zo,t)?!0:ga.call(jo,t)?!1:df.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function Rr(t,r,a){if(Du(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ir(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Nn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ou(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(t){var r=Ou(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Is(t){t._valueTracker||(t._valueTracker=mf(t))}function Bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ou(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vi=/[\n"\\]/g;function st(t){return t.replace(Vi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cr(t,r,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Aa(t,v,an(r)):a!=null?Aa(t,v,an(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+an(b):t.removeAttribute("name")}function Cs(t,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Aa(t,r,a){r==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ns(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function Nr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||pf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ku(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(t,d,r[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Dn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Li=null;function Ui(t){var r=Mi(t);if(r&&(t=r.stateNode)){var a=t[St]||null;e:switch(t=r.stateNode,r.type){case"input":if(Cr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[St]||null;if(!h)throw Error(s(90));Cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Bo(l)}break e;case"textarea":Ns(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ze(t,!!a.multiple,r,!1)}}}var Fo=!1;function Mu(t,r,a){if(Fo)return t(r,a);Fo=!0;try{var l=t(r);return l}finally{if(Fo=!1,(Pi!==null||Li!==null)&&(Sc(),Pi&&(r=Pi,t=Li,Li=Pi=null,Ui(r),t)))for(r=0;r<t.length;r++)Ui(t[r])}}function xs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!1;if(_n)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{On=!1}var ui=null,xr=null,ji=null;function Go(){if(ji)return ji;var t,r=xr,a=r.length,l,h="value"in ui?ui.value:ui.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return ji=h.slice(t,1<l?1-l:void 0)}function ci(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function Ko(){return!1}function Vt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hi:Ko,this.isPropagationStopped=Ko,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Vt(Fe),Os=N({},Fe,{view:0,detail:0}),Vu=Vt(Os),Ra,Ia,fi,ks=N({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(Ra=t.screenX-fi.screenX,Ia=t.screenY-fi.screenY):Ia=Ra=0,fi=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),kn=Vt(ks),Pu=N({},ks,{dataTransfer:0}),_f=Vt(Pu),Ms=N({},Os,{relatedTarget:0}),Ca=Vt(Ms),Qo=N({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Vt(Qo),Lu=N({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=Vt(Lu),vf=N({},Fe,{data:0}),$o=Vt(vf),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ju[t])?!!r[t]:!1}function Ps(){return Yo}var zu=N({},Os,{key:function(t){if(t.key){var r=Vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=Vt(zu),Bu=N({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Vt(Bu),zi=N({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Hu=Vt(zi),qu=N({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Vt(qu),Gu=N({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Vt(Gu),on=N({},Fe,{newState:0,oldState:0}),Ku=Vt(on),Qu=[9,13,27,32],di=_n&&"CompositionEvent"in window,c=null;_n&&"documentMode"in document&&(c=document.documentMode);var y=_n&&"TextEvent"in window&&!c,_=_n&&(!di||c&&8<c&&11>=c),A=" ",B=!1;function $(t,r){switch(t){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Rt(t,r){switch(t){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return t=r.data,t===A&&B?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!di&&$(t,r)?(t=Go(),ji=xr=ui=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function Bi(t,r,a,l){Pi?Li?Li.push(l):Li=[l]:Pi=l,r=xc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ht=null,mi=null;function Wo(t){q_(t,0)}function $u(t){var r=wr(t);if(Bo(r))return t}function _g(t,r){if(t==="change")return r}var vg=!1;if(_n){var Ef;if(_n){var Tf="oninput"in document;if(!Tf){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Tf=typeof Eg.oninput=="function"}Ef=Tf}else Ef=!1;vg=Ef&&(!document.documentMode||9<document.documentMode)}function Tg(){Ht&&(Ht.detachEvent("onpropertychange",bg),mi=Ht=null)}function bg(t){if(t.propertyName==="value"&&$u(mi)){var r=[];Bi(r,mi,t,wa(t)),Mu(Wo,r)}}function Iw(t,r,a){t==="focusin"?(Tg(),Ht=r,mi=a,Ht.attachEvent("onpropertychange",bg)):t==="focusout"&&Tg()}function Cw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(mi)}function Nw(t,r){if(t==="click")return $u(r)}function xw(t,r){if(t==="input"||t==="change")return $u(r)}function Dw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:Dw;function Zo(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ga.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,r){var a=Ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ag(a)}}function Sg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ba(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ba(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Ow(t,r){var a=Rg(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&Sg(r.ownerDocument.documentElement,r)){if(l!==null&&bf(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=wg(r,d);var v=wg(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var kw=_n&&"documentMode"in document&&11>=document.documentMode,ka=null,Af=null,Jo=null,wf=!1;function Ig(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||ka==null||ka!==ba(l)||(l=ka,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=xc(Af,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ka)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ma={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Sf={},Cg={};_n&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Us(t){if(Sf[t])return Sf[t];if(!Ma[t])return t;var r=Ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Cg)return Sf[t]=r[a];return t}var Ng=Us("animationend"),xg=Us("animationiteration"),Dg=Us("animationstart"),Mw=Us("transitionrun"),Vw=Us("transitionstart"),Pw=Us("transitioncancel"),Og=Us("transitionend"),kg=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(t,r){kg.set(t,r),yn(r,[t])}var Mn=[],Va=0,Rf=0;function Yu(){for(var t=Va,r=Rf=Va=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Vg(a,h,d)}}function Xu(t,r,a,l){Mn[Va++]=t,Mn[Va++]=r,Mn[Va++]=a,Mn[Va++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Xu(t,r,a,l),Wu(t)}function Dr(t,r){return Xu(t,null,null,r),Wu(t)}function Vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-sn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=a|536870912)}function Wu(t){if(50<wl)throw wl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={},Pg=new WeakMap;function Vn(t,r){if(typeof t=="object"&&t!==null){var a=Pg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_e(r)},Pg.set(t,r),r)}return{value:t,source:r,stack:_e(r)}}var La=[],Ua=0,Zu=null,Ju=0,Pn=[],Ln=0,js=null,Hi=1,qi="";function zs(t,r){La[Ua++]=Ju,La[Ua++]=Zu,Zu=t,Ju=r}function Lg(t,r,a){Pn[Ln++]=Hi,Pn[Ln++]=qi,Pn[Ln++]=js,js=t;var l=Hi;t=qi;var h=32-sn(l)-1;l&=~(1<<h),a+=1;var d=32-sn(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hi=1<<32-sn(r)+h|a<<h|l,qi=d+t}else Hi=1<<d|a<<h|l,qi=t}function Cf(t){t.return!==null&&(zs(t,1),Lg(t,1,0))}function Nf(t){for(;t===Zu;)Zu=La[--Ua],La[Ua]=null,Ju=La[--Ua],La[Ua]=null;for(;t===js;)js=Pn[--Ln],Pn[Ln]=null,qi=Pn[--Ln],Pn[Ln]=null,Hi=Pn[--Ln],Pn[Ln]=null}var ln=null,qt=null,Be=!1,Yn=null,pi=!1,xf=Error(s(519));function Bs(t){var r=Error(s(418,""));throw nl(Vn(r,t)),xf}function Ug(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[St]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Me(Rl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Cs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Is(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Nr(r,l.value,l.defaultValue,l.children),Is(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Q_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Dc),r=!0):r=!1,r||Bs(t)}function jg(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:pi=!0;return;case 5:case 13:pi=!1;return;default:ln=ln.return}}function el(t){if(t!==ln)return!1;if(!Be)return jg(t),Be=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&qt&&Bs(t),jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){qt=Wn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}qt=null}}else qt=ln?Wn(t.stateNode.nextSibling):null;return!0}function tl(){qt=ln=null,Be=!1}function nl(t){Yn===null?Yn=[t]:Yn.push(t)}var il=Error(s(460)),zg=Error(s(474)),Df={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function Hg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ec,ec),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(s(483)):t;default:if(typeof r.status=="string")r.then(ec,ec);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===il?Error(s(483)):t}throw rl=r,il}}var rl=null;function qg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var ja=null,sl=0;function tc(t){var r=sl;return sl+=1,ja===null&&(ja=[]),Hg(ja,t,r)}function al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function nc(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Fg(t){var r=t._init;return r(t._payload)}function Gg(t){function r(j,V){if(t){var F=j.deletions;F===null?(j.deletions=[V],j.flags|=16):F.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=qr(j,V),j.index=0,j.sibling=null,j}function d(j,V,F){return j.index=F,t?(F=j.alternate,F!==null?(F=F.index,F<V?(j.flags|=33554434,V):F):(j.flags|=33554434,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=33554434),j}function b(j,V,F,Z){return V===null||V.tag!==6?(V=Sd(F,j.mode,Z),V.return=j,V):(V=h(V,F),V.return=j,V)}function C(j,V,F,Z){var he=F.type;return he===p?W(j,V,F.props.children,Z,F.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===q&&Fg(he)===V.type)?(V=h(V,F.props),al(V,F),V.return=j,V):(V=Ec(F.type,F.key,F.props,null,j.mode,Z),al(V,F),V.return=j,V)}function U(j,V,F,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Rd(F,j.mode,Z),V.return=j,V):(V=h(V,F.children||[]),V.return=j,V)}function W(j,V,F,Z,he){return V===null||V.tag!==7?(V=Ws(F,j.mode,Z,he),V.return=j,V):(V=h(V,F),V.return=j,V)}function te(j,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sd(""+V,j.mode,F),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return F=Ec(V.type,V.key,V.props,null,j.mode,F),al(F,V),F.return=j,F;case m:return V=Rd(V,j.mode,F),V.return=j,V;case q:var Z=V._init;return V=Z(V._payload),te(j,V,F)}if(ae(V)||Te(V))return V=Ws(V,j.mode,F,null),V.return=j,V;if(typeof V.then=="function")return te(j,tc(V),F);if(V.$$typeof===D)return te(j,yc(j,V),F);nc(j,V)}return null}function Q(j,V,F,Z){var he=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return he!==null?null:b(j,V,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===he?C(j,V,F,Z):null;case m:return F.key===he?U(j,V,F,Z):null;case q:return he=F._init,F=he(F._payload),Q(j,V,F,Z)}if(ae(F)||Te(F))return he!==null?null:W(j,V,F,Z,null);if(typeof F.then=="function")return Q(j,V,tc(F),Z);if(F.$$typeof===D)return Q(j,V,yc(j,F),Z);nc(j,F)}return null}function X(j,V,F,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(F)||null,b(V,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return j=j.get(Z.key===null?F:Z.key)||null,C(V,j,Z,he);case m:return j=j.get(Z.key===null?F:Z.key)||null,U(V,j,Z,he);case q:var Ne=Z._init;return Z=Ne(Z._payload),X(j,V,F,Z,he)}if(ae(Z)||Te(Z))return j=j.get(F)||null,W(V,j,Z,he,null);if(typeof Z.then=="function")return X(j,V,F,tc(Z),he);if(Z.$$typeof===D)return X(j,V,F,yc(V,Z),he);nc(V,Z)}return null}function fe(j,V,F,Z){for(var he=null,Ne=null,me=V,ye=V=0,jt=null;me!==null&&ye<F.length;ye++){me.index>ye?(jt=me,me=null):jt=me.sibling;var He=Q(j,me,F[ye],Z);if(He===null){me===null&&(me=jt);break}t&&me&&He.alternate===null&&r(j,me),V=d(He,V,ye),Ne===null?he=He:Ne.sibling=He,Ne=He,me=jt}if(ye===F.length)return a(j,me),Be&&zs(j,ye),he;if(me===null){for(;ye<F.length;ye++)me=te(j,F[ye],Z),me!==null&&(V=d(me,V,ye),Ne===null?he=me:Ne.sibling=me,Ne=me);return Be&&zs(j,ye),he}for(me=l(me);ye<F.length;ye++)jt=X(me,j,ye,F[ye],Z),jt!==null&&(t&&jt.alternate!==null&&me.delete(jt.key===null?ye:jt.key),V=d(jt,V,ye),Ne===null?he=jt:Ne.sibling=jt,Ne=jt);return t&&me.forEach(function(Xr){return r(j,Xr)}),Be&&zs(j,ye),he}function Ae(j,V,F,Z){if(F==null)throw Error(s(151));for(var he=null,Ne=null,me=V,ye=V=0,jt=null,He=F.next();me!==null&&!He.done;ye++,He=F.next()){me.index>ye?(jt=me,me=null):jt=me.sibling;var Xr=Q(j,me,He.value,Z);if(Xr===null){me===null&&(me=jt);break}t&&me&&Xr.alternate===null&&r(j,me),V=d(Xr,V,ye),Ne===null?he=Xr:Ne.sibling=Xr,Ne=Xr,me=jt}if(He.done)return a(j,me),Be&&zs(j,ye),he;if(me===null){for(;!He.done;ye++,He=F.next())He=te(j,He.value,Z),He!==null&&(V=d(He,V,ye),Ne===null?he=He:Ne.sibling=He,Ne=He);return Be&&zs(j,ye),he}for(me=l(me);!He.done;ye++,He=F.next())He=X(me,j,ye,He.value,Z),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?ye:He.key),V=d(He,V,ye),Ne===null?he=He:Ne.sibling=He,Ne=He);return t&&me.forEach(function(XS){return r(j,XS)}),Be&&zs(j,ye),he}function lt(j,V,F,Z){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:e:{for(var he=F.key;V!==null;){if(V.key===he){if(he=F.type,he===p){if(V.tag===7){a(j,V.sibling),Z=h(V,F.props.children),Z.return=j,j=Z;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===q&&Fg(he)===V.type){a(j,V.sibling),Z=h(V,F.props),al(Z,F),Z.return=j,j=Z;break e}a(j,V);break}else r(j,V);V=V.sibling}F.type===p?(Z=Ws(F.props.children,j.mode,Z,F.key),Z.return=j,j=Z):(Z=Ec(F.type,F.key,F.props,null,j.mode,Z),al(Z,F),Z.return=j,j=Z)}return v(j);case m:e:{for(he=F.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){a(j,V.sibling),Z=h(V,F.children||[]),Z.return=j,j=Z;break e}else{a(j,V);break}else r(j,V);V=V.sibling}Z=Rd(F,j.mode,Z),Z.return=j,j=Z}return v(j);case q:return he=F._init,F=he(F._payload),lt(j,V,F,Z)}if(ae(F))return fe(j,V,F,Z);if(Te(F)){if(he=Te(F),typeof he!="function")throw Error(s(150));return F=he.call(F),Ae(j,V,F,Z)}if(typeof F.then=="function")return lt(j,V,tc(F),Z);if(F.$$typeof===D)return lt(j,V,yc(j,F),Z);nc(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(a(j,V.sibling),Z=h(V,F),Z.return=j,j=Z):(a(j,V),Z=Sd(F,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,V)}return function(j,V,F,Z){try{sl=0;var he=lt(j,V,F,Z);return ja=null,he}catch(me){if(me===il)throw me;var Ne=Bn(29,me,null,j.mode);return Ne.lanes=Z,Ne.return=j,Ne}finally{}}}var Hs=Gg(!0),Kg=Gg(!1),za=je(null),ic=je(0);function Qg(t,r){t=er,Ke(ic,t),Ke(za,r),er=t|r.baseLanes}function Of(){Ke(ic,er),Ke(za,za.current)}function kf(){er=ic.current,rt(za),rt(ic)}var Un=je(null),gi=null;function Or(t){var r=t.alternate;Ke(Ct,Ct.current&1),Ke(Un,t),gi===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(gi=t)}function $g(t){if(t.tag===22){if(Ke(Ct,Ct.current),Ke(Un,t),gi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(gi=t)}}else kr()}function kr(){Ke(Ct,Ct.current),Ke(Un,Un.current)}function Fi(t){rt(Un),gi===t&&(gi=null),rt(Ct)}var Ct=je(0);function rc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Lw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Uw=i.unstable_scheduleCallback,jw=i.unstable_NormalPriority,Nt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Lw,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Uw(jw,function(){t.controller.abort()})}var ll=null,Vf=0,Ba=0,Ha=null;function zw(t,r){if(ll===null){var a=ll=[];Vf=0,Ba=Bd(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,r.then(Yg,Yg),r}function Yg(){if(--Vf===0&&ll!==null){Ha!==null&&(Ha.status="fulfilled");var t=ll;ll=null,Ba=0,Ha=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Bw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=R.S;R.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&zw(t,r),Xg!==null&&Xg(t,r)};var qs=je(null);function Pf(){var t=qs.current;return t!==null?t:Xe.pooledCache}function sc(t,r){r===null?Ke(qs,qs.current):Ke(qs,r.pool)}function Wg(){var t=Pf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Mr=0,Ce=null,Qe=null,yt=null,ac=!1,qa=!1,Fs=!1,oc=0,ul=0,Fa=null,Hw=0;function ft(){throw Error(s(321))}function Lf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function Uf(t,r,a,l,h,d){return Mr=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=t===null||t.memoizedState===null?Gs:Vr,Fs=!1,d=a(l,h),Fs=!1,qa&&(d=Jg(r,a,l,h)),Zg(t),d}function Zg(t){R.H=yi;var r=Qe!==null&&Qe.next!==null;if(Mr=0,yt=Qe=Ce=null,ac=!1,ul=0,Fa=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&gc(t)&&(Lt=!0))}function Jg(t,r,a,l){Ce=t;var h=0;do{if(qa&&(Fa=null),ul=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}R.H=Ks,d=r(a,l)}while(qa);return d}function qw(){var t=R.H,r=t.useState()[0];return r=typeof r.then=="function"?cl(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ce.flags|=1024),r}function jf(){var t=oc!==0;return oc=0,t}function zf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Bf(t){if(ac){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ac=!1}Mr=0,yt=Qe=Ce=null,qa=!1,ul=oc=0,Fa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=yt===null?Ce.memoizedState:yt.next;if(r!==null)yt=r,Qe=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}var lc;lc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var r=ul;return ul+=1,Fa===null&&(Fa=[]),t=Hg(Fa,t,r),r=Ce,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Gs:Vr),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===D)return Xt(t)}throw Error(s(438,String(t)))}function Hf(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=lc(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=ie;return r.index++,a}function Gi(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=_t();return qf(r,Qe,t)}function qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=v=null,C=null,U=r,W=!1;do{var te=U.lane&-536870913;if(te!==U.lane?(Le&te)===te:(Mr&te)===te){var Q=U.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),te===Ba&&(W=!0);else if((Mr&Q)===Q){U=U.next,Q===Ba&&(W=!0);continue}else te={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=te,v=d):C=C.next=te,Ce.lanes|=Q,Fr|=Q;te=U.action,Fs&&a(d,te),d=U.hasEagerState?U.eagerState:a(d,te)}else Q={lane:te,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=Q,v=d):C=C.next=Q,Ce.lanes|=te,Fr|=te;U=U.next}while(U!==null&&U!==r);if(C===null?v=d:C.next=b,!vn(d,t.memoizedState)&&(Lt=!0,W&&(a=Ha,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ff(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);vn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(t,r,a){var l=Ce,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn((Qe||h).memoizedState,a);if(v&&(h.memoizedState=a,Lt=!0),h=h.queue,Qf(iy.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,ny.bind(null,l,h,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||Mr&60||ty(l,r,a)}return a}function ty(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=lc(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ny(t,r,a,l){r.value=a,r.getSnapshot=l,ry(r)&&sy(t)}function iy(t,r,a){return a(function(){ry(r)&&sy(t)})}function ry(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function sy(t){var r=Dr(t,2);r!==null&&un(r,t,2)}function Gf(t){var r=dn();if(typeof t=="function"){var a=t;if(t=a(),Fs){ri(!0);try{a()}finally{ri(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},r}function ay(t,r,a,l){return t.baseState=a,qf(t,Qe,typeof l=="function"?l:Gi)}function Fw(t,r,a,l,h){if(dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};R.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,oy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function oy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=R.T,v={};R.T=v;try{var b=a(h,l),C=R.S;C!==null&&C(v,b),ly(t,r,b)}catch(U){Kf(t,r,U)}finally{R.T=d}}else try{d=a(h,l),ly(t,r,d)}catch(U){Kf(t,r,U)}}function ly(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(t,r,l)},function(l){return Kf(t,r,l)}):uy(t,r,a)}function uy(t,r,a){r.status="fulfilled",r.value=a,cy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,oy(t,a)))}function Kf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,cy(r),r=r.next;while(r!==l)}t.action=null}function cy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function hy(t,r){return r}function fy(t,r){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ce;if(Be){if(qt){t:{for(var h=qt,d=pi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){qt=Wn(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:r},a.queue=l,a=xy.bind(null,Ce,l),l.dispatch=a,l=Gf(!1),d=Zf.bind(null,Ce,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Fw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function dy(t){var r=_t();return my(r,Qe,t)}function my(t,r,a){r=qf(t,r,hy)[0],t=cc(Gi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?cl(r):r;var l=_t(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Ga(9,Gw.bind(null,h,a),{destroy:void 0},null)),[r,d,t]}function Gw(t,r){t.action=r}function py(t){var r=_t(),a=Qe;if(a!==null)return my(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ga(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Ce.updateQueue,r===null&&(r=lc(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function gy(){return _t().memoizedState}function hc(t,r,a,l){var h=dn();Ce.flags|=t,h.memoizedState=Ga(1|r,a,{destroy:void 0},l===void 0?null:l)}function fc(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Lf(l,Qe.memoizedState.deps)?h.memoizedState=Ga(r,a,d,l):(Ce.flags|=t,h.memoizedState=Ga(1|r,a,d,l))}function yy(t,r){hc(8390656,8,t,r)}function Qf(t,r){fc(2048,8,t,r)}function _y(t,r){return fc(4,2,t,r)}function vy(t,r){return fc(4,4,t,r)}function Ey(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ty(t,r,a){a=a!=null?a.concat([t]):null,fc(4,4,Ey.bind(null,r,t),a)}function $f(){}function by(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Lf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ay(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Lf(r,l[1]))return l[0];if(l=t(),Fs){ri(!0);try{t()}finally{ri(!1)}}return a.memoizedState=[l,r],l}function Yf(t,r,a){return a===void 0||Mr&1073741824?t.memoizedState=r:(t.memoizedState=a,t=S_(),Ce.lanes|=t,Fr|=t,a)}function wy(t,r,a,l){return vn(a,r)?a:za.current!==null?(t=Yf(t,a,l),vn(t,r)||(Lt=!0),t):Mr&42?(t=S_(),Ce.lanes|=t,Fr|=t,r):(Lt=!0,t.memoizedState=a)}function Sy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=R.T,b={};R.T=b,Zf(t,!1,r,a);try{var C=h(),U=R.S;if(U!==null&&U(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=Bw(C,l);hl(t,r,W,An(t))}else hl(t,r,l,An(t))}catch(te){hl(t,r,{then:function(){},status:"rejected",reason:te},An())}finally{oe.p=d,R.T=v}}function Kw(){}function Xf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ry(t).queue;Sy(t,h,r,Ie,a===null?Kw:function(){return Iy(t),a(l)})}function Ry(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:Ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=Ry(t).next.queue;hl(t,r,{},An())}function Wf(){return Xt(Dl)}function Cy(){return _t().memoizedState}function Ny(){return _t().memoizedState}function Qw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();t=Ur(a);var l=jr(r,t,a);l!==null&&(un(l,r,a),ml(l,r,a)),r={cache:Mf()},t.payload=r;return}r=r.return}}function $w(t,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Dy(r,a):(a=If(t,r,a,l),a!==null&&(un(a,t,l),Oy(a,r,l)))}function xy(t,r,a){var l=An();hl(t,r,a,l)}function hl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Dy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,vn(b,v))return Xu(t,r,h,0),Xe===null&&Yu(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return un(a,t,l),Oy(a,r,l),!0}return!1}function Zf(t,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&un(r,t,2)}function dc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function Dy(t,r){qa=ac=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Oy(t,r,a){if(a&4194176){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Tr(t,a)}}var yi={readContext:Xt,use:uc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft};yi.useCacheRefresh=ft,yi.useMemoCache=ft,yi.useHostTransitionStatus=ft,yi.useFormState=ft,yi.useActionState=ft,yi.useOptimistic=ft;var Gs={readContext:Xt,use:uc,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:yy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,hc(4194308,4,Ey.bind(null,r,t),a)},useLayoutEffect:function(t,r){return hc(4194308,4,t,r)},useInsertionEffect:function(t,r){hc(4,2,t,r)},useMemo:function(t,r){var a=dn();r=r===void 0?null:r;var l=t();if(Fs){ri(!0);try{t()}finally{ri(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=dn();if(a!==void 0){var h=a(r);if(Fs){ri(!0);try{a(r)}finally{ri(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=$w.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Gf(t);var r=t.queue,a=xy.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,r){var a=dn();return Yf(a,t,r)},useTransition:function(){var t=Gf(!1);return t=Sy.bind(null,Ce,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=dn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));Le&60||ty(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,yy(iy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,ny.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=dn(),r=Xe.identifierPrefix;if(Be){var a=qi,l=Hi;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=oc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Hw++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return dn().memoizedState=Qw.bind(null,Ce)}};Gs.useMemoCache=Hf,Gs.useHostTransitionStatus=Wf,Gs.useFormState=fy,Gs.useActionState=fy,Gs.useOptimistic=function(t){var r=dn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Zf.bind(null,Ce,!0,a),a.dispatch=r,[t,r]};var Vr={readContext:Xt,use:uc,useCallback:by,useContext:Xt,useEffect:Qf,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:cc,useRef:gy,useState:function(){return cc(Gi)},useDebugValue:$f,useDeferredValue:function(t,r){var a=_t();return wy(a,Qe.memoizedState,t,r)},useTransition:function(){var t=cc(Gi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:ey,useId:Cy};Vr.useCacheRefresh=Ny,Vr.useMemoCache=Hf,Vr.useHostTransitionStatus=Wf,Vr.useFormState=dy,Vr.useActionState=dy,Vr.useOptimistic=function(t,r){var a=_t();return ay(a,Qe,t,r)};var Ks={readContext:Xt,use:uc,useCallback:by,useContext:Xt,useEffect:Qf,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:Ff,useRef:gy,useState:function(){return Ff(Gi)},useDebugValue:$f,useDeferredValue:function(t,r){var a=_t();return Qe===null?Yf(a,t,r):wy(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Ff(Gi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:ey,useId:Cy};Ks.useCacheRefresh=Ny,Ks.useMemoCache=Hf,Ks.useHostTransitionStatus=Wf,Ks.useFormState=py,Ks.useActionState=py,Ks.useOptimistic=function(t,r){var a=_t();return Qe!==null?ay(a,Qe,t,r):(a.baseState=t,[t,a.queue.dispatch])};function Jf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:N({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ed={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=An(),h=Ur(l);h.payload=r,a!=null&&(h.callback=a),r=jr(t,h,l),r!==null&&(un(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=An(),h=Ur(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=jr(t,h,l),r!==null&&(un(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=An(),l=Ur(a);l.tag=2,r!=null&&(l.callback=r),r=jr(t,l,a),r!==null&&(un(r,t,a),ml(r,t,a))}};function ky(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function My(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ed.enqueueReplaceState(r,r.state,null)}function Qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){mc(t)}function Py(t){console.error(t)}function Ly(t){mc(t)}function pc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(t,r,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,r)},a}function jy(t){return t=Ur(t),t.tag=3,t}function zy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Uy(r,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Yw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return gi===null?Pd():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Df?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===Df?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Pd(),!1}if(Be)return r=Un.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),nl(Vn(t,a)))):(l!==xf&&(r=Error(s(423),{cause:l}),nl(Vn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=td(t.stateNode,l,h),gd(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),bl===null?bl=[d]:bl.push(d),ot!==4&&(ot=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=td(a.stateNode,l,t),gd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),gd(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),Lt=!1;function Ft(t,r,a,l){r.child=t===null?Kg(r,null,a,l):Hs(r,t.child,a,l)}function Hy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ys(r),l=Uf(t,r,a,v,d,h),b=jf(),t!==null&&!Lt?(zf(t,r,h),Ki(t,r,h)):(Be&&b&&Cf(r),r.flags|=1,Ft(t,r,l,h),r.child)}function qy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Fy(t,r,d,l,h)):(t=Ec(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!cd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===r.ref)return Ki(t,r,h)}return r.flags|=1,t=qr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Fy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,cd(t,h))t.flags&131072&&(Lt=!0);else return r.lanes=t.lanes,Ki(t,r,h)}return nd(t,r,a,l,h)}function Gy(t,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(fl(t,r),l.mode==="hidden"||d){if(r.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ky(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(r,v!==null?v.cachePool:null),v!==null?Qg(r,v):Of(),$g(r);else return r.lanes=r.childLanes=536870912,Ky(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(sc(r,v.cachePool),Qg(r,v),kr(),r.memoizedState=null):(t!==null&&sc(r,null),Of(),kr());return Ft(t,r,h,a),r.child}function Ky(t,r,a,l){var h=Pf();return h=h===null?null:{parent:Nt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&sc(r,null),Of(),$g(r),t!==null&&dl(t,r,l,!0),null}function fl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function nd(t,r,a,l,h){return Ys(r),a=Uf(t,r,a,l,void 0,h),l=jf(),t!==null&&!Lt?(zf(t,r,h),Ki(t,r,h)):(Be&&l&&Cf(r),r.flags|=1,Ft(t,r,a,h),r.child)}function Qy(t,r,a,l,h,d){return Ys(r),r.updateQueue=null,a=Jg(r,l,a,h),Zg(t),l=jf(),t!==null&&!Lt?(zf(t,r,d),Ki(t,r,d)):(Be&&l&&Cf(r),r.flags|=1,Ft(t,r,a,d),r.child)}function $y(t,r,a,l,h){if(Ys(r),r.stateNode===null){var d=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Xt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},md(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Xt(v):Pa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ed.enqueueReplaceState(d,d.state,null),gl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,C=Qs(a,b);d.props=C;var U=d.context,W=a.contextType;v=Pa,typeof W=="object"&&W!==null&&(v=Xt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==v)&&My(r,d,l,v),Lr=!1;var Q=r.memoizedState;d.state=Q,gl(r,l,d,h),pl(),U=r.memoizedState,b||Q!==U||Lr?(typeof te=="function"&&(Jf(r,a,te,l),U=r.memoizedState),(C=Lr||ky(r,a,C,l,Q,U,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,pd(t,r),v=r.memoizedProps,W=Qs(a,v),d.props=W,te=r.pendingProps,Q=d.context,U=a.contextType,C=Pa,typeof U=="object"&&U!==null&&(C=Xt(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||Q!==C)&&My(r,d,l,C),Lr=!1,Q=r.memoizedState,d.state=Q,gl(r,l,d,h),pl();var X=r.memoizedState;v!==te||Q!==X||Lr||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof b=="function"&&(Jf(r,a,b,l),X=r.memoizedState),(W=Lr||ky(r,a,W,l,Q,X,C)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,fl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Hs(r,t.child,null,h),r.child=Hs(r,null,a,h)):Ft(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Ki(t,r,h),t}function Yy(t,r,a,l){return tl(),r.flags|=256,Ft(t,r,a,l),r.child}var id={dehydrated:null,treeContext:null,retryLane:0};function rd(t){return{baseLanes:t,cachePool:Wg()}}function sd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Hn),t}function Xy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Or(r):kr(),Be){var b=qt,C;if(C=b){e:{for(C=b,b=pi;C.nodeType!==8;){if(!b){b=null;break e}if(C=Wn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:js!==null?{id:Hi,overflow:qi}:null,retryLane:536870912},C=Bn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,ln=r,qt=null,C=!0):C=!1}C||Bs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;Fi(r)}return b=l.children,l=l.fallback,h?(kr(),h=r.mode,b=od({mode:"hidden",children:b},h),l=Ws(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=rd(a),h.childLanes=sd(t,v,a),r.memoizedState=id,l):(Or(r),ad(r,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(Or(r),r.flags&=-257,r=ld(t,r,a)):r.memoizedState!==null?(kr(),r.child=t.child,r.flags|=128,r=null):(kr(),h=l.fallback,b=r.mode,l=od({mode:"visible",children:l.children},b),h=Ws(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Hs(r,t.child,null,a),l=r.child,l.memoizedState=rd(a),l.childLanes=sd(t,v,a),r.memoizedState=id,r=h);else if(Or(r),b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=ld(t,r,a)}else if(Lt||dl(t,r,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=Xe,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Dr(t,l),un(v,t,l),By}b.data==="$?"||Pd(),r=ld(t,r,a)}else b.data==="$?"?(r.flags|=128,r.child=t.child,r=cS.bind(null,t),b._reactRetry=r,r=null):(t=C.treeContext,qt=Wn(b.nextSibling),ln=r,Be=!0,Yn=null,pi=!1,t!==null&&(Pn[Ln++]=Hi,Pn[Ln++]=qi,Pn[Ln++]=js,Hi=t.id,qi=t.overflow,js=r),r=ad(r,l.children),r.flags|=4096);return r}return h?(kr(),h=l.fallback,b=r.mode,C=t.child,U=C.sibling,l=qr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=qr(U,h):(h=Ws(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=rd(a):(C=b.cachePool,C!==null?(U=Nt._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=Wg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=sd(t,v,a),r.memoizedState=id,l):(Or(r),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function ad(t,r){return r=od({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function od(t,r){return b_(t,r,0,null)}function ld(t,r,a){return Hs(r,t.child,null,a),t=ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),fd(t.return,r,a)}function ud(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ft(t,r,l.children,a),l=Ct.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,r);else if(t.tag===19)Wy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ud(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(r,!0,a,null,d);break;case"together":ud(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ki(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fr|=r.lanes,!(a&r.childLanes))if(t!==null){if(dl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=qr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function cd(t,r){return t.lanes&r?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function Xw(t,r,a){switch(r.tag){case 3:pr(r,r.stateNode.containerInfo),Pr(r,Nt,t.memoizedState.cache),tl();break;case 27:case 5:Do(r);break;case 4:pr(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):a&r.child.childLanes?Xy(t,r,a):(Or(r),t=Ki(t,r,a),t!==null?t.sibling:null);Or(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Zy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Gy(t,r,a);case 24:Pr(r,Nt,t.memoizedState.cache)}return Ki(t,r,a)}function Jy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!cd(t,a)&&!(r.flags&128))return Lt=!1,Xw(t,r,a);Lt=!!(t.flags&131072)}else Lt=!1,Be&&r.flags&1048576&&Lg(r,Ju,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")wd(l)?(t=Qs(l,t),r.tag=1,r=$y(null,r,l,t,a)):(r.tag=0,r=nd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===O){r.tag=11,r=Hy(null,r,l,t,a);break e}else if(h===K){r.tag=14,r=qy(null,r,l,t,a);break e}}throw r=I(l)||l,Error(s(306,r,""))}}return r;case 0:return nd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Qs(l,r.pendingProps),$y(t,r,l,h,a);case 3:e:{if(pr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,pd(t,r),gl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Pr(r,Nt,d),d!==h.cache&&dd(r,[Nt],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Yy(t,r,d,a);break e}else if(d!==l){l=Vn(Error(s(424)),r),nl(l),r=Yy(t,r,d,a);break e}else for(qt=Wn(r.stateNode.containerInfo.firstChild),ln=r,Be=!0,Yn=null,pi=!0,a=Kg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){r=Ki(t,r,a);break e}Ft(t,r,d,a)}r=r.child}return r;case 26:return fl(t,r),t===null?(a=nv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Oc(In.current).createElement(a),l[Mt]=r,l[St]=t,Gt(l,a,t),et(l),r.stateNode=l):r.memoizedState=nv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Do(r),t===null&&Be&&(l=r.stateNode=J_(r.type,r.pendingProps,In.current),ln=r,pi=!0,qt=Wn(l.firstChild)),l=r.pendingProps.children,t!==null||Be?Ft(t,r,l,a):r.child=Hs(r,null,l,a),fl(t,r),r.child;case 5:return t===null&&Be&&((h=l=qt)&&(l=RS(l,r.type,r.pendingProps,pi),l!==null?(r.stateNode=l,ln=r,qt=Wn(l.firstChild),pi=!1,h=!0):h=!1),h||Bs(r)),Do(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Uf(t,r,qw,null,null,a),Dl._currentValue=h),fl(t,r),Ft(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=qt)&&(a=IS(a,r.pendingProps,pi),a!==null?(r.stateNode=a,ln=r,qt=null,t=!0):t=!1),t||Bs(r)),null;case 13:return Xy(t,r,a);case 4:return pr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Hs(r,null,l,a):Ft(t,r,l,a),r.child;case 11:return Hy(t,r,r.type,r.pendingProps,a);case 7:return Ft(t,r,r.pendingProps,a),r.child;case 8:return Ft(t,r,r.pendingProps.children,a),r.child;case 12:return Ft(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Ft(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ys(r),h=Xt(h),l=l(h),r.flags|=1,Ft(t,r,l,a),r.child;case 14:return qy(t,r,r.type,r.pendingProps,a);case 15:return Fy(t,r,r.type,r.pendingProps,a);case 19:return Zy(t,r,a);case 22:return Gy(t,r,a);case 24:return Ys(r),l=Xt(Nt),t===null?(h=Pf(),h===null&&(h=Xe,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},md(r),Pr(r,Nt,h)):(t.lanes&a&&(pd(t,r),gl(r,null,null,a),pl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Pr(r,Nt,l)):(l=d.cache,Pr(r,Nt,l),l!==h.cache&&dd(r,[Nt],a,!0))),Ft(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var hd=je(null),$s=null,Qi=null;function Pr(t,r,a){Ke(hd,r._currentValue),r._currentValue=a}function $i(t){t._currentValue=hd.current,rt(hd)}function fd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function dd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),fd(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),fd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;vn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===mr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&dd(r,t,a,l),r.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){$s=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return e_($s,t)}function yc(t,r){return $s===null&&Ys(t),e_(t,r)}function e_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Qi=Qi.next=r;return a}var Lr=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,nt&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Wu(t),Vg(t,null,a),r}return Xu(t,l,r,a),Wu(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Tr(t,a)}}function gd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yd=!1;function pl(){if(yd){var t=Ha;if(t!==null)throw t}}function gl(t,r,a,l){yd=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,U=C.next;C.next=null,v===null?d=U:v.next=U,v=C;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==v&&(b===null?W.firstBaseUpdate=U:b.next=U,W.lastBaseUpdate=C))}if(d!==null){var te=h.baseState;v=0,W=U=C=null,b=d;do{var Q=b.lane&-536870913,X=Q!==b.lane;if(X?(Le&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ba&&(yd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,Ae=b;Q=r;var lt=a;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){te=fe.call(lt,te,Q);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,Q=typeof fe=="function"?fe.call(lt,te,Q):fe,Q==null)break e;te=N({},te,Q);break e;case 2:Lr=!0}}Q=b.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(U=W=X,C=te):W=W.next=X,v|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(C=te),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Fr|=v,t.lanes=v,t.memoizedState=te}}function t_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function n_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)t_(a[t],r)}function yl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Ye(r,r.return,b)}}function zr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var C=a;try{b()}catch(U){Ye(h,C,U)}}}l=l.next}while(l!==d)}}catch(U){Ye(r,r.return,U)}}function i_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{n_(r,a)}catch(l){Ye(t,t.return,l)}}}function r_(t,r,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Xs(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ye(t,r,d)}}function En(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,r,h)}else a.current=null}function s_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function a_(t,r,a){try{var l=t.stateNode;TS(l,t.type,a,r),l[St]=r}catch(h){Ye(t,t.return,h)}}function o_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(vd(t,r,a),t=t.sibling;t!==null;)vd(t,r,a),t=t.sibling}function _c(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_c(t,r,a),t=t.sibling;t!==null;)_c(t,r,a),t=t.sibling}var Yi=!1,at=!1,Ed=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,u_=!1;function Ww(t,r){if(t=t.containerInfo,$d=Uc,t=Rg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,U=0,W=0,te=t,Q=null;t:for(;;){for(var X;te!==a||h!==0&&te.nodeType!==3||(b=v+h),te!==d||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(X=te.firstChild)!==null;)Q=te,te=X;for(;;){if(te===t)break t;if(Q===a&&++U===h&&(b=v),Q===d&&++W===l&&(C=v),(X=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=X}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Uc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Ye(a,a.return,Ae)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}return fe=u_,u_=!1,fe}function c_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&yl(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){Ye(a,a.return,b)}else{var h=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Ye(a,a.return,b)}}l&64&&i_(a),l&512&&Xs(a,a.return);break;case 3:if(Wi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{n_(l,t)}catch(b){Ye(a,a.return,b)}}break;case 26:Wi(t,a),l&512&&Xs(a,a.return);break;case 27:case 5:Wi(t,a),r===null&&l&4&&s_(a),l&512&&Xs(a,a.return);break;case 12:Wi(t,a);break;case 13:Wi(t,a),l&4&&d_(t,a);break;case 22:if(h=a.memoizedState!==null||Yi,!h){r=r!==null&&r.memoizedState!==null||at;var d=Yi,v=at;Yi=h,(at=r)&&!v?Br(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Yi=d,at=v}l&512&&(a.memoizedProps.mode==="manual"?Xs(a,a.return):En(a,a.return));break;default:Wi(t,a)}}function h_(t){var r=t.alternate;r!==null&&(t.alternate=null,h_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Rs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Tn=!1;function Xi(t,r,a){for(a=a.child;a!==null;)f_(t,r,a),a=a.sibling}function f_(t,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(gr,a)}catch{}switch(a.tag){case 26:at||En(a,r),Xi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||En(a,r);var l=vt,h=Tn;for(vt=a.stateNode,Xi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Rs(a),vt=l,Tn=h;break;case 5:at||En(a,r);case 6:h=vt;var d=Tn;if(vt=null,Xi(t,r,a),vt=h,Tn=d,vt!==null)if(Tn)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,r,v)}else try{vt.removeChild(a.stateNode)}catch(v){Ye(a,r,v)}break;case 18:vt!==null&&(Tn?(r=vt,a=a.stateNode,r.nodeType===8?Zd(r.parentNode,a):r.nodeType===1&&Zd(r,a),Vl(r)):Zd(vt,a.stateNode));break;case 4:l=vt,h=Tn,vt=a.stateNode.containerInfo,Tn=!0,Xi(t,r,a),vt=l,Tn=h;break;case 0:case 11:case 14:case 15:at||zr(2,a,r),at||zr(4,a,r),Xi(t,r,a);break;case 1:at||(En(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,r,l)),Xi(t,r,a);break;case 21:Xi(t,r,a);break;case 22:at||En(a,r),at=(l=at)||a.memoizedState!==null,Xi(t,r,a),at=l;break;default:Xi(t,r,a)}}function d_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){Ye(r,r.return,a)}}function Zw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new l_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new l_),r;default:throw Error(s(435,t.tag))}}function Td(t,r){var a=Zw(t);r.forEach(function(l){var h=hS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function jn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:case 5:vt=b.stateNode,Tn=!1;break e;case 3:vt=b.stateNode.containerInfo,Tn=!0;break e;case 4:vt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(vt===null)throw Error(s(160));f_(d,v,h),vt=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)m_(r,t),r=r.sibling}var Xn=null;function m_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(r,t),zn(t),l&4&&(zr(3,t,t.return),yl(3,t),zr(5,t,t.return));break;case 1:jn(r,t),zn(t),l&512&&(at||a===null||En(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(jn(r,t),zn(t),l&512&&(at||a===null||En(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ar]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Mt]=t,et(d),l=d;break e;case"link":var v=sv("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=sv("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,et(d),l=d}t.stateNode=l}else av(h,t.type,t.stateNode);else t.stateNode=rv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(h,t.type,t.stateNode):rv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&a_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,W=C.nodeName;C[Ar]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var te=t.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);Gt(h,te,d),h[Mt]=t,h[St]=d}catch(fe){Ye(t,t.return,fe)}}case 5:if(jn(r,t),zn(t),l&512&&(at||a===null||En(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(fe){Ye(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,a_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(jn(r,t),zn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ye(t,t.return,fe)}}break;case 3:if(Vc=null,h=Xn,Xn=kc(r.containerInfo),jn(r,t),Xn=h,zn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(fe){Ye(t,t.return,fe)}Ed&&(Ed=!1,p_(t));break;case 4:l=Xn,Xn=kc(t.stateNode.containerInfo),jn(r,t),zn(t),Xn=l;break;case 12:jn(r,t),zn(t);break;case 13:jn(r,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xd=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 22:if(l&512&&(at||a===null||En(a,a.return)),C=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,W=Yi,te=at,Yi=W||C,at=te||U,jn(r,t),at=te,Yi=W,zn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Yi||at,a===null||U||r||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(h=U.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=U.stateNode,b=U.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(fe){Ye(U,U.return,fe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(fe){Ye(U,U.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(t,a))));break;case 19:jn(r,t),zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 21:break;default:jn(r,t),zn(t)}}function zn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(o_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=_d(t);_c(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(xn(v,""),l.flags&=-33);var b=_d(t);_c(t,b,v);break;case 3:case 4:var C=l.stateNode.containerInfo,U=_d(t);vd(t,U,C);break;default:throw Error(s(161))}}}catch(W){Ye(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function p_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;p_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)c_(t,r.alternate,r),r=r.sibling}function Ka(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:zr(4,r,r.return),Ka(r);break;case 1:En(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&r_(r,r.return,a),Ka(r);break;case 26:case 27:case 5:En(r,r.return),Ka(r);break;case 22:En(r,r.return),r.memoizedState===null&&Ka(r);break;default:Ka(r)}t=t.sibling}}function Br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Br(h,d,a),yl(4,d);break;case 1:if(Br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ye(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)t_(C[h],b)}catch(U){Ye(l,l.return,U)}}a&&v&64&&i_(d),Xs(d,d.return);break;case 26:case 27:case 5:Br(h,d,a),a&&l===null&&v&4&&s_(d),Xs(d,d.return);break;case 12:Br(h,d,a);break;case 13:Br(h,d,a),a&&v&4&&d_(h,d);break;case 22:d.memoizedState===null&&Br(h,d,a),Xs(d,d.return);break;default:Br(h,d,a)}r=r.sibling}}function bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Ad(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t))}function Hr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)g_(t,r,a,l),r=r.sibling}function g_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Hr(t,r,a,l),h&2048&&yl(9,r);break;case 3:Hr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Hr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(r,r.return,C)}}else Hr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Hr(t,r,a,l):_l(t,r):d._visibility&4?Hr(t,r,a,l):(d._visibility|=4,Qa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&bd(r.alternate,r);break;case 24:Hr(t,r,a,l),h&2048&&Ad(r.alternate,r);break;default:Hr(t,r,a,l)}}function Qa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,b,C,h),yl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Qa(d,v,b,C,h):_l(d,v):(W._visibility|=4,Qa(d,v,b,C,h)),h&&U&2048&&bd(v.alternate,v);break;case 24:Qa(d,v,b,C,h),h&&U&2048&&Ad(v.alternate,v);break;default:Qa(d,v,b,C,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&bd(l.alternate,l);break;case 24:_l(a,l),h&2048&&Ad(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function $a(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 26:$a(t),t.flags&vl&&t.memoizedState!==null&&zS(Xn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=Xn;Xn=kc(t.stateNode.containerInfo),$a(t),Xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,$a(t),vl=r):$a(t));break;default:$a(t)}}function __(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,E_(l,t)}__(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)v_(t),t=t.sibling}function v_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&zr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,vc(t)):El(t);break;default:El(t)}}function vc(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,E_(l,t)}__(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:zr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,vc(r));break;default:vc(r)}t=t.sibling}}function E_(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(h_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}function Jw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,r,a,l){return new Jw(t,r,a,l)}function wd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,r){var a=t.alternate;return a===null?(a=Bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function T_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ec(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")wd(t)&&(v=1);else if(typeof t=="string")v=US(t,a,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ws(a.children,h,d,r);case g:v=8,h|=24;break;case T:return t=Bn(12,a,r,h|2),t.elementType=T,t.lanes=d,t;case G:return t=Bn(13,a,r,h),t.elementType=G,t.lanes=d,t;case P:return t=Bn(19,a,r,h),t.elementType=P,t.lanes=d,t;case Y:return b_(a,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case D:v=10;break e;case S:v=9;break e;case O:v=11;break e;case K:v=14;break e;case q:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Bn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ws(t,r,a,l){return t=Bn(7,t,l,r),t.lanes=a,t}function b_(t,r,a,l){t=Bn(22,t,l,r),t.elementType=Y,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Dr(d,2);v!==null&&(h._pendingVisibility|=2,un(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Dr(d,2);v!==null&&(h._pendingVisibility&=-3,un(v,d,2))}}};return t.stateNode=h,t}function Sd(t,r,a){return t=Bn(6,t,null,r),t.lanes=a,t}function Rd(t,r,a){return r=Bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Zi(t){t.flags|=4}function A_(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ov(r)){if(r=Un.current,r!==null&&((Le&4194176)===Le?gi!==null:(Le&62914560)!==Le&&!(Le&536870912)||r!==gi))throw rl=Df,zg;t.flags|=8192}}function Tc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?vr():536870912,t.lanes|=r,Xa|=r)}function Tl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function eS(t,r,a){var l=r.pendingProps;switch(Nf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Nt),Di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(r)?Zi(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Yn!==null&&(Md(Yn),Yn=null))),tt(r),null;case 26:return a=r.memoizedState,t===null?(Zi(r),a!==null?(tt(r),A_(r,a)):(tt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Zi(r),tt(r),A_(r,a)):(tt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Zi(r),tt(r),r.flags&=-16777217),null;case 27:pa(r),a=In.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}t=rn.current,el(r)?Ug(r):(t=J_(h,l,a),r.stateNode=t,Zi(r))}return tt(r),null;case 5:if(pa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(t=rn.current,el(r))Ug(r);else{switch(h=Oc(In.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=r,t[St]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zi(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=In.current,el(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||Bs(r)}else t=Oc(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return tt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else tl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;tt(r),h=!1}else Yn!==null&&(Md(Yn),Yn=null),h=!0;if(!h)return r.flags&256?(Fi(r),r):(Fi(r),null)}if(Fi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Tc(r,r.updateQueue),tt(r),null;case 4:return Di(),t===null&&Gd(r.stateNode.containerInfo),tt(r),null;case 10:return $i(r.type),tt(r),null;case 19:if(rt(Ct),h=r.memoizedState,h===null)return tt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(d=rc(t),d!==null){for(r.flags|=128,Tl(h,!1),t=d.updateQueue,r.updateQueue=t,Tc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)T_(a,t),a=a.sibling;return Ke(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&hn()>bc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(t=rc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Tc(r,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return tt(r),null}else 2*hn()-h.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=hn(),r.sibling=null,t=Ct.current,Ke(Ct,l?t&1|2:t&1),r):(tt(r),null);case 22:case 23:return Fi(r),kf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Tc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&rt(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Nt),tt(r),null;case 25:return null}throw Error(s(156,r.tag))}function tS(t,r){switch(Nf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return $i(Nt),Di(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return pa(r),null;case 13:if(Fi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return rt(Ct),null;case 4:return Di(),null;case 10:return $i(r.type),null;case 22:case 23:return Fi(r),kf(),t!==null&&rt(qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return $i(Nt),null;case 25:return null;default:return null}}function w_(t,r){switch(Nf(r),r.tag){case 3:$i(Nt),Di();break;case 26:case 27:case 5:pa(r);break;case 4:Di();break;case 13:Fi(r);break;case 19:rt(Ct);break;case 10:$i(r.type);break;case 22:case 23:Fi(r),kf(),t!==null&&rt(qs);break;case 24:$i(Nt)}}var nS={getCacheForType:function(t){var r=Xt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},iS=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,xe=null,Le=0,We=0,bn=null,Ji=!1,Ya=!1,Id=!1,er=0,ot=0,Fr=0,Zs=0,Cd=0,Hn=0,Xa=0,bl=null,_i=null,Nd=!1,xd=0,bc=1/0,Ac=null,Gr=null,wc=!1,Js=null,Al=0,Dd=0,Od=null,wl=0,kd=null;function An(){if(nt&2&&Le!==0)return Le&-Le;if(R.T!==null){var t=Ba;return t!==0?t:Bd()}return xu()}function S_(){Hn===0&&(Hn=!(Le&536870912)||Be?Po():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Hn}function un(t,r,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Wa(t,0),tr(t,Le,Hn,!1)),ht(t,a),(!(nt&2)||t!==Xe)&&(t===Xe&&(!(nt&2)&&(Zs|=a),ot===4&&tr(t,Le,Hn,!1)),vi(t))}function R_(t,r,a){if(nt&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||_r(t,r),h=l?aS(t,r):Ld(t,r,!0),d=l;do{if(h===0){Ya&&!l&&tr(t,r,0,!1);break}else if(h===6)tr(t,r,0,!Ji);else{if(a=t.current.alternate,d&&!rS(a)){h=Ld(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;h=bl;var C=b.current.memoizedState.isDehydrated;if(C&&(Wa(b,v).flags|=256),v=Ld(b,v,!1),v!==2){if(Id&&!C){b.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=_i,_i=h,d!==null&&Md(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Wa(t,0),tr(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){tr(l,r,Hn,!Ji);break e}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=xd+300-hn(),10<d)){if(tr(l,r,Hn,!Ji),Cn(l,0)!==0)break e;l.timeoutHandle=X_(I_.bind(null,l,a,_i,Ac,Nd,r,Hn,Zs,Xa,Ji,2,-0,0),d);break e}I_(l,a,_i,Ac,Nd,r,Hn,Zs,Xa,Ji,0,-0,0)}}break}while(!0);vi(t)}function Md(t){_i===null?_i=t:_i.push.apply(_i,t)}function I_(t,r,a,l,h,d,v,b,C,U,W,te,Q){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:jS},y_(r),r=BS(),r!==null)){t.cancelPendingCommit=r(M_.bind(null,t,a,l,h,v,b,C,1,te,Q)),tr(t,d,v,!U);return}M_(t,a,l,h,v,b,C,W,te,Q)}function rS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(t,r,a,l){r&=~Cd,r&=~Zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-sn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Er(t,a,r)}function Sc(){return nt&6?!0:(Sl(0),!1)}function Vd(){if(xe!==null){if(We===0)var t=xe.return;else t=xe,Qi=$s=null,Bf(t),ja=null,sl=0,t=xe;for(;t!==null;)w_(t.alternate,t),t=t.return;xe=null}}function Wa(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),Xe=t,xe=a=qr(t.current,null),Le=r,We=0,bn=null,Ji=!1,Ya=_r(t,r),Id=!1,Xa=Hn=Cd=Zs=Fr=ot=0,_i=bl=null,Nd=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-sn(l),d=1<<h;r|=t[h],l&=~d}return er=r,Yu(),a}function C_(t,r){Ce=null,R.H=yi,r===il?(r=qg(),We=3):r===zg?(r=qg(),We=4):We=r===By?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,xe===null&&(ot=1,pc(t,Vn(r,t.current)))}function N_(){var t=R.H;return R.H=yi,t===null?yi:t}function x_(){var t=R.A;return R.A=nS,t}function Pd(){ot=4,Ji||(Le&4194176)!==Le&&Un.current!==null||(Ya=!0),!(Fr&134217727)&&!(Zs&134217727)||Xe===null||tr(Xe,Le,Hn,!1)}function Ld(t,r,a){var l=nt;nt|=2;var h=N_(),d=x_();(Xe!==t||Le!==r)&&(Ac=null,Wa(t,r)),r=!1;var v=ot;e:do try{if(We!==0&&xe!==null){var b=xe,C=bn;switch(We){case 8:Vd(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(r=!0);var U=We;if(We=0,bn=null,Za(t,b,C,U),a&&Ya){v=0;break e}break;default:U=We,We=0,bn=null,Za(t,b,C,U)}}sS(),v=ot;break}catch(W){C_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Qi=$s=null,nt=l,R.H=h,R.A=d,xe===null&&(Xe=null,Le=0,Yu()),v}function sS(){for(;xe!==null;)D_(xe)}function aS(t,r){var a=nt;nt|=2;var l=N_(),h=x_();Xe!==t||Le!==r?(Ac=null,bc=hn()+500,Wa(t,r)):Ya=_r(t,r);e:do try{if(We!==0&&xe!==null){r=xe;var d=bn;t:switch(We){case 1:We=0,bn=null,Za(t,r,d,1);break;case 2:if(Bg(d)){We=0,bn=null,O_(r);break}r=function(){We===2&&Xe===t&&(We=7),vi(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Bg(d)?(We=0,bn=null,O_(r)):(We=0,bn=null,Za(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var b=xe;if(!v||ov(v)){We=0,bn=null;var C=b.sibling;if(C!==null)xe=C;else{var U=b.return;U!==null?(xe=U,Rc(U)):xe=null}break t}}We=0,bn=null,Za(t,r,d,5);break;case 6:We=0,bn=null,Za(t,r,d,6);break;case 8:Vd(),ot=6;break e;default:throw Error(s(462))}}oS();break}catch(W){C_(t,W)}while(!0);return Qi=$s=null,R.H=l,R.A=h,nt=a,xe!==null?0:(Xe=null,Le=0,Yu(),ot)}function oS(){for(;xe!==null&&!hf();)D_(xe)}function D_(t){var r=Jy(t.alternate,t,er);t.memoizedProps=t.pendingProps,r===null?Rc(t):xe=r}function O_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Qy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Qy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Bf(r);default:w_(a,r),r=xe=T_(r,er),r=Jy(a,r,er)}t.memoizedProps=t.pendingProps,r===null?Rc(t):xe=r}function Za(t,r,a,l){Qi=$s=null,Bf(r),ja=null,sl=0;var h=r.return;try{if(Yw(t,h,r,a,Le)){ot=1,pc(t,Vn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ot=1,pc(t,Vn(a,t.current)),xe=null;return}r.flags&32768?(Be||l===1?t=!0:Ya||Le&536870912?t=!1:(Ji=t=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(r,t)):Rc(r)}function Rc(t){var r=t;do{if(r.flags&32768){k_(r,Ji);return}t=r.return;var a=eS(r.alternate,r,er);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ot===0&&(ot=5)}function k_(t,r){do{var a=tS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ot=6,xe=null}function M_(t,r,a,l,h,d,v,b,C,U){var W=R.T,te=oe.p;try{oe.p=2,R.T=null,lS(t,r,a,l,te,h,d,v,b,C,U)}finally{R.T=W,oe.p=te}}function lS(t,r,a,l,h,d,v,b){do Ja();while(Js!==null);if(nt&6)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Rf,Cu(t,l,U,d,v,b),t===Xe&&(xe=Xe=null,Le=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||wc||(wc=!0,Dd=U,Od=a,fS(Oi,function(){return Ja(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=R.T,R.T=null,d=oe.p,oe.p=2,v=nt,nt|=4,Ww(t,C),m_(C,t),Ow(Yd,t.containerInfo),Uc=!!$d,Yd=$d=null,t.current=C,c_(t,C.alternate,C),Oo(),nt=v,oe.p=d,R.T=a):t.current=C,wc?(wc=!1,Js=t,Al=l):V_(t,U),U=t.pendingLanes,U===0&&(Gr=null),Mo(C.stateNode),vi(t),r!==null)for(h=t.onRecoverableError,C=0;C<r.length;C++)U=r[C],h(U.value,{componentStack:U.stack});return Al&3&&Ja(),U=t.pendingLanes,l&4194218&&U&42?t===kd?wl++:(wl=0,kd=t):wl=0,Sl(0),null}function V_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ol(r)))}function Ja(){if(Js!==null){var t=Js,r=Dd;Dd=0;var a=Nu(Al),l=R.T,h=oe.p;try{if(oe.p=32>a?32:a,R.T=null,Js===null)var d=!1;else{a=Od,Od=null;var v=Js,b=Al;if(Js=null,Al=0,nt&6)throw Error(s(331));var C=nt;if(nt|=4,v_(v.current),g_(v,v.current,b,a),nt=C,Sl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(gr,v)}catch{}d=!0}return d}finally{oe.p=h,R.T=l,V_(t,r)}}return!1}function P_(t,r,a){r=Vn(a,r),r=td(t.stateNode,r,2),t=jr(t,r,2),t!==null&&(ht(t,2),vi(t))}function Ye(t,r,a){if(t.tag===3)P_(t,t,a);else for(;r!==null;){if(r.tag===3){P_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Vn(a,t),a=jy(2),l=jr(r,a,2),l!==null&&(zy(a,l,r,t),ht(l,2),vi(l));break}}r=r.return}}function Ud(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new iS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=uS.bind(null,t,r,a),r.then(t,t))}function uS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Le&a)===a&&(ot===4||ot===3&&(Le&62914560)===Le&&300>hn()-xd?!(nt&2)&&Wa(t,0):Cd|=a,Xa===Le&&(Xa=0)),vi(t)}function L_(t,r){r===0&&(r=vr()),t=Dr(t,r),t!==null&&(ht(t,r),vi(t))}function cS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),L_(t,a)}function hS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),L_(t,a)}function fS(t,r){return As(t,r)}var Ic=null,eo=null,jd=!1,Cc=!1,zd=!1,ea=0;function vi(t){t!==eo&&t.next===null&&(eo===null?Ic=eo=t:eo=eo.next=t),Cc=!0,jd||(jd=!0,mS(dS))}function Sl(t,r){if(!zd&&Cc){zd=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-sn(42|t)+1)-1,d&=h&~(v&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,z_(l,d))}else d=Le,d=Cn(l,l===Xe?d:0),!(d&3)||_r(l,d)||(a=!0,z_(l,d));l=l.next}while(a);zd=!1}}function dS(){Cc=jd=!1;var t=0;ea!==0&&(bS()&&(t=ea),ea=0);for(var r=hn(),a=null,l=Ic;l!==null;){var h=l.next,d=U_(l,r);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||d&3)&&(Cc=!0)),l=h}Sl(t)}function U_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-sn(d),b=1<<v,C=h[v];C===-1?(!(b&a)||b&l)&&(h[v]=_a(b,r)):C<=r&&(t.expiredLanes|=b),d&=~b}if(r=Xe,a=Le,a=Cn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&We===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||_r(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ya(l),Nu(a)){case 2:case 8:a=kt;break;case 32:a=Oi;break;case 268435456:a=ko;break;default:a=Oi}return l=j_.bind(null,t),a=As(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ya(l),t.callbackPriority=2,t.callbackNode=null,2}function j_(t,r){var a=t.callbackNode;if(Ja()&&t.callbackNode!==a)return null;var l=Le;return l=Cn(t,t===Xe?l:0),l===0?null:(R_(t,l,r),U_(t,hn()),t.callbackNode!=null&&t.callbackNode===a?j_.bind(null,t):null)}function z_(t,r){if(Ja())return null;R_(t,r,!0)}function mS(t){wS(function(){nt&6?As(wt,t):t()})}function Bd(){return ea===0&&(ea=Po()),ea}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:li(""+t)}function H_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function pS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=B_((h[St]||null).action),v=l.submitter;v&&(r=(r=v[St]||null)?B_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Sa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var C=v?H_(h,v):new FormData(h);Xf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?H_(h,v):new FormData(h),Xf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Hd=0;Hd<Mg.length;Hd++){var qd=Mg[Hd],gS=qd.toLowerCase(),yS=qd[0].toUpperCase()+qd.slice(1);$n(gS,"on"+yS)}$n(Ng,"onAnimationEnd"),$n(xg,"onAnimationIteration"),$n(Dg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Mw,"onTransitionRun"),$n(Vw,"onTransitionStart"),$n(Pw,"onTransitionCancel"),$n(Og,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function q_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],C=b.instance,U=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=U;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(b=l[v],C=b.instance,U=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=U;try{d(h)}catch(W){mc(W)}h.currentTarget=null,d=C}}}}function Me(t,r){var a=r[Ss];a===void 0&&(a=r[Ss]=new Set);var l=t+"__bubble";a.has(l)||(F_(r,t,2,!1),a.add(l))}function Fd(t,r,a){var l=0;r&&(l|=4),F_(a,t,l,r)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Nc]){t[Nc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(_S.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Nc]||(r[Nc]=!0,Fd("selectionchange",!1,r))}}function F_(t,r,a,l){switch(dv(r)){case 2:var h=FS;break;case 8:h=GS;break;default:h=rm}a=h.bind(null,r,a,t),h=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Kd(t,r,a,l,h){var d=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;b!==null;){if(v=Qn(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Mu(function(){var U=d,W=wa(a),te=[];e:{var Q=kg.get(t);if(Q!==void 0){var X=Sa,fe=t;switch(t){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":X=Da;break;case"focusin":fe="focus",X=Ca;break;case"focusout":fe="blur",X=Ca;break;case"beforeblur":case"afterblur":X=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Hu;break;case Ng:case xg:case Dg:X=Na;break;case Og:X=Fu;break;case"scroll":case"scrollend":X=Vu;break;case"wheel":X=Oa;break;case"copy":case"cut":case"paste":X=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xo;break;case"toggle":case"beforetoggle":X=Ku}var Ae=(r&4)!==0,lt=!Ae&&(t==="scroll"||t==="scrollend"),j=Ae?Q!==null?Q+"Capture":null:Q;Ae=[];for(var V=U,F;V!==null;){var Z=V;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||j===null||(Z=xs(V,j),Z!=null&&Ae.push(Il(V,Z,F))),lt)break;V=V.return}0<Ae.length&&(Q=new X(Q,fe,null,a,W),te.push({event:Q,listeners:Ae}))}}if(!(r&7)){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==Dn&&(fe=a.relatedTarget||a.fromElement)&&(Qn(fe)||fe[ki]))break e;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(fe=a.relatedTarget||a.toElement,X=U,fe=fe?Qn(fe):null,fe!==null&&(lt=pe(fe),Ae=fe.tag,fe!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(X=null,fe=U),X!==fe)){if(Ae=kn,Z="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Xo,Z="onPointerLeave",j="onPointerEnter",V="pointer"),lt=X==null?Q:wr(X),F=fe==null?Q:wr(fe),Q=new Ae(Z,V+"leave",X,a,W),Q.target=lt,Q.relatedTarget=F,Z=null,Qn(W)===U&&(Ae=new Ae(j,V+"enter",fe,a,W),Ae.target=F,Ae.relatedTarget=lt,Z=Ae),lt=Z,X&&fe)t:{for(Ae=X,j=fe,V=0,F=Ae;F;F=to(F))V++;for(F=0,Z=j;Z;Z=to(Z))F++;for(;0<V-F;)Ae=to(Ae),V--;for(;0<F-V;)j=to(j),F--;for(;V--;){if(Ae===j||j!==null&&Ae===j.alternate)break t;Ae=to(Ae),j=to(j)}Ae=null}else Ae=null;X!==null&&G_(te,Q,X,Ae,!1),fe!==null&&lt!==null&&G_(te,lt,fe,Ae,!0)}}e:{if(Q=U?wr(U):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var he=_g;else if(It(Q))if(vg)he=xw;else{he=Cw;var Ne=Iw}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?U&&qo(U.elementType)&&(he=_g):he=Nw;if(he&&(he=he(t,U))){Bi(te,he,a,W);break e}Ne&&Ne(t,Q,U),t==="focusout"&&U&&Q.type==="number"&&U.memoizedProps.value!=null&&Aa(Q,"number",Q.value)}switch(Ne=U?wr(U):window,t){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(ka=Ne,Af=U,Jo=null);break;case"focusout":Jo=Af=ka=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Ig(te,a,W);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":Ig(te,a,W)}var me;if(di)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ve?$(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Ve||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ve&&(me=Go()):(ui=W,xr="value"in ui?ui.value:ui.textContent,Ve=!0)),Ne=xc(U,ye),0<Ne.length&&(ye=new $o(ye,t,null,a,W),te.push({event:ye,listeners:Ne}),me?ye.data=me:(me=re(a),me!==null&&(ye.data=me)))),(me=y?Rt(t,a):Pe(t,a))&&(ye=xc(U,"onBeforeInput"),0<ye.length&&(Ne=new $o("onBeforeInput","beforeinput",null,a,W),te.push({event:Ne,listeners:ye}),Ne.data=me)),pS(te,t,U,a,W)}q_(te,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function xc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=xs(t,a),h!=null&&l.unshift(Il(t,h,d)),h=xs(t,r),h!=null&&l.push(Il(t,h,d))),t=t.return}return l}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,C=b.alternate,U=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||U===null||(C=U,h?(U=xs(a,d),U!=null&&v.unshift(Il(a,U,C))):h||(U=xs(a,d),U!=null&&v.push(Il(a,U,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(vS,`
`).replace(ES,"")}function Q_(t,r){return r=K_(r),K_(t)===r}function Dc(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":Ir(t,"class",l);break;case"tabIndex":Ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(t,a,l);break;case"style":ku(t,l,d);break;case"data":if(r!=="object"){Ir(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=li(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=li(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=li(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Rr(t,"popover",l);break;case"xlinkActuate":Nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,Rr(t,a,l))}}function Qd(t,r,a,l,h,d){switch(a){case"style":ku(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[St]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Rr(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,v,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=d=v=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":U=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:$e(t,r,l,W,a,null)}}Cs(t,d,b,C,U,v,h,!1),Is(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:$e(t,r,h,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?ze(t,!!l,r,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:$e(t,r,v,b,a,null)}Nr(t,l,h,d),Is(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,C,l,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Me(Rl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,U,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(t,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&$e(t,r,b,l,a,null))}function TS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,U=null,W=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(X)||$e(t,r,X,null,l,te)}}for(var Q in l){var X=l[Q];if(te=a[Q],l.hasOwnProperty(Q)&&(X!=null||te!=null))switch(Q){case"type":d=X;break;case"name":h=X;break;case"checked":U=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&$e(t,r,Q,X,l,te)}}Cr(t,v,b,C,U,W,d,h);return;case"select":X=v=b=Q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Q=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&$e(t,r,h,d,l,C)}r=b,a=v,l=X,Q!=null?ze(t,!!a,Q,!1):!!l!=!!a&&(r!=null?ze(t,!!a,r,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$e(t,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,v,h,l,d)}Ns(t,Q,X);return;case"option":for(var fe in a)if(Q=a[fe],a.hasOwnProperty(fe)&&Q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:$e(t,r,fe,null,l,Q)}for(C in l)if(Q=l[C],X=a[C],l.hasOwnProperty(C)&&Q!==X&&(Q!=null||X!=null))switch(C){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:$e(t,r,C,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)Q=a[Ae],a.hasOwnProperty(Ae)&&Q!=null&&!l.hasOwnProperty(Ae)&&$e(t,r,Ae,null,l,Q);for(U in l)if(Q=l[U],X=a[U],l.hasOwnProperty(U)&&Q!==X&&(Q!=null||X!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:$e(t,r,U,Q,l,X)}return;default:if(qo(r)){for(var lt in a)Q=a[lt],a.hasOwnProperty(lt)&&Q!==void 0&&!l.hasOwnProperty(lt)&&Qd(t,r,lt,void 0,l,Q);for(W in l)Q=l[W],X=a[W],!l.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||Qd(t,r,W,Q,l,X);return}}for(var j in a)Q=a[j],a.hasOwnProperty(j)&&Q!=null&&!l.hasOwnProperty(j)&&$e(t,r,j,null,l,Q);for(te in l)Q=l[te],X=a[te],!l.hasOwnProperty(te)||Q===X||Q==null&&X==null||$e(t,r,te,Q,l,X)}var $d=null,Yd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function bS(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(SS)}:X_;function SS(t){setTimeout(function(){throw t})}function Zd(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Vl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Vl(r)}function Jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),Rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function IS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function Z_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function J_(t,r,a){switch(r=Oc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var qn=new Map,ev=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var nr=oe.d;oe.d={f:CS,r:NS,D:xS,C:DS,L:OS,m:kS,X:VS,S:MS,M:PS};function CS(){var t=nr.f(),r=Sc();return t||r}function NS(t){var r=Mi(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):nr.r(t)}var no=typeof document>"u"?null:document;function tv(t,r,a){var l=no;if(l&&typeof r=="string"&&r){var h=st(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ev.has(h)||(ev.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),et(r),l.head.appendChild(r)))}}function xS(t){nr.D(t),tv("dns-prefetch",t,null)}function DS(t,r){nr.C(t,r),tv("preconnect",t,r)}function OS(t,r,a){nr.L(t,r,a);var l=no;if(l&&t&&r){var h='link[rel="preload"][as="'+st(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(r){case"style":d=io(t);break;case"script":d=ro(t)}qn.has(d)||(t=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),qn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),Gt(r,"link",t),et(r),l.head.appendChild(r)))}}function kS(t,r){nr.m(t,r);var a=no;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!qn.has(d)&&(t=N({rel:"modulepreload",href:t},r),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Gt(l,"link",t),et(l),a.head.appendChild(l)}}}function MS(t,r,a){nr.S(t,r,a);var l=no;if(l&&t){var h=Sr(l).hoistableStyles,d=io(t);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Cl(d)))b.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":r},a),(a=qn.get(d))&&em(t,a);var C=v=l.createElement("link");et(C),Gt(C,"link",t),C._p=new Promise(function(U,W){C.onload=U,C.onerror=W}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Mc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function VS(t,r){nr.X(t,r);var a=no;if(a&&t){var l=Sr(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=N({src:t,async:!0},r),(r=qn.get(h))&&tm(t,r),d=a.createElement("script"),et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PS(t,r){nr.M(t,r);var a=no;if(a&&t){var l=Sr(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=N({src:t,async:!0,type:"module"},r),(r=qn.get(h))&&tm(t,r),d=a.createElement("script"),et(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nv(t,r,a,l){var h=(h=In.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=Sr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=Sr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||LS(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=Sr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+st(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function LS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),et(r),t.head.appendChild(r))}function ro(t){return'[src="'+st(t)+'"]'}function Nl(t){return"script[async]"+t}function rv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return r.instance=l,et(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),Gt(l,"style",h),Mc(l,a.precedence,t),r.instance=l;case"stylesheet":h=io(a.href);var d=t.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;l=iv(a),(h=qn.get(h))&&em(l,h),d=(t.ownerDocument||t).createElement("link"),et(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Gt(d,"link",l),r.state.loading|=4,Mc(d,a.precedence,t),r.instance=d;case"script":return d=ro(a.src),(h=t.querySelector(Nl(d)))?(r.instance=h,et(h),h):(l=a,(h=qn.get(d))&&(l=N({},a),tm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,Mc(l,a.precedence,t));return r.instance}function Mc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Vc=null;function sv(t,r,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ar]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function av(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function US(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var xl=null;function jS(){}function zS(t,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=io(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,et(d);return}d=t.ownerDocument||t,a=iv(a),(h=qn.get(h))&&em(a,h),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Gt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Pc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function BS(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,r.forEach(HS,t),Lc=null,Pc.call(t))}function HS(t,r){if(!(r.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Dl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function qS(t,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function lv(t,r,a,l,h,d,v,b,C,U,W,te){return t=new qS(t,r,a,v,b,C,U,te),r=1,d===!0&&(r|=24),d=Bn(3,null,null,r),t.current=d,d.stateNode=t,r=Mf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},md(d),t}function uv(t){return t?(t=Pa,t):Pa}function cv(t,r,a,l,h,d){h=uv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,r),a!==null&&(un(a,t,r),ml(a,t,r))}function hv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){hv(t,r),(t=t.alternate)&&hv(t,r)}function fv(t){if(t.tag===13){var r=Dr(t,67108864);r!==null&&un(r,t,67108864),im(t,67108864)}}var Uc=!0;function FS(t,r,a,l){var h=R.T;R.T=null;var d=oe.p;try{oe.p=2,rm(t,r,a,l)}finally{oe.p=d,R.T=h}}function GS(t,r,a,l){var h=R.T;R.T=null;var d=oe.p;try{oe.p=8,rm(t,r,a,l)}finally{oe.p=d,R.T=h}}function rm(t,r,a,l){if(Uc){var h=sm(l);if(h===null)Kd(t,r,l,jc,a),mv(t,l);else if(QS(h,t,r,a,l))l.stopPropagation();else if(mv(t,l),r&4&&-1<KS.indexOf(t)){for(;h!==null;){var d=Mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Kn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-sn(v);b.entanglements[1]|=C,v&=~C}vi(d),!(nt&6)&&(bc=hn()+500,Sl(0))}}break;case 13:b=Dr(d,2),b!==null&&un(b,d,2),Sc(),im(d,2)}if(d=sm(l),d===null&&Kd(t,r,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,a)}}function sm(t){return t=wa(t),am(t)}var jc=null;function am(t){if(jc=null,t=Qn(t),t!==null){var r=pe(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=qe(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return jc=t,null}function dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case wt:return 2;case kt:return 8;case Oi:case Su:return 32;case ko:return 268435456;default:return 32}default:return 32}}var om=!1,Kr=null,Qr=null,$r=null,Ol=new Map,kl=new Map,Yr=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,r){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Ml(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Mi(r),r!==null&&fv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function QS(t,r,a,l,h){switch(r){case"focusin":return Kr=Ml(Kr,t,r,a,l,h),!0;case"dragenter":return Qr=Ml(Qr,t,r,a,l,h),!0;case"mouseover":return $r=Ml($r,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ml(kl.get(d)||null,t,r,a,l,h)),!0}return!1}function pv(t){var r=Qn(t.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=qe(a),r!==null){t.blockedOn=r,br(t.priority,function(){if(a.tag===13){var l=An(),h=Dr(a,l);h!==null&&un(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dn=l,a.target.dispatchEvent(l),Dn=null}else return r=Mi(a),r!==null&&fv(r),t.blockedOn=a,!1;r.shift()}return!0}function gv(t,r,a){zc(t)&&a.delete(r)}function $S(){om=!1,Kr!==null&&zc(Kr)&&(Kr=null),Qr!==null&&zc(Qr)&&(Qr=null),$r!==null&&zc($r)&&($r=null),Ol.forEach(gv),kl.forEach(gv)}function Bc(t,r){t.blockedOn===r&&(t.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$S)))}var Hc=null;function yv(t){Hc!==t&&(Hc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=Mi(a);d!==null&&(t.splice(r,3),r-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(t){function r(C){return Bc(C,t)}Kr!==null&&Bc(Kr,t),Qr!==null&&Bc(Qr,t),$r!==null&&Bc($r,t),Ol.forEach(r),kl.forEach(r);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)pv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[St]||null;if(typeof d=="function")v||yv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[St]||null)b=v.formAction;else if(am(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),yv(a)}}}function lm(t){this._internalRoot=t}qc.prototype.render=lm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();cv(a,l,t,r,null,null)},qc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&Ja(),cv(t.current,2,null,t,null,null),Sc(),r[ki]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=xu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Yr.length&&r!==0&&r<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&pv(t)}};var _v=e.version;if(_v!=="19.0.0")throw Error(s(527,_v,"19.0.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(r),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var YS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{gr=Fc.inject(YS),Yt=Fc}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vy,d=Py,v=Ly,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=lv(t,1,!1,null,null,a,l,h,d,v,b,null),t[ki]=r.current,Gd(t.nodeType===8?t.parentNode:t),new lm(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Vy,v=Py,b=Ly,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=lv(t,1,!0,r,a??null,l,h,d,v,b,C,U),r.context=uv(null),a=r.current,l=An(),h=Ur(l),h.callback=null,jr(a,h,l),r.current.lanes=l,ht(r,l),vi(r),t[ki]=r.current,Gd(t),new qc(r)},Ll.version="19.0.0",Ll}var Cv;function s0(){if(Cv)return hm.exports;Cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=r0(),hm.exports}var a0=s0(),Ul={},Nv;function o0(){if(Nv)return Ul;Nv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,D){const O=new u,G=S.length;if(G<2)return O;const P=(D==null?void 0:D.decode)||T;let K=0;do{const q=S.indexOf("=",K);if(q===-1)break;const Y=S.indexOf(";",K),ie=Y===-1?G:Y;if(q>ie){K=S.lastIndexOf(";",q-1)+1;continue}const ue=m(S,K,q),Te=p(S,q,ue),M=S.slice(ue,Te);if(O[M]===void 0){let I=m(S,q+1,ie),R=p(S,ie,I);const N=P(S.slice(I,R));O[M]=N}K=ie+1}while(K<G);return O}function m(S,D,O){do{const G=S.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<O);return O}function p(S,D,O){for(;D>O;){const G=S.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return O}function g(S,D,O){const G=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=G(D);if(!e.test(P))throw new TypeError(`argument val is invalid: ${D}`);let K=S+"="+P;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!w(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function T(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Ul}o0();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function l0(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return xm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Jl(o)}return c0(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u0(){return Math.random().toString(36).substring(2,10)}function Dv(i,e){return{usr:i.state,key:i.key,idx:e}}function xm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||u0()}}function Jl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ao(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function c0(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let P=T(),K=P==null?null:P-g;g=P,p&&p({action:m,location:G.location,delta:K})}function S(P,K){m="PUSH";let q=xm(G.location,P,K);g=T()+1;let Y=Dv(q,g),ie=G.createHref(q);try{f.pushState(Y,"",ie)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ie)}u&&p&&p({action:m,location:G.location,delta:1})}function D(P,K){m="REPLACE";let q=xm(G.location,P,K);g=T();let Y=Dv(q,g),ie=G.createHref(q);f.replaceState(Y,"",ie),u&&p&&p({action:m,location:G.location,delta:0})}function O(P){let K=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof P=="string"?P:Jl(P);return q=q.replace(/ $/,"%20"),Je(K,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,K)}let G={get action(){return m},get location(){return i(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,w),p=P,()=>{o.removeEventListener(xv,w),p=null}},createHref(P){return e(o,P)},createURL:O,encodeLocation(P){let K=O(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:D,go(P){return f.go(P)}};return G}function pT(i,e,n="/"){return h0(i,e,n,!1)}function h0(i,e,n,s){let o=typeof e=="string"?Ao(e):e,u=ls(o.pathname||"/",n);if(u==null)return null;let f=gT(i);f0(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=A0(u);m=T0(f[p],g,s)}return m}function gT(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ar([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),gT(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:v0(g,u.index),routesMeta:T})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of yT(u.path))o(u,f,p)}),e}function yT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function f0(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:E0(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var d0=/^:[\w-]+$/,m0=3,p0=2,g0=1,y0=10,_0=-2,Ov=i=>i==="*";function v0(i,e){let n=i.split("/"),s=n.length;return n.some(Ov)&&(s+=_0),e&&(s+=p0),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(d0.test(u)?m0:u===""?g0:y0),s)}function E0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function T0(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ar([u,w.pathname]),pathnameBase:I0(ar([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ar([u,w.pathnameBase]))}return f}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=b0(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},S)=>{if(T==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const D=m[S];return w&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function b0(i,e=!1,n=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function A0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ls(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function w0(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ao(i):i;return{pathname:n?n.startsWith("/")?n:S0(n,e):e,search:C0(s),hash:N0(o)}}function S0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(i){let e=R0(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function lp(i,e,n,s=!1){let o;typeof i=="string"?o=Ao(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),pm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),pm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),pm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=w0(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var ar=i=>i.join("/").replace(/\/\/+/g,"/"),I0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),C0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,N0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function x0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var D0=["GET",..._T];new Set(D0);var wo=z.createContext(null);wo.displayName="DataRouter";var Vh=z.createContext(null);Vh.displayName="DataRouterState";var vT=z.createContext({isTransitioning:!1});vT.displayName="ViewTransition";var O0=z.createContext(new Map);O0.displayName="Fetchers";var k0=z.createContext(null);k0.displayName="Await";var ti=z.createContext(null);ti.displayName="Navigation";var cu=z.createContext(null);cu.displayName="Location";var ni=z.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var up=z.createContext(null);up.displayName="RouteError";function M0(i,{relative:e}={}){Je(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(ti),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return z.useContext(cu)!=null}function gs(){return Je(So(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(cu).location}var ET="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TT(i){z.useContext(ti).static||z.useLayoutEffect(i)}function ca(){let{isDataRoute:i}=z.useContext(ni);return i?$0():V0()}function V0(){Je(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(wo),{basename:e,navigator:n}=z.useContext(ti),{matches:s}=z.useContext(ni),{pathname:o}=gs(),u=JSON.stringify(op(s)),f=z.useRef(!1);return TT(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Zn(f.current,ET),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=lp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ar([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,i])}z.createContext(null);function P0(){let{matches:i}=z.useContext(ni),e=i[i.length-1];return e?e.params:{}}function hu(i,{relative:e}={}){let{matches:n}=z.useContext(ni),{pathname:s}=gs(),o=JSON.stringify(op(n));return z.useMemo(()=>lp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function L0(i,e){return bT(i,e)}function bT(i,e,n,s){var q;Je(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(ti),{matches:f}=z.useContext(ni),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",w=m&&m.route;{let Y=w&&w.path||"";AT(g,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=gs(),D;if(e){let Y=typeof e=="string"?Ao(e):e;Je(T==="/"||((q=Y.pathname)==null?void 0:q.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=S;let O=D.pathname||"/",G=O;if(T!=="/"){let Y=T.replace(/^\//,"").split("/");G="/"+O.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:pT(i,{pathname:G});Zn(w||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Zn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=H0(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:ar([T,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?T:ar([T,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),f,n,s);return e&&K?z.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function U0(){let i=Q0(),e=x0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var j0=z.createElement(U0,null),z0=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(ni.Provider,{value:this.props.routeContext},z.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B0({routeContext:i,match:e,children:n}){let s=z.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ni.Provider,{value:i},n)}function H0(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,S=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,S=!1,D=null,O=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||j0,f&&(m<0&&T===0?(AT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===T&&(S=!0,O=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,T+1)),P=()=>{let K;return w?K=D:S?K=O:g.route.Component?K=z.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,z.createElement(B0,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?z.createElement(z0,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:P(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):P()},null)}function cp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(i){let e=z.useContext(wo);return Je(e,cp(i)),e}function F0(i){let e=z.useContext(Vh);return Je(e,cp(i)),e}function G0(i){let e=z.useContext(ni);return Je(e,cp(i)),e}function hp(i){let e=G0(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function K0(){return hp("useRouteId")}function Q0(){var s;let i=z.useContext(up),e=F0("useRouteError"),n=hp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function $0(){let{router:i}=q0("useNavigate"),e=hp("useNavigate"),n=z.useRef(!1);return TT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Zn(n.current,ET),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var kv={};function AT(i,e,n){!e&&!kv[i]&&(kv[i]=!0,Zn(!1,n))}z.memo(Y0);function Y0({routes:i,future:e,state:n}){return bT(i,void 0,n,e)}function X0({to:i,replace:e,state:n,relative:s}){Je(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(ti);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ni),{pathname:f}=gs(),m=ca(),p=lp(i,op(u),f,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function xt(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W0({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Je(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ao(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:S="default"}=n,D=z.useMemo(()=>{let O=ls(p,f);return O==null?null:{location:{pathname:O,search:g,hash:T,state:w,key:S},navigationType:s}},[f,p,g,T,w,S,s]);return Zn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(ti.Provider,{value:m},z.createElement(cu.Provider,{children:e,value:D}))}function wT({children:i,location:e}){return L0(Dm(i),e)}function Dm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Dm(s.props.children,u));return}Je(s.type===xt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),n.push(f)}),n}var eh="get",th="application/x-www-form-urlencoded";function Ph(i){return i!=null&&typeof i.tagName=="string"}function Z0(i){return Ph(i)&&i.tagName.toLowerCase()==="button"}function J0(i){return Ph(i)&&i.tagName.toLowerCase()==="form"}function eR(i){return Ph(i)&&i.tagName.toLowerCase()==="input"}function tR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nR(i,e){return i.button===0&&(!e||e==="_self")&&!tR(i)}var Gc=null;function iR(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var rR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gm(i){return i!=null&&!rR.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):i}function sR(i,e){let n,s,o,u,f;if(J0(i)){let m=i.getAttribute("action");s=m?ls(m,e):null,n=i.getAttribute("method")||eh,o=gm(i.getAttribute("enctype"))||th,u=new FormData(i)}else if(Z0(i)||eR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ls(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||eh,o=gm(i.getAttribute("formenctype"))||gm(m.getAttribute("enctype"))||th,u=new FormData(m,i),!iR()){let{name:g,type:T,value:w}=i;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Ph(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eh,s=null,o=th,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function fp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function aR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function lR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await aR(u,n);return f.links?f.links():[]}return[]}));return fR(s.flat(1).filter(oR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function uR(i,e){return cR(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function cR(i){return[...new Set(i)]}function hR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function fR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(hR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function dR(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mR(){let i=z.useContext(wo);return fp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function pR(){let i=z.useContext(Vh);return fp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dp=z.createContext(void 0);dp.displayName="FrameworkContext";function ST(){let i=z.useContext(dp);return fp(i,"You must render this element inside a <HydratedRouter> element"),i}function gR(i,e){let n=z.useContext(dp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,S=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=K=>{K.forEach(q=>{f(q.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[i]),z.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:jl(m,D),onBlur:jl(p,O),onMouseEnter:jl(g,D),onMouseLeave:jl(T,O),onTouchStart:jl(w,D)}]:[!1,S,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function yR({page:i,...e}){let{router:n}=mR(),s=z.useMemo(()=>pT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(vR,{page:i,matches:s,...e}):null}function _R(i){let{manifest:e,routeModules:n}=ST(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return lR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function vR({page:i,matches:e,...n}){let s=gs(),{manifest:o,routeModules:u}=ST(),{loaderData:f,matches:m}=pR(),p=z.useMemo(()=>Mv(i,e,m,o,s,"data"),[i,e,m,o,s]),g=z.useMemo(()=>Mv(i,e,m,o,s,"assets"),[i,e,m,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,O=!1;if(e.forEach(P=>{var q;let K=o.routes[P.route.id];!K||!K.hasLoader||(!p.some(Y=>Y.route.id===P.route.id)&&P.route.id in f&&((q=u[P.route.id])!=null&&q.shouldRevalidate)||K.hasClientLoader?O=!0:D.add(P.route.id))}),D.size===0)return[];let G=dR(i);return O&&D.size>0&&G.searchParams.set("_routes",e.filter(P=>D.has(P.route.id)).map(P=>P.route.id).join(",")),[G.pathname+G.search]},[f,s,o,p,e,i,u]),w=z.useMemo(()=>uR(g,o),[g,o]),S=_R(g);return z.createElement(z.Fragment,null,T.map(D=>z.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>z.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),S.map(({key:D,link:O})=>z.createElement("link",{key:D,...O})))}function ER(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RT&&(window.__reactRouterVersion="7.1.5")}catch{}function TR({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=l0({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(W0,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...S},D){let{basename:O}=z.useContext(ti),G=typeof g=="string"&&IT.test(g),P,K=!1;if(typeof g=="string"&&G&&(P=g,RT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=ls(N.pathname,O);N.origin===R.origin&&L!=null?g=L+N.search+N.hash:K=!0}catch{Zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=M0(g,{relative:o}),[Y,ie,ue]=gR(s,S),Te=SR(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function M(R){e&&e(R),R.defaultPrevented||Te(R)}let I=z.createElement("a",{...S,...ue,href:P||q,onClick:K||u?e:M,ref:ER(D,ie),target:p,"data-discover":!G&&n==="render"?"true":void 0});return Y&&!G?z.createElement(z.Fragment,null,I,z.createElement(yR,{page:q})):I});Tt.displayName="Link";var bR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=hu(f,{relative:g.relative}),S=gs(),D=z.useContext(Vh),{navigator:O,basename:G}=z.useContext(ti),P=D!=null&&xR(w)&&m===!0,K=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,q=S.pathname,Y=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,K=K.toLowerCase()),Y&&G&&(Y=ls(Y,G)||Y);const ie=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=q===K||!o&&q.startsWith(K)&&q.charAt(ie)==="/",Te=Y!=null&&(Y===K||!o&&Y.startsWith(K)&&Y.charAt(K.length)==="/"),M={isActive:ue,isPending:Te,isTransitioning:P},I=ue?e:void 0,R;typeof s=="function"?R=s(M):R=[s,ue?"active":null,Te?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return z.createElement(Tt,{...g,"aria-current":I,className:R,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(M):p)});bR.displayName="NavLink";var AR=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=eh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...S},D)=>{let O=CR(),G=NR(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&IT.test(m),q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,ue=(ie==null?void 0:ie.getAttribute("formmethod"))||f;O(ie||Y.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return z.createElement("form",{ref:D,method:P,action:G,onSubmit:s?p:q,...S,"data-discover":!K&&i==="render"?"true":void 0})});AR.displayName="Form";function wR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(i){let e=z.useContext(wo);return Je(e,wR(i)),e}function SR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ca(),p=gs(),g=hu(i,{relative:u});return z.useCallback(T=>{if(nR(T,e)){T.preventDefault();let w=n!==void 0?n:Jl(p)===Jl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var RR=0,IR=()=>`__${String(++RR)}__`;function CR(){let{router:i}=CT("useSubmit"),{basename:e}=z.useContext(ti),n=K0();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=sR(s,e);if(o.navigate===!1){let T=o.fetcherKey||IR();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function NR(i,{relative:e}={}){let{basename:n}=z.useContext(ti),s=z.useContext(ni);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},f=gs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Jl(u)}function xR(i,e={}){let n=z.useContext(vT);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CT("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ls(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ls(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,f)!=null||fh(o.pathname,u)!=null}new TextEncoder;var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(S=64)),s.push(n[T],n[w],n[S],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(NT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new OR;const S=u<<2|m>>4;if(s.push(S),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const O=g<<6&192|w;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const e=NT(i);return xT.encodeByteArray(e,!0)},dh=function(i){return kR(i).replace(/\./g,"")},DT=function(i){try{return xT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>MR().__FIREBASE_DEFAULTS__,PR=()=>{if(typeof process>"u"||typeof Vv>"u")return;const i=Vv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},LR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DT(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return VR()||PR()||LR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},OT=i=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},kT=i=>{const e=OT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},MT=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},VT=i=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function zR(){var i;const e=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function GR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class Ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$R,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?YR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ci(o,m,s)}}function YR(i,e){return i.replace(XR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XR=/\{\$([^}]+)}/g;function WR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function mh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Pv(u)&&Pv(f)){if(!mh(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function ZR(i,e){const n=new JR(i,e);return n.subscribe.bind(n)}class JR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(i){return i&&i._delegate?i._delegate:i}class us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new UR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iI(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nI(i){return i===ta?void 0:i}function iI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const sI={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},aI=De.INFO,oI={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},lI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=oI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=aI,this._logHandler=lI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const uI=(i,e)=>e.some(n=>i instanceof n);let Lv,Uv;function cI(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hI(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,Om=new WeakMap,UT=new WeakMap,_m=new WeakMap,pp=new WeakMap;function fI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(rs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&LT.set(n,i)}).catch(()=>{}),pp.set(e,i),e}function dI(i){if(Om.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Om.set(i,e)}let km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Om.get(i);if(e==="objectStoreNames")return i.objectStoreNames||UT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mI(i){km=i(km)}function pI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(vm(this),e,...n);return UT.set(s,e.sort?e.sort():[e]),rs(s)}:hI().includes(i)?function(...e){return i.apply(vm(this),e),rs(LT.get(this))}:function(...e){return rs(i.apply(vm(this),e))}}function gI(i){return typeof i=="function"?pI(i):(i instanceof IDBTransaction&&dI(i),uI(i,cI())?new Proxy(i,km):i)}function rs(i){if(i instanceof IDBRequest)return fI(i);if(_m.has(i))return _m.get(i);const e=gI(i);return e!==i&&(_m.set(i,e),pp.set(e,i)),e}const vm=i=>pp.get(i);function yI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _I=["get","getKey","getAll","getAllKeys","count"],vI=["put","add","delete","clear"],Em=new Map;function jv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_I.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Em.set(e,u),u}mI(i=>({...i,get:(e,n,s)=>jv(e,n)||i.get(e,n,s),has:(e,n)=>!!jv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",zv="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new mp("@firebase/app"),bI="@firebase/app-compat",AI="@firebase/analytics-compat",wI="@firebase/analytics",SI="@firebase/app-check-compat",RI="@firebase/app-check",II="@firebase/auth",CI="@firebase/auth-compat",NI="@firebase/database",xI="@firebase/data-connect",DI="@firebase/database-compat",OI="@firebase/functions",kI="@firebase/functions-compat",MI="@firebase/installations",VI="@firebase/installations-compat",PI="@firebase/messaging",LI="@firebase/messaging-compat",UI="@firebase/performance",jI="@firebase/performance-compat",zI="@firebase/remote-config",BI="@firebase/remote-config-compat",HI="@firebase/storage",qI="@firebase/storage-compat",FI="@firebase/firestore",GI="@firebase/vertexai",KI="@firebase/firestore-compat",QI="firebase",$I="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",YI={[Mm]:"fire-core",[bI]:"fire-core-compat",[wI]:"fire-analytics",[AI]:"fire-analytics-compat",[RI]:"fire-app-check",[SI]:"fire-app-check-compat",[II]:"fire-auth",[CI]:"fire-auth-compat",[NI]:"fire-rtdb",[xI]:"fire-data-connect",[DI]:"fire-rtdb-compat",[OI]:"fire-fn",[kI]:"fire-fn-compat",[MI]:"fire-iid",[VI]:"fire-iid-compat",[PI]:"fire-fcm",[LI]:"fire-fcm-compat",[UI]:"fire-perf",[jI]:"fire-perf-compat",[zI]:"fire-rc",[BI]:"fire-rc-compat",[HI]:"fire-gcs",[qI]:"fire-gcs-compat",[FI]:"fire-fst",[KI]:"fire-fst-compat",[GI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,XI=new Map,Pm=new Map;function Bv(i,e){try{i.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ra(i){const e=i.name;if(Pm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,i);for(const n of ph.values())Bv(n,i);for(const n of XI.values())Bv(n,i);return!0}function Uh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new fu("app","Firebase",WI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=$I;function jT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=MT()),!n)throw ss.create("no-options");const u=ph.get(o);if(u){if(mh(n,u.options)&&mh(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new rI(o);for(const p of Pm.values())f.addComponent(p);const m=new ZI(n,s,f);return ph.set(o,m),m}function gp(i=Vm){const e=ph.get(i);if(!e&&i===Vm&&MT())return jT();if(!e)throw ss.create("no-app",{appName:i});return e}function bi(i,e,n){var s;let o=(s=YI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(m.join(" "));return}ra(new us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebase-heartbeat-database",eC=1,eu="firebase-heartbeat-store";let Tm=null;function zT(){return Tm||(Tm=yI(JI,eC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ss.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function tC(i){try{const n=(await zT()).transaction(eu),s=await n.objectStore(eu).get(BT(i));return await n.done,s}catch(e){if(e instanceof Ci)ur.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Hv(i,e){try{const s=(await zT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,BT(i)),await s.done}catch(n){if(n instanceof Ci)ur.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function BT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=1024,iC=30;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>iC){const f=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qv(),{heartbeatsToSend:s,unsentEntries:o}=sC(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ur.warn(n),""}}}function qv(){return new Date().toISOString().substring(0,10)}function sC(i,e=nC){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Fv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fv(i){return dh(JSON.stringify({version:2,heartbeats:i})).length}function oC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(i){ra(new us("platform-logger",e=>new EI(e),"PRIVATE")),ra(new us("heartbeat",e=>new rC(e),"PRIVATE")),bi(Mm,zv,i),bi(Mm,zv,"esm2017"),bi("fire-js","")}lC("");var uC="firebase",cC="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(uC,cC,"app");function yp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=HT,qT=new fu("auth","Firebase",HT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new mp("@firebase/auth");function fC(i,...e){gh.logLevel<=De.WARN&&gh.warn(`Auth (${ha}): ${i}`,...e)}function nh(i,...e){gh.logLevel<=De.ERROR&&gh.error(`Auth (${ha}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw _p(i,...e)}function Ai(i,...e){return _p(i,...e)}function FT(i,e,n){const s=Object.assign(Object.assign({},hC()),{[e]:n});return new fu("auth","Firebase",s).create(e,{appName:i.name})}function or(i){return FT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return qT.create(i,...e)}function ve(i,e,...n){if(!i)throw _p(e,...n)}function ir(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nh(e),new Error(e)}function cr(i,e){i||ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function dC(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||HR()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||qR()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i,e){cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new mu(3e4,6e4);function ys(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function _s(i,e,n,s,o={}){return KT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return BR()||(g.referrerPolicy="no-referrer"),GT.fetch()(QT(i,i.config.apiHost,n,m),g)})}async function KT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},gC),e);try{const o=new vC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(i,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw FT(i,T,g);Jn(i,T)}}catch(o){if(o instanceof Ci)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function pu(i,e,n,s,o={}){const u=await _s(i,e,n,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function QT(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?vp(i.config,o):`${i.config.apiScheme}://${o}`}function _C(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),yC.get())})}}function Kc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(i,e,s);return o.customData._tokenResponse=n,o}function Kv(i){return i!==void 0&&i.enterprise!==void 0}class EC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _C(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TC(i,e){return _s(i,"GET","/v2/recaptchaConfig",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e){return _s(i,"POST","/v1/accounts:delete",e)}async function $T(i,e){return _s(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AC(i,e=!1){const n=mt(i),s=await n.getIdToken(e),o=Ep(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ql(bm(o.auth_time)),issuedAtTime:Ql(bm(o.iat)),expirationTime:Ql(bm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function bm(i){return Number(i)*1e3}function Ep(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DT(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Qv(i){const e=Ep(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ci&&wC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function wC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await tu(i,$T(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?YT(u.providerUserInfo):[],m=IC(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Um(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(i,w)}async function RC(i){const e=mt(i);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function YT(i){return i.map(e=>{var{providerId:n}=e,s=yp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e){const n=await KT(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=QT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(i,e){return _s(i,"POST","/v2/accounts:revokeToken",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Qv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await CC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await tu(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,q=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Y,emailVerified:ie,isAnonymous:ue,providerData:Te,stsTokenManager:M}=n;ve(Y&&M,e,"internal-error");const I=co.fromJSON(this.name,M);ve(typeof Y=="string",e,"internal-error"),Wr(w,e.name),Wr(S,e.name),ve(typeof ie=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Wr(D,e.name),Wr(O,e.name),Wr(G,e.name),Wr(P,e.name),Wr(K,e.name),Wr(q,e.name);const R=new rr({uid:Y,auth:e,email:S,emailVerified:ie,displayName:w,isAnonymous:ue,photoURL:O,phoneNumber:D,tenantId:G,stsTokenManager:I,createdAt:K,lastLoginAt:q});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(N=>Object.assign({},N))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new rr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?YT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new rr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function sr(i){cr(i instanceof Function,"Expected a class definition");let e=$v.get(i);return e?(cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$v.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const Yv=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(sr(Yv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||sr(Yv);const f=ih(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){const w=rr._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(ib(e))return"Webos";if(ZT(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function WT(i=nn()){return/firefox\//i.test(i)}function ZT(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(i=nn()){return/crios\//i.test(i)}function eb(i=nn()){return/iemobile/i.test(i)}function tb(i=nn()){return/android/i.test(i)}function nb(i=nn()){return/blackberry/i.test(i)}function ib(i=nn()){return/webos/i.test(i)}function Tp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function xC(i=nn()){var e;return Tp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DC(){return FR()&&document.documentMode===10}function rb(i=nn()){return Tp(i)||tb(i)||ib(i)||nb(i)||/windows phone/i.test(i)||eb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i,e=[]){let n;switch(i){case"Browser":n=Xv(nn());break;case"Worker":n=`${Xv(nn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e={}){return _s(i,"GET","/v2/passwordPolicy",ys(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=6;class VC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:MC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new OC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $T(this,{idToken:e}),s=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(or(this));const n=e?mt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kC(this),n=new VC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fa(i){return mt(i)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(i){jh=i}function ab(i){return jh.loadJS(i)}function UC(){return jh.recaptchaEnterpriseScript}function jC(){return jh.gapiScript}function zC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BC{constructor(){this.enterprise=new HC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qC="recaptcha-enterprise",ob="NO_RECAPTCHA";class FC{constructor(e){this.type=qC,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{TC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new EC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(ob)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UC();p.length!==0&&(p+=m),ab(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Zv(i,e,n,s=!1,o=!1){const u=new FC(i);let f;if(o)f=ob;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function jm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Zv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Zv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i,e){const n=Uh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(mh(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function KC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QC(i,e,n){const s=fa(i);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lb(e),{host:f,port:m}=$C(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),YC()}function lb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $C(i){const e=lb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Jv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Jv(f)}}}function Jv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function YC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function XC(i,e){return _s(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(i,e){return pu(i,"POST","/v1/accounts:signInWithPassword",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",ys(i,e))}async function JC(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,n,"signInWithPassword",WC);case"emailLink":return ZC(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,s,"signUpPassword",XC);case"emailLink":return JC(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return pu(i,"POST","/v1/accounts:signInWithIdp",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="http://localhost";class sa extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=yp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:e1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n1(i){const e=Bl(Hl(i)).link,n=e?Bl(Hl(e)).deep_link_id:null,s=Bl(Hl(i)).deep_link_id;return(s?Bl(Hl(s)).link:null)||s||n||e||i}class Ap{constructor(e){var n,s,o,u,f,m;const p=Bl(Hl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=t1((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=n1(e);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return ve(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends gu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends gu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends gu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(i,e){return pu(i,"POST","/v1/accounts:signUp",ys(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await rr._fromIdTokenResponse(e,s,o),f=eE(s);return new aa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=eE(s);return new aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function eE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Ci{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function cb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(i,u,e,s):u})}async function r1(i,e,n=!1){const s=await tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return aa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(i,e,n=!1){const{auth:s}=i;if(wn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await tu(i,cb(s,o,e,i),n);ve(u.idToken,s,"internal-error");const f=Ep(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),aa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(i,e,n=!1){if(wn(i.app))return Promise.reject(or(i));const s="signIn",o=await cb(i,s,e),u=await aa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function a1(i,e){return hb(fa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(i){const e=fa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o1(i,e,n){if(wn(i.app))return Promise.reject(or(i));const s=fa(i),f=await jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fb(i),p}),m=await aa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function l1(i,e,n){return wn(i.app)?Promise.reject(or(i)):a1(mt(i),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fb(i),s})}function u1(i,e,n,s){return mt(i).onIdTokenChanged(e,n,s)}function c1(i,e,n){return mt(i).beforeAuthStateChanged(e,n)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=1e3,f1=10;class mb extends db{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,f1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},h1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const d1=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends db{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pb.type="SESSION";const gb=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await m1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function g1(i){wi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function y1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function v1(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebaseLocalStorageDb",E1=1,Eh="firebaseLocalStorage",vb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(i,e){return i.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function T1(){const i=indexedDB.deleteDatabase(_b);return new yu(i).toPromise()}function zm(){const i=indexedDB.open(_b,E1);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Eh,{keyPath:vb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await T1(),e(await zm()))})})}async function tE(i,e,n){const s=Bh(i,!0).put({[vb]:e,value:n});return new yu(s).toPromise()}async function b1(i,e){const n=Bh(i,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function nE(i,e){const n=Bh(i,!0).delete(e);return new yu(n).toPromise()}const A1=800,w1=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>w1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(v1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y1(),!this.activeServiceWorker)return;this.sender=new p1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await tE(e,vh,"1"),await nE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>tE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>b1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Bh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const S1=Eb;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(i,e){return e?sr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I1(i){return hb(i.auth,new Sp(i),i.bypassAuthState)}function C1(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),s1(n,new Sp(i),i.bypassAuthState)}async function N1(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),r1(n,new Sp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I1;case"linkViaPopup":case"linkViaRedirect":return N1;case"reauthViaPopup":case"reauthViaRedirect":return C1;default:Jn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new mu(2e3,1e4);class uo extends Tb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x1.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="pendingRedirect",rh=new Map;class O1 extends Tb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const s=await k1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k1(i,e){const n=P1(e),s=V1(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function M1(i,e){rh.set(i._key(),e)}function V1(i){return sr(i._redirectPersistence)}function P1(i){return ih(D1,i.config.apiKey,i.name)}async function L1(i,e,n=!1){if(wn(i.app))return Promise.reject(or(i));const s=fa(i),o=R1(s,e),f=await new O1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=10*60*1e3;class j1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!bb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U1&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function bb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(i,e={}){return _s(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q1=/^https?/;async function F1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await B1(i);for(const n of e)try{if(G1(n))return}catch{}Jn(i,"unauthorized-domain")}function G1(i){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!q1.test(n))return!1;if(H1.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new mu(3e4,6e4);function rE(){const i=wi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Q1(i){return new Promise((e,n)=>{var s,o,u;function f(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),n(Ai(i,"network-request-failed"))},timeout:K1.get()})}if(!((o=(s=wi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wi().gapi)===null||u===void 0)&&u.load)f();else{const m=zC("iframefcb");return wi()[m]=()=>{gapi.load?f():n(Ai(i,"network-request-failed"))},ab(`${jC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw sh=null,e})}let sh=null;function $1(i){return sh=sh||Q1(i),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new mu(5e3,15e3),X1="__/auth/iframe",W1="emulator/auth/iframe",Z1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?vp(e,W1):`https://${i.config.authDomain}/${X1}`,s={apiKey:e.apiKey,appName:i.name,v:ha},o=J1.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function tN(i){const e=await $1(i),n=wi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:eN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(i,"network-request-failed"),m=wi().setTimeout(()=>{u(f)},Y1.get());function p(){wi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iN=500,rN=600,sN="_blank",aN="http://localhost";class sE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oN(i,e,n,s=iN,o=rN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},nN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=nn().toLowerCase();n&&(m=JT(g)?sN:n),WT(g)&&(e=e||aN,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[D,O])=>`${S}${D}=${O},`,"");if(xC(g)&&m!=="_self")return lN(e||"",m),new sE(null);const w=window.open(e||"",m,T);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new sE(w)}function lN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__/auth/handler",cN="emulator/auth/handler",hN=encodeURIComponent("fac");async function aE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ha,eventId:o};if(e instanceof ub){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",WR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof gu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),g=p?`#${hN}=${encodeURIComponent(p)}`:"";return`${fN(i)}?${du(m).slice(1)}${g}`}function fN({config:i}){return i.emulator?vp(i,cN):`https://${i.authDomain}/${uN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class dN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=L1,this._overrideRedirectResult=M1}async _openPopup(e,n,s,o){var u;cr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await aE(e,n,s,Lm(),o);return oN(e,f,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await aE(e,n,s,Lm(),o);return g1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tN(e),s=new j1(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Am];f!==void 0&&n(!!f),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rb()||ZT()||Tp()}}const mN=dN;var oE="@firebase/auth",lE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yN(i){ra(new us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(i)},g=new PC(s,o,u,p);return KC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ra(new us("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new pN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(oE,lE,gN(i)),bi(oE,lE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=5*60,vN=VT("authIdTokenMaxAge")||_N;let uE=null;const EN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vN)return;const o=n==null?void 0:n.token;uE!==o&&(uE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ab(i=gp()){const e=Uh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=GC(i,{popupRedirectResolver:mN,persistence:[S1,d1,gb]}),s=VT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=EN(u.toString());c1(n,f,()=>f(n.currentUser)),u1(n,m=>f(m))}}const o=OT("auth");return o&&QC(n,`http://${o}`),n}function TN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}LC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",TN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebasestorage.googleapis.com",Sb="storageBucket",bN=2*60*1e3,AN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ci{constructor(e,n,s=0){super(wm(e),`Firebase Storage: ${n} (${wm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function wm(i){return"storage/"+i}function Rp(){const i="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,i)}function wN(i){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function SN(i){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RN(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,i)}function IN(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CN(i){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function NN(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xN(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function DN(i){return new ct(ut.INVALID_URL,"Invalid URL '"+i+"'.")}function ON(i){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function kN(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sb+"' property when initializing the app?")}function MN(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VN(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function PN(i){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bm(i){return new ct(ut.INVALID_ARGUMENT,i)}function Rb(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function LN(i){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(i,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function zl(i){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(s.path==="")return s;throw ON(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${T}/b/${o}/o${S}`,"i"),O={bucket:1,path:3},G=n===wb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",K=new RegExp(`^https?://${G}/${o}/${P}`,"i"),Y=[{regex:m,indices:p,postModify:u},{regex:D,indices:O,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<Y.length;ie++){const ue=Y[ie],Te=ue.regex.exec(e);if(Te){const M=Te[ue.indices.bucket];let I=Te[ue.indices.path];I||(I=""),s=new Sn(M,I),ue.postModify(s);break}}if(s==null)throw DN(e);return s}}class UN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...P){g||(g=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,i(D,p())},P)}function S(){u&&clearTimeout(u)}function D(P,...K){if(g){S();return}if(P){S(),T.call(null,P,...K);return}if(p()||f){S(),T.call(null,P,...K);return}s<64&&(s*=2);let Y;m===1?(m=2,Y=0):Y=(s+Math.random())*1e3,w(Y)}let O=!1;function G(P){O||(O=!0,S(),!g&&(o!==null?(P||(m=2),clearTimeout(o),w(0)):P||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function zN(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(i){return i!==void 0}function HN(i){return typeof i=="object"&&!Array.isArray(i)}function Ip(i){return typeof i=="string"||i instanceof String}function cE(i){return Cp()&&i instanceof Blob}function Cp(){return typeof Blob<"u"}function hE(i,e,n,s){if(s<e)throw Bm(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Bm(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function Ib(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ia;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ia||(ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,s,o,u,f,m,p,g,T,w,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=w,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ia.NO_ERROR,p=u.getStatus();if(!m||qN(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===ia.ABORT;s(!1,new Qc(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Qc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());BN(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=Rp();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?Rb():xN();f(p)}else{const p=NN();f(p)}};this.canceled_?n(!1,new Qc(!1,null,!0)):this.backoffId_=jN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function GN(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function KN(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QN(i,e){e&&(i["X-Firebase-GMPID"]=e)}function $N(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function YN(i,e,n,s,o,u,f=!0){const m=Ib(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return QN(g,e),GN(g,n),KN(g,u),$N(g,s),new FN(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WN(...i){const e=XN();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Cp())return new Blob(i);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZN(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(i){if(typeof atob>"u")throw PN("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sm{constructor(e,n){this.data=e,this.contentType=n||null}}function ex(i,e){switch(i){case Ti.RAW:return new Sm(Cb(e));case Ti.BASE64:case Ti.BASE64URL:return new Sm(Nb(i,e));case Ti.DATA_URL:return new Sm(nx(e),ix(e))}throw Rp()}function Cb(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function tx(i){let e;try{e=decodeURIComponent(i)}catch{throw $l(Ti.DATA_URL,"Malformed data URL.")}return Cb(e)}function Nb(i,e){switch(i){case Ti.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw $l(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ti.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw $l(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JN(e)}catch(o){throw o.message.includes("polyfill")?o:$l(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class xb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $l(Ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=rx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function nx(i){const e=new xb(i);return e.base64?Nb(Ti.BASE64,e.rest):tx(e.rest)}function ix(i){return new xb(i).contentType}function rx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){let s=0,o="";cE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(cE(this.data_)){const s=this.data_,o=ZN(s,e,n);return o===null?null:new ns(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ns(s,!0)}}static getBlob(...e){if(Cp()){const n=e.map(s=>s instanceof ns?s.data_:s);return new ns(WN.apply(null,n))}else{const n=e.map(f=>Ip(f)?ex(Ti.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new ns(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){let e;try{e=JSON.parse(i)}catch{return null}return HN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function ax(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function Ob(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i,e){return e}class cn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||ox}}let $c=null;function lx(i){return!Ip(i)||i.length<2?i:Ob(i)}function kb(){if($c)return $c;const i=[];i.push(new cn("bucket")),i.push(new cn("generation")),i.push(new cn("metageneration")),i.push(new cn("name","fullPath",!0));function e(u,f){return lx(f)}const n=new cn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new cn("size");return o.xform=s,i.push(o),i.push(new cn("timeCreated")),i.push(new cn("updated")),i.push(new cn("md5Hash",null,!0)),i.push(new cn("cacheControl",null,!0)),i.push(new cn("contentDisposition",null,!0)),i.push(new cn("contentEncoding",null,!0)),i.push(new cn("contentLanguage",null,!0)),i.push(new cn("contentType",null,!0)),i.push(new cn("metadata","customMetadata",!0)),$c=i,$c}function ux(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Sn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function cx(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return ux(s,i),s}function Mb(i,e,n){const s=Db(e);return s===null?null:cx(i,s,n)}function hx(i,e,n,s){const o=Db(e);if(o===null||!Ip(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const T=i.bucket,w=i.fullPath,S="/b/"+f(T)+"/o/"+f(w),D=Np(S,n,s),O=Ib({alt:"media",token:g});return D+O})[0]}function fx(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Vb{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(i){if(!i)throw Rp()}function dx(i,e){function n(s,o){const u=Mb(i,o,e);return Pb(u!==null),u}return n}function mx(i,e){function n(s,o){const u=Mb(i,o,e);return Pb(u!==null),hx(u,o,i.host,i._protocol)}return n}function Lb(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=IN():o=RN():n.getStatus()===402?o=SN(i.bucket):n.getStatus()===403?o=CN(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function px(i){const e=Lb(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=wN(i.path)),u.serverResponse=o.serverResponse,u}return n}function gx(i,e,n){const s=e.fullServerUrl(),o=Np(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Vb(o,u,mx(i,n),f);return m.errorHandler=px(e),m}function yx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function _x(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=yx(null,e)),s}function vx(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let Y="";for(let ie=0;ie<2;ie++)Y=Y+Math.random().toString().slice(2);return Y}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=_x(e,s,o),T=fx(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",D=ns.getBlob(w,s,S);if(D===null)throw MN();const O={name:g.fullPath},G=Np(u,i.host,i._protocol),P="POST",K=i.maxUploadRetryTime,q=new Vb(G,P,dx(i,n),K);return q.urlParams=O,q.headers=f,q.body=D.uploadData(),q.errorHandler=Lb(e),q}class Ex{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Tx extends Ex{initXhr(){this.xhr_.responseType="text"}}function Ub(){return new Tx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ob(this._location.path)}get storage(){return this._service}get parent(){const e=sx(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LN(e)}}function bx(i,e,n){i._throwIfRoot("uploadBytes");const s=vx(i.storage,i._location,kb(),new ns(e,!0),n);return i.storage.makeRequestWithTokens(s,Ub).then(o=>({metadata:o,ref:i}))}function Ax(i){i._throwIfRoot("getDownloadURL");const e=gx(i.storage,i._location,kb());return i.storage.makeRequestWithTokens(e,Ub).then(n=>{if(n===null)throw VN();return n})}function wx(i,e){const n=ax(i._location.path,e),s=new Sn(i._location.bucket,n);return new oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(i){return/^[A-Za-z]+:\/\//.test(i)}function Rx(i,e){return new oa(i,e)}function jb(i,e){if(i instanceof xp){const n=i;if(n._bucket==null)throw kN();const s=new oa(n,n._bucket);return e!=null?jb(s,e):s}else return e!==void 0?wx(i,e):i}function Ix(i,e){if(e&&Sx(e)){if(i instanceof xp)return Rx(i,e);throw Bm("To use ref(service, url), the first argument must be a Storage instance.")}else return jb(i,e)}function fE(i,e){const n=e==null?void 0:e[Sb];return n==null?null:Sn.makeFromBucketSpec(n,i)}function Cx(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:PT(o,i.app.options.projectId))}class xp{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=wb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bN,this._maxUploadRetryTime=AN,this._requests=new Set,o!=null?this._bucket=Sn.makeFromBucketSpec(o,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=fE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new UN(Rb());{const f=YN(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const dE="@firebase/storage",mE="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function Bb(i,e,n){return i=mt(i),bx(i,e,n)}function Hb(i){return i=mt(i),Ax(i)}function qb(i,e){return i=mt(i),Ix(i,e)}function Nx(i=gp(),e){i=mt(i);const s=Uh(i,zb).getImmediate({identifier:e}),o=kT("storage");return o&&xx(s,...o),s}function xx(i,e,n,s={}){Cx(i,e,n,s)}function Dx(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new xp(n,s,o,e,ha)}function Ox(){ra(new us(zb,Dx,"PUBLIC").setMultipleInstances(!0)),bi(dE,mE,""),bi(dE,mE,"esm2017")}Ox();var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,Fb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function R(){}R.prototype=I.prototype,M.D=I.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,L,H){for(var x=Array(arguments.length-2),At=2;At<arguments.length;At++)x[At-2]=arguments[At];return I.prototype[L].apply(N,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,R){R||(R=0);var N=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)N[L]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(L=0;16>L;++L)N[L]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=M.g[0],R=M.g[1],L=M.g[2];var H=M.g[3],x=I+(H^R&(L^H))+N[0]+3614090360&4294967295;I=R+(x<<7&4294967295|x>>>25),x=H+(L^I&(R^L))+N[1]+3905402710&4294967295,H=I+(x<<12&4294967295|x>>>20),x=L+(R^H&(I^R))+N[2]+606105819&4294967295,L=H+(x<<17&4294967295|x>>>15),x=R+(I^L&(H^I))+N[3]+3250441966&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(H^R&(L^H))+N[4]+4118548399&4294967295,I=R+(x<<7&4294967295|x>>>25),x=H+(L^I&(R^L))+N[5]+1200080426&4294967295,H=I+(x<<12&4294967295|x>>>20),x=L+(R^H&(I^R))+N[6]+2821735955&4294967295,L=H+(x<<17&4294967295|x>>>15),x=R+(I^L&(H^I))+N[7]+4249261313&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(H^R&(L^H))+N[8]+1770035416&4294967295,I=R+(x<<7&4294967295|x>>>25),x=H+(L^I&(R^L))+N[9]+2336552879&4294967295,H=I+(x<<12&4294967295|x>>>20),x=L+(R^H&(I^R))+N[10]+4294925233&4294967295,L=H+(x<<17&4294967295|x>>>15),x=R+(I^L&(H^I))+N[11]+2304563134&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(H^R&(L^H))+N[12]+1804603682&4294967295,I=R+(x<<7&4294967295|x>>>25),x=H+(L^I&(R^L))+N[13]+4254626195&4294967295,H=I+(x<<12&4294967295|x>>>20),x=L+(R^H&(I^R))+N[14]+2792965006&4294967295,L=H+(x<<17&4294967295|x>>>15),x=R+(I^L&(H^I))+N[15]+1236535329&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(L^H&(R^L))+N[1]+4129170786&4294967295,I=R+(x<<5&4294967295|x>>>27),x=H+(R^L&(I^R))+N[6]+3225465664&4294967295,H=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(H^I))+N[11]+643717713&4294967295,L=H+(x<<14&4294967295|x>>>18),x=R+(H^I&(L^H))+N[0]+3921069994&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^H&(R^L))+N[5]+3593408605&4294967295,I=R+(x<<5&4294967295|x>>>27),x=H+(R^L&(I^R))+N[10]+38016083&4294967295,H=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(H^I))+N[15]+3634488961&4294967295,L=H+(x<<14&4294967295|x>>>18),x=R+(H^I&(L^H))+N[4]+3889429448&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^H&(R^L))+N[9]+568446438&4294967295,I=R+(x<<5&4294967295|x>>>27),x=H+(R^L&(I^R))+N[14]+3275163606&4294967295,H=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(H^I))+N[3]+4107603335&4294967295,L=H+(x<<14&4294967295|x>>>18),x=R+(H^I&(L^H))+N[8]+1163531501&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^H&(R^L))+N[13]+2850285829&4294967295,I=R+(x<<5&4294967295|x>>>27),x=H+(R^L&(I^R))+N[2]+4243563512&4294967295,H=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(H^I))+N[7]+1735328473&4294967295,L=H+(x<<14&4294967295|x>>>18),x=R+(H^I&(L^H))+N[12]+2368359562&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(R^L^H)+N[5]+4294588738&4294967295,I=R+(x<<4&4294967295|x>>>28),x=H+(I^R^L)+N[8]+2272392833&4294967295,H=I+(x<<11&4294967295|x>>>21),x=L+(H^I^R)+N[11]+1839030562&4294967295,L=H+(x<<16&4294967295|x>>>16),x=R+(L^H^I)+N[14]+4259657740&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^H)+N[1]+2763975236&4294967295,I=R+(x<<4&4294967295|x>>>28),x=H+(I^R^L)+N[4]+1272893353&4294967295,H=I+(x<<11&4294967295|x>>>21),x=L+(H^I^R)+N[7]+4139469664&4294967295,L=H+(x<<16&4294967295|x>>>16),x=R+(L^H^I)+N[10]+3200236656&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^H)+N[13]+681279174&4294967295,I=R+(x<<4&4294967295|x>>>28),x=H+(I^R^L)+N[0]+3936430074&4294967295,H=I+(x<<11&4294967295|x>>>21),x=L+(H^I^R)+N[3]+3572445317&4294967295,L=H+(x<<16&4294967295|x>>>16),x=R+(L^H^I)+N[6]+76029189&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^H)+N[9]+3654602809&4294967295,I=R+(x<<4&4294967295|x>>>28),x=H+(I^R^L)+N[12]+3873151461&4294967295,H=I+(x<<11&4294967295|x>>>21),x=L+(H^I^R)+N[15]+530742520&4294967295,L=H+(x<<16&4294967295|x>>>16),x=R+(L^H^I)+N[2]+3299628645&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(L^(R|~H))+N[0]+4096336452&4294967295,I=R+(x<<6&4294967295|x>>>26),x=H+(R^(I|~L))+N[7]+1126891415&4294967295,H=I+(x<<10&4294967295|x>>>22),x=L+(I^(H|~R))+N[14]+2878612391&4294967295,L=H+(x<<15&4294967295|x>>>17),x=R+(H^(L|~I))+N[5]+4237533241&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~H))+N[12]+1700485571&4294967295,I=R+(x<<6&4294967295|x>>>26),x=H+(R^(I|~L))+N[3]+2399980690&4294967295,H=I+(x<<10&4294967295|x>>>22),x=L+(I^(H|~R))+N[10]+4293915773&4294967295,L=H+(x<<15&4294967295|x>>>17),x=R+(H^(L|~I))+N[1]+2240044497&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~H))+N[8]+1873313359&4294967295,I=R+(x<<6&4294967295|x>>>26),x=H+(R^(I|~L))+N[15]+4264355552&4294967295,H=I+(x<<10&4294967295|x>>>22),x=L+(I^(H|~R))+N[6]+2734768916&4294967295,L=H+(x<<15&4294967295|x>>>17),x=R+(H^(L|~I))+N[13]+1309151649&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~H))+N[4]+4149444226&4294967295,I=R+(x<<6&4294967295|x>>>26),x=H+(R^(I|~L))+N[11]+3174756917&4294967295,H=I+(x<<10&4294967295|x>>>22),x=L+(I^(H|~R))+N[2]+718787259&4294967295,L=H+(x<<15&4294967295|x>>>17),x=R+(H^(L|~I))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+H&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var R=I-this.blockSize,N=this.B,L=this.h,H=0;H<I;){if(L==0)for(;H<=R;)o(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<I;)if(N[L++]=M.charCodeAt(H++),L==this.blockSize){o(this,N),L=0;break}}else for(;H<I;)if(N[L++]=M[H++],L==this.blockSize){o(this,N),L=0;break}}this.h=L,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var R=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=R&255,R/=256;for(this.u(M),M=Array(16),I=R=0;4>I;++I)for(var N=0;32>N;N+=8)M[R++]=this.g[I]>>>N&255;return M};function u(M,I){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=I(M)}function f(M,I){this.h=I;for(var R=[],N=!0,L=M.length-1;0<=L;L--){var H=M[L]|0;N&&H==I||(R[L]=H,N=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(I){return new f([I|0],0>I?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return P(g(-M));for(var I=[],R=1,N=0;M>=R;N++)I[N]=M/R|0,R*=4294967296;return new f(I,0)}function T(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return P(T(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(I,8)),N=w,L=0;L<M.length;L+=8){var H=Math.min(8,M.length-L),x=parseInt(M.substring(L,L+H),I);8>H?(H=g(Math.pow(I,H)),N=N.j(H).add(g(x))):(N=N.j(R),N=N.add(g(x)))}return N}var w=p(0),S=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-P(this).m();for(var M=0,I=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*I,I*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if(G(this))return"-"+P(this).toString(M);for(var I=g(Math.pow(M,6)),R=this,N="";;){var L=ie(R,I).g;R=K(R,L.j(I));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=L,O(R))return H+N;for(;6>H.length;)H="0"+H;N=H+N}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function G(M){return M.h==-1}i.l=function(M){return M=K(this,M),G(M)?-1:O(M)?0:1};function P(M){for(var I=M.g.length,R=[],N=0;N<I;N++)R[N]=~M.g[N];return new f(R,~M.h).add(S)}i.abs=function(){return G(this)?P(this):this},i.add=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],N=0,L=0;L<=I;L++){var H=N+(this.i(L)&65535)+(M.i(L)&65535),x=(H>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);N=x>>>16,H&=65535,x&=65535,R[L]=x<<16|H}return new f(R,R[R.length-1]&-2147483648?-1:0)};function K(M,I){return M.add(P(I))}i.j=function(M){if(O(this)||O(M))return w;if(G(this))return G(M)?P(this).j(P(M)):P(P(this).j(M));if(G(M))return P(this.j(P(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var I=this.g.length+M.g.length,R=[],N=0;N<2*I;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<M.g.length;L++){var H=this.i(N)>>>16,x=this.i(N)&65535,At=M.i(L)>>>16,pt=M.i(L)&65535;R[2*N+2*L]+=x*pt,q(R,2*N+2*L),R[2*N+2*L+1]+=H*pt,q(R,2*N+2*L+1),R[2*N+2*L+1]+=x*At,q(R,2*N+2*L+1),R[2*N+2*L+2]+=H*At,q(R,2*N+2*L+2)}for(N=0;N<I;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=I;N<2*I;N++)R[N]=0;return new f(R,0)};function q(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function Y(M,I){this.g=M,this.h=I}function ie(M,I){if(O(I))throw Error("division by zero");if(O(M))return new Y(w,w);if(G(M))return I=ie(P(M),I),new Y(P(I.g),P(I.h));if(G(I))return I=ie(M,P(I)),new Y(P(I.g),I.h);if(30<M.g.length){if(G(M)||G(I))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=I;0>=N.l(M);)R=ue(R),N=ue(N);var L=Te(R,1),H=Te(N,1);for(N=Te(N,2),R=Te(R,2);!O(N);){var x=H.add(N);0>=x.l(M)&&(L=L.add(R),H=x),N=Te(N,1),R=Te(R,1)}return I=K(M,L.j(I)),new Y(L,I)}for(L=w;0<=M.l(I);){for(R=Math.max(1,Math.floor(M.m()/I.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),H=g(R),x=H.j(I);G(x)||0<x.l(M);)R-=N,H=g(R),x=H.j(I);O(H)&&(H=S),L=L.add(H),M=K(M,x)}return new Y(L,M)}i.A=function(M){return ie(this,M).h},i.and=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],N=0;N<I;N++)R[N]=this.i(N)&M.i(N);return new f(R,this.h&M.h)},i.or=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],N=0;N<I;N++)R[N]=this.i(N)|M.i(N);return new f(R,this.h|M.h)},i.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],N=0;N<I;N++)R[N]=this.i(N)^M.i(N);return new f(R,this.h^M.h)};function ue(M){for(var I=M.g.length+1,R=[],N=0;N<I;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(R,M.h)}function Te(M,I){var R=I>>5;I%=32;for(var N=M.g.length-R,L=[],H=0;H<N;H++)L[H]=0<I?M.i(H+R)>>>I|M.i(H+R+1)<<32-I:M.i(H+R);return new f(L,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Fb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,as=f}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gb,ql,Kb,ah,Hm,Qb,$b,Yb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,S.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,$){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return y.prototype[B].apply(A,re)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,$=A.length||0;c.length=B+$;for(let re=0;re<$;re++)c[B+re]=A[re]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ue=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Te(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function H(c){m.setTimeout(()=>{throw c},0)}function x(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class At{constructor(){this.h=this.g=null}add(y,_){const A=pt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new K(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,qe=new At,k=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(ne)}};var ne=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){H(_)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ie(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}O(Ie,ae);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,y,_,A,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=In(c,y,A,B);return-1<re?(y=c[re],_||(y.fa=!1)):(y=new rt(y,this.src,$,!!A,B),y.fa=_,c.push(y)),y};function xi(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(A,B,1),$&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,y,_,A){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return B}return-1}var mr="closure_lm_"+(1e6*Math.random()|0),pr={};function Di(c,y,_,A,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Di(c,y[$],_,A,B);return null}return _=wu(_),c&&c[gt]?c.K(y,_,g(A)?!!A.capture:!1,B):Do(c,y,_,!1,A,B)}function Do(c,y,_,A,B,$){if(!y)throw Error("Invalid event type");var re=g(B)?!!B.capture:!!B,Ve=Oo(c);if(Ve||(c[mr]=Ve=new rn(c)),_=Ve.add(y,_,A,re,$),_.proxy)return _;if(A=pa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)oe||(B=re),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(ya(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function pa(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function ga(c,y,_,A,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)ga(c,y[$],_,A,B);else A=g(A)?!!A.capture:!!A,_=wu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=In($,_,A,B),-1<_&&(Ke($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Oo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,_,A,B)),(_=-1<c?y[c]:null)&&As(_))}function As(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])xi(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ya(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Oo(y))?(xi(_,c),_.h==0&&(_.src=null,y[mr]=null)):Ke(c)}}}function ya(c){return c in pr?pr[c]:pr[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&As(c),c=_.call(A,y)}return c}function Oo(c){return c=c[mr],c instanceof rn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function wt(){de.call(this),this.i=new rn(this),this.M=this,this.F=null}O(wt,de),wt.prototype[gt]=!0,wt.prototype.removeEventListener=function(c,y,_,A){ga(this,c,y,_,A)};function kt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var B=y;y=new ae(A,c),N(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var re=y.g=_[$];B=Oi(re,A,!0,y)&&B}if(re=y.g=c,B=Oi(re,A,!0,y)&&B,B=Oi(re,A,!1,y)&&B,_)for($=0;$<_.length;$++)re=y.g=_[$],B=Oi(re,A,!1,y)&&B}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Ke(_[A]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},wt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Oi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var re=y[$];if(re&&!re.da&&re.capture==_){var Ve=re.listener,Rt=re.ha||re.src;re.fa&&xi(c.i,re),B=Ve.call(Rt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Su(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ko(c){c.g=Su(()=>{c.g=null,c.i&&(c.i=!1,ko(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){de.call(this),this.h=c,this.g={}}O(ws,de);var gr=[];function Yt(c){Te(c.g,function(y,_){this.g.hasOwnProperty(_)&&As(y)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Yt(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=m.JSON.stringify,ri=m.JSON.parse,sn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Vo(){}Vo.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Iu(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ae.call(this,"d")}O(yr,ae);function Kn(){ae.call(this,"c")}O(Kn,ae);var Cn={},_r=null;function _a(){return _r=_r||new wt}Cn.La="serverreachability";function Po(c){ae.call(this,Cn.La,c)}O(Po,ae);function vr(c){const y=_a();kt(y,new Po(y))}Cn.STAT_EVENT="statevent";function va(c,y){ae.call(this,Cn.STAT_EVENT,c),this.stat=y}O(va,ae);function ht(c){const y=_a();kt(y,new va(y,c))}Cn.Ma="timingevent";function Cu(c,y){ae.call(this,Cn.Ma,c),this.size=y}O(Cu,ae);function Er(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function Nu(c,y,_,A,B,$){c.info(function(){if(c.g)if($)for(var re="",Ve=$.split("&"),Rt=0;Rt<Ve.length;Rt++){var Pe=Ve[Rt].split("=");if(1<Pe.length){var Pt=Pe[0];Pe=Pe[1];var It=Pt.split("_");re=2<=It.length&&It[1]=="type"?re+(Pt+"="+Pe+"&"):re+(Pt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+re})}function xu(c,y,_,A,B,$,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+re})}function br(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,_)+(A?" "+A:"")})}function ai(c,y){c.info(function(){return"TIMEOUT: "+y})}Tr.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<B.length;re++)B[re]=""}}}}return Mo(_)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ss;function Ea(){}O(Ea,Vo),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Ss=new Ea;function oi(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var Ar={},Rs={};function Qn(c,y,_){c.L=1,c.v=Ns(st(y)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),et(c),c.A=st(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Li(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Lo,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(gr[0]=B.toString()),B=gr);for(var $=0;$<B.length;$++){var re=Di(_,B[$],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Nu(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const It=kn(this.g);var y=this.g.Ba();const Bi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Bi?vr(3):vr(2)),Ta(this);var _=this.g.Z();this.X=_;t:if(wr(this)){var A=Pu(this.g);c="";var B=A.length,$=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yn(this);var re="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,xu(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Rt=this.g;if((Ve=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)br(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,_);else{this.o=!1,this.s=3,ht(12),fn(this),yn(this);break e}}if(this.P){_=!0;let Ht;for(;!this.J&&this.C<re.length;)if(Ht=Sr(this,re),Ht==Rs){It==4&&(this.s=4,ht(14),_=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Ar){this.s=4,ht(15),br(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else br(this.i,this.l,Ht,null),_n(this,Ht);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||re.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)br(this.i,this.l,re,"[Invalid Chunked Response]"),fn(this),yn(this);else if(0<re.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ps(Pt),Pt.M=!0,ht(11))}}else br(this.i,this.l,re,null),_n(this,re);It==4&&fn(this),this.o&&!this.J&&(It==4?Bu(this.j,this):(this.o=!1,et(this)))}else _f(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),fn(this),yn(this)}}}catch{}finally{}};function wr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Rs:(_=Number(y.substring(_,A)),isNaN(_)?Ar:(A+=1,A+_>y.length?Rs:(y=y.slice(A,A+_),c.C=A+_,y)))}oi.prototype.cancel=function(){this.J=!0,fn(this)};function et(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Er(S(c.ba,c),y)}function Ta(c){c.B&&(m.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ai(this.i,this.A),this.L!=2&&(vr(),ht(17)),fn(this),this.s=2,yn(this)):Uo(this,this.S-c)};function yn(c){c.j.G==0||c.J||Bu(c.j,c)}function fn(c){Ta(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _n(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Rr(_.h,c))){if(!c.K&&Rr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Da(_),Na(_);else break e;Yo(_),ht(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Er(S(_.Za,_),6e3));if(1>=Du(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zi(_,11)}else if((c.K||_.g==c)&&Da(_),!q(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Pt=Pe[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const It=Pe[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Bi=Pe[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(A=1.5*Bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ht=c.g;if(Ht){const mi=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var $=A.h;$.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ir($,$.h),$.h=null))}if(A.D){const Wo=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(A.ya=Wo,ze(A.I,A.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=qu(A,A.J?A.ia:null,A.W),re.K){Nn(A.h,re);var Ve=re,Rt=A.L;Rt&&(Ve.I=Rt),Ve.B&&(Ta(Ve),et(Ve)),A.g=re}else ju(A);0<_.i.length&&xa(_)}else Pe[0]!="stop"&&Pe[0]!="close"||zi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?zi(_,7):Qo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}vr(4)}catch{}}var df=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Du(c){return c.h?1:c.g?c.g.size:0}function Rr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ir(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Ou(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function mf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Is(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=mf(c),A=Ou(c),B=A.length,$=0;$<B;$++)y.call(void 0,A[$],_&&_[$],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var $=c[_].substring(0,A);B=c[_].substring(A+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,Cr(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.s),this.l=c.l;var y=c.i,_=new li;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Aa(this,_),this.m=c.m}else c&&(y=String(c).match(Bo))?(this.h=!1,Cr(this,y[1]||"",!0),this.o=Nr(y[2]||""),this.g=Nr(y[3]||"",!0),Cs(this,y[4]),this.l=Nr(y[5]||"",!0),Aa(this,y[6]||"",!0),this.m=Nr(y[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Vi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xn(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xn(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xn(_,_.charAt(0)=="/"?qo:ku,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xn(_,yf)),c.join("")};function st(c){return new Vi(c)}function Cr(c,y,_){c.j=_?Nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Aa(c,y,_){y instanceof li?(c.i=y,Fo(c.i,c.h)):(_||(y=xn(y,gf)),c.i=new li(y,c.h))}function ze(c,y,_){c.i.set(y,_)}function Ns(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,pf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,ku=/[#\?:]/g,qo=/[#\?]/g,gf=/[#\?@]/g,yf=/#/g;function li(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=li.prototype,i.add=function(c,y){Dn(this),this.i=null,c=Ui(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function wa(c,y){Dn(c),y=Ui(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pi(c,y){return Dn(c),y=Ui(c,y),c.g.has(y)}i.forEach=function(c,y){Dn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let $=0;$<B.length;$++)_.push(y[A])}return _},i.V=function(c){Dn(this);let y=[];if(typeof c=="string")Pi(this,c)&&(y=y.concat(this.g.get(Ui(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Dn(this),this.i=null,c=Ui(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Li(c,y,_){wa(c,y),0<_.length&&(c.i=null,c.g.set(Ui(c,y),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var B=$;re[A]!==""&&(B+="="+encodeURIComponent(String(re[A]))),c.push(B)}}return this.i=c.join("&")};function Ui(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fo(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(wa(this,A),Li(this,B,_))},c)),c.j=y}function Mu(c,y){const _=new Tr;if(m.Image){const A=new Image;A.onload=D(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=D(On,_,"TestLoadImage: error",!1,y,A),A.onabort=D(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(On,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function xs(c,y){const _=new Tr,A=new AbortController,B=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(B),$.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),On(_,"TestPingServer: error",!1,y)})}function On(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Ds(){this.g=new sn}function ui(c,y,_){const A=_||"";try{Is(c,function(B,$){let re=B;g(B)&&(re=Mo(B)),y.push(A+$+"="+encodeURIComponent(re))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(xr,Vo),xr.prototype.g=function(){return new ji(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function ji(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ji,wt),i=ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ci(this):hi(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},i.Qa=function(c){this.g&&(this.response=c,ci(this))},i.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return Te(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Vt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,y,_))}function Fe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Fe,wt);var Sa=/^https?$/i,Os=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ss.g(),this.v=this.o?Ru(this.o):Ru(Ss),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Vu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of _)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Vu(this,$)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ra(c),fi(c)}function Ra(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),fi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},i.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Su(c.Ea,0,c);else if(kt(c,"readystatechange"),kn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=re===0){var B=String(c.D).match(Bo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!Sa.test(B?B.toLowerCase():"")}_=A}if(_)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var $=2<kn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ra(c)}}finally{fi(c)}}}}function fi(c,y){if(c.g){ks(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||kt(c,"ready");try{_.onreadystatechange=A}catch{}}}function ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ri(y)}};function Pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(q(c[A]))continue;var _=L(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ca(c){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ca.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){ht(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=qu(this,null,this.W),xa(this)};function Qo(c){if(Lu(c),c.G==3){var y=c.U++,_=st(c.I);if(ze(_,"SID",c.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Vs(c,_),y=new oi(c,c.j,y),y.L=2,y.v=Ns(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Hu(c)}function Na(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function Lu(c){Na(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xa(c){if(!zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||k(),pe||(_e(),pe=!0),qe.add(y,c),c.B=0}}function vf(c,y){return Du(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Er(S(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new oi(this,this.j,c);let $=this.o;if(this.S&&($?($=I($),N($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Uu(this,B,y),_=st(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Vs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Ko($)))+"&"+y:this.m&&Vt(_,this.m,$)),Ir(this.h,B),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),B.T=!0,Qn(B,_,null)):Qn(B,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||zo(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const A=st(c.I);ze(A,"SID",c.K),ze(A,"RID",_),ze(A,"AID",c.T),Vs(c,A),c.m&&c.o&&Vt(A,c.m,c.o),_=new oi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,_),Qn(_,A,y)}function Vs(c,y){c.H&&Te(c.H,function(_,A){ze(y,A,_)}),c.l&&Is({},function(_,A){ze(y,A,_)})}function Uu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const re=["count="+_];$==-1?0<_?($=B[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let Ve=!0;for(let Rt=0;Rt<_;Rt++){let Pe=B[Rt].g;const Pt=B[Rt].map;if(Pe-=$,0>Pe)$=Math.max(0,B[Rt].g-100),Ve=!1;else try{ui(Pt,re,"req"+Pe+"_")}catch{A&&A(Pt)}}if(Ve){A=re.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||k(),pe||(_e(),pe=!0),qe.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Er(S(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Er(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Na(this),zu(this))};function Ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=st(c.qa);ze(y,"RID","rpc"),ze(y,"SID",c.K),ze(y,"AID",c.T),ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(y,"TO",c.ja),ze(y,"TYPE","xmlhttp"),Vs(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ns(st(y)),_.m=null,_.P=!0,Mi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Na(this),Yo(this),ht(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,y){var _=null;if(c.g==y){Da(c),Ps(c),c.g=null;var A=2}else if(Rr(c.h,y))_=y.D,Nn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=_a(),kt(A,new Cu(A,_)),xa(c)}else ju(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&vf(c,y)||A==2&&Yo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),A=c.Xa;const B=!A;A=new Vi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Cr(A,"https"),Ns(A),B?Mu(A.toString(),_):xs(A.toString(),_)}else ht(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,_){var A=_ instanceof Vi?st(_):new Vi(_);if(A.g!="")y&&(A.g=y+"."+A.g),Cs(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Vi(null);A&&Cr($,A),y&&($.g=y),B&&Cs($,B),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&ze(A,_,y),ze(A,"VER",c.la),Vs(c,A),A}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new xr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new on(c,y)};function on(c,y){wt.call(this),this.g=new Ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new di(this)}O(on,wt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Qo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mo(c),c=_);y.i.push(new df(y.Ya++,c)),y.G==3&&xa(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,on.aa.N.call(this)};function Ku(c){yr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Ku,yr);function Qu(){Kn.call(this),this.status=1}O(Qu,Kn);function di(c){this.g=c}O(di,Gu),di.prototype.ua=function(){kt(this.g,"a")},di.prototype.ta=function(c){kt(this.g,new Ku(c))},di.prototype.sa=function(c){kt(this.g,new Qu)},di.prototype.ra=function(){kt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Yb=function(){return new Oa},$b=function(){return _a()},Qb=Cn,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,ah=St,ki.COMPLETE="complete",Kb=ki,Iu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.K,ql=Iu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Gb=Fe}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new mp("@firebase/firestore");function so(){return la.logLevel}function le(i,...e){if(la.logLevel<=De.DEBUG){const n=e.map(Dp);la.debug(`Firestore (${Io}): ${i}`,...n)}}function hr(i,...e){if(la.logLevel<=De.ERROR){const n=e.map(Dp);la.error(`Firestore (${Io}): ${i}`,...n)}}function po(i,...e){if(la.logLevel<=De.WARN){const n=e.map(Dp);la.warn(`Firestore (${Io}): ${i}`,...n)}}function Dp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+i;throw hr(e),new Error(e)}function Ge(i,e){i||Ee()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class Mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new Xb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class Px{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Lx{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Px(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ux{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _E(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new _E(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Fm(i,e){const n=qm().encode(i),s=qm().encode(e);for(let o=0;o<Math.min(n.length,s.length);o++){const u=Oe(n[o],s[o]);if(u!==0)return u}return Oe(n.length,s.length)}function go(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=-62135596800,EE=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*EE);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vE)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="__name__";class Ei{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=Ei.isNumericId(e),o=Ei.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class Ze extends Ei{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ei{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return zx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new Qt([TE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ze.fromString(e))}static fromName(e){return new ge(Ze.fromString(e).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function Bx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new cs(o,ge.empty(),e)}function Hx(i){return new cs(i.readTime,i.key,iu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(be.min(),ge.empty(),iu)}static max(){return new cs(be.max(),ge.empty(),iu)}}function qx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==Fx)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Kx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function qh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function Qx(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function $x(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=bE(e)),e=Yx(i.get(n),e);return bE(e)}function Yx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Zb:n+="";break;default:n+=u}}return n}function bE(i){return i+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function vs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Jb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ot(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eA("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(i){if(Ge(!!i),typeof i=="string"){let e=0;const n=Xx.exec(i);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fs(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="server_timestamp",nA="__type__",iA="__previous_value__",rA="__local_write_time__";function kp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[nA])===null||n===void 0?void 0:n.stringValue)===tA}function Fh(i){const e=i.mapValue.fields[iA];return kp(e)?Fh(e):e}function ru(i){const e=hs(i.mapValue.fields[rA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const bh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__type__",Zx="__max__",Wc={mapValue:{}},aA="__vector__",Ah="value";function ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:eD(i)?9007199254740991:Jx(i)?10:11:Ee()}function Ii(i,e){if(i===e)return!0;const n=ds(i);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ru(i).isEqual(ru(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(AE(f)!==AE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ii(f[p],m[p])))return!1;return!0}(i,e);default:return Ee()}}function au(i,e){return(i.values||[]).find(n=>Ii(n,e))!==void 0}function yo(i,e){if(i===e)return 0;const n=ds(i),s=ds(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return SE(i.timestampValue,e.timestampValue);case 4:return SE(ru(i),ru(e));case 5:return Fm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Oe(m[g],p[g]);if(T!==0)return T}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(dt(u.latitude),dt(f.latitude));return m!==0?m:Oe(dt(u.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return RE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},S=f.fields||{},D=(m=w[Ah])===null||m===void 0?void 0:m.arrayValue,O=(p=S[Ah])===null||p===void 0?void 0:p.arrayValue,G=Oe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=O==null?void 0:O.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:RE(D,O)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const S=Fm(p[w],T[w]);if(S!==0)return S;const D=yo(m[p[w]],g[T[w]]);if(D!==0)return D}return Oe(p.length,T.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function SE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=hs(i),s=hs(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function RE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function _o(i){return Gm(i)}function Gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return fs(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"}(i.mapValue):Ee()}function oh(i){switch(ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+oh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,f)=>{o+=u.length+oh(f)}),o}(i.mapValue);default:throw Ee()}}function IE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Km(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function CE(i){return!!i&&"nullValue"in i}function NE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function Jx(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===aA}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function eD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Zx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pn(Yl(this.value))}}function oA(i){const e=[];return vs(i.fields,(n,s)=>{const o=new Qt([n]);if(lh(s)){const u=oA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function xE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ii(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{}class bt extends lA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new iD(e,n,s):n==="array-contains"?new aD(e,s):n==="in"?new oD(e,s):n==="not-in"?new lD(e,s):n==="array-contains-any"?new uD(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rD(e,s):new sD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends lA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ei(e,n)}matches(e){return uA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uA(i){return i.op==="and"}function cA(i){return nD(i)&&uA(i)}function nD(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function Qm(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(cA(i))return i.filters.map(e=>Qm(e)).join(",");{const e=i.filters.map(n=>Qm(n)).join(",");return`${i.op}(${e})`}}function hA(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)}(i,e):i instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&hA(f,o.filters[m]),!0):!1}(i,e):void Ee()}function fA(i){return i instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(i):i instanceof ei?function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"}(i):"Filter"}class iD extends bt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class rD extends bt{constructor(e,n){super(e,"in",n),this.keys=dA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sD extends bt{constructor(e,n){super(e,"not-in",n),this.keys=dA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dA(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class aD extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&au(n.arrayValue,this.value)}}class oD extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class lD extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class uD extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function OE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new cD(i,e,n,s,o,u,f)}function Vp(i){const e=we(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=n}return e.le}function Pp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!tD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!DE(i.startAt,e.startAt)&&DE(i.endAt,e.endAt)}function $m(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hD(i,e,n,s,o,u,f,m){return new _u(i,e,n,s,o,u,f,m)}function Gh(i){return new _u(i)}function kE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mA(i){return i.collectionGroup!==null}function Xl(i){const e=we(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Sh(u,s))}),n.has(Qt.keyField().canonicalString())||e.he.push(new Sh(Qt.keyField(),s))}return e.he}function Si(i){const e=we(i);return e.Pe||(e.Pe=fD(e,Xl(i))),e.Pe}function fD(i,e){if(i.limitType==="F")return OE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Sh(o.field,u)});const n=i.endAt?new wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new wh(i.startAt.position,i.startAt.inclusive):null;return OE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ym(i,e){const n=i.filters.concat([e]);return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Rh(i,e,n){return new _u(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Kh(i,e){return Pp(Si(i),Si(e))&&i.limitType===e.limitType}function pA(i){return`${Vp(Si(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>fA(o)).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(Si(i))}; limitType=${i.limitType})`}function Qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=xE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Xl(s),o)||s.endAt&&!function(f,m,p){const g=xE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Xl(s),o))}(i,e)}function dD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gA(i){return(e,n)=>{let s=!1;for(const o of Xl(i)){const u=mD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mD(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new it(ge.comparator);function fr(){return pD}const yA=new it(ge.comparator);function Fl(...i){let e=yA;for(const n of i)e=e.insert(n.key,n);return e}function _A(i){let e=yA;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function na(){return Wl()}function vA(){return Wl()}function Wl(){return new da(i=>i.toString(),(i,e)=>i.isEqual(e))}const gD=new it(ge.comparator),yD=new Ot(ge.comparator);function ke(...i){let e=yD;for(const n of i)e=e.add(n);return e}const _D=new Ot(Oe);function vD(){return _D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function EA(i){return{integerValue:""+i}}function ED(i,e){return Qx(e)?EA(e):Lp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function TD(i,e,n){return i instanceof Ih?function(o,u){const f={fields:{[nA]:{stringValue:tA},[rA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=Fh(u)),u&&(f.fields[iA]=u),{mapValue:f}}(n,e):i instanceof ou?bA(i,e):i instanceof lu?AA(i,e):function(o,u){const f=TA(o,u),m=ME(f)+ME(o.Ie);return Km(f)&&Km(o.Ie)?EA(m):Lp(o.serializer,m)}(i,e)}function bD(i,e,n){return i instanceof ou?bA(i,e):i instanceof lu?AA(i,e):n}function TA(i,e){return i instanceof Ch?function(s){return Km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ih extends $h{}class ou extends $h{constructor(e){super(),this.elements=e}}function bA(i,e){const n=wA(e);for(const s of i.elements)n.some(o=>Ii(o,s))||n.push(s);return{arrayValue:{values:n}}}class lu extends $h{constructor(e){super(),this.elements=e}}function AA(i,e){let n=wA(e);for(const s of i.elements)n=n.filter(o=>!Ii(o,s));return{arrayValue:{values:n}}}class Ch extends $h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ME(i){return dt(i.integerValue||i.doubleValue)}function wA(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function AD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?go(s.elements,o.elements,Ii):s instanceof Ch&&o instanceof Ch?Ii(s.Ie,o.Ie):s instanceof Ih&&o instanceof Ih}(i.transform,e.transform)}class wD{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yh{}function SA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Up(i.key,Fn.none()):new vu(i.key,i.data,Fn.none());{const n=i.data,s=pn.empty();let o=new Ot(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(i.key,s,new Rn(o.toArray()),Fn.none())}}function SD(i,e,n){i instanceof vu?function(o,u,f){const m=o.value.clone(),p=PE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Es?function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=PE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(RA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zl(i,e,n,s){return i instanceof vu?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=u.value.clone(),T=LE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Es?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=LE(u.fieldTransforms,p,f),T=f.data;return T.setAll(RA(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function RD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=TA(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function VE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>AD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vu extends Yh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Yh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function PE(i,e,n){const s=new Map;Ge(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,bD(f,m,n[o]))}return s}function LE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TD(u,f,e))}return s}class Up extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ID extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=SA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>VE(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>VE(n,s))}}class jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return gD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function DD(i){switch(i){case ee.OK:return Ee();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee()}}function IA(i){if(i===void 0)return hr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return Ee()}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new as([4294967295,4294967295],0);function UE(i){const e=qm().encode(i),n=new Fb;return n.update(e),new Uint8Array(n.digest())}function jE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=as.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(OD)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=UE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=UE(e),[s,o]=jE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xh(be.min(),o,new it(Oe),fr(),ke())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class CA{constructor(e,n){this.targetId=e,this.ge=n}}class NA{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class zE{constructor(){this.pe=0,this.ye=BE(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new Eu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=BE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fr(),this.$e=Zc(),this.Ue=Zc(),this.Ke=new it(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new ge(u.path);this.ze(n,f,en.newNoDocument(f,be.min()))}else Ge(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof eA)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(f,o,u)}catch(p){return po(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&$m(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Xh(e,n,this.Ke,this.Qe,s);return this.Qe=fr(),this.$e=Zc(),this.Ue=Zc(),this.Ke=new it(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new zE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ot(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new zE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new it(ge.comparator)}function BE(){return new it(ge.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(i,e){return i.useProto3Json||qh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function UD(i,e){return Nh(i,e.toTimestamp())}function Ri(i){return Ge(!!i),be.fromTimestamp(function(n){const s=hs(n);return new Dt(s.seconds,s.nanos)}(i))}function Bp(i,e){return Wm(i,e).canonicalString()}function Wm(i,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function DA(i){const e=Ze.fromString(i);return Ge(PA(e)),e}function Zm(i,e){return Bp(i.databaseId,e.path)}function Rm(i,e){const n=DA(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(kA(n))}function OA(i,e){return Bp(i.databaseId,e)}function jD(i){const e=DA(i);return e.length===4?Ze.emptyPath():kA(e)}function Jm(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kA(i){return Ge(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function HE(i,e,n){return{name:Zm(i,e),fields:n.value.mapValue.fields}}function zD(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Ge(T===void 0||typeof T=="string"),$t.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array),$t.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ee.UNKNOWN:IA(g.code);return new ce(T,g.message||"")}(f);n=new NA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(i,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):be.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new ch(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(i,s.document),u=s.readTime?Ri(s.readTime):be.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xD(o,u),m=s.targetId;n=new CA(m,f)}}return n}function BD(i,e){let n;if(e instanceof vu)n={update:HE(i,e.key,e.value)};else if(e instanceof Up)n={delete:Zm(i,e.key)};else if(e instanceof Es)n={update:HE(i,e.key,e.data),updateMask:XD(e.fieldMask)};else{if(!(e instanceof ID))return Ee();n={verify:Zm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:UD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(i,e.precondition)),n}function HD(i,e){return i&&i.length>0?(Ge(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(be.min())&&(f=Ri(u)),new wD(f,o.transformResults||[])}(n,e))):[]}function qD(i,e){return{documents:[OA(i,e.path)]}}function FD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=OA(i,o);const u=function(g){if(g.length!==0)return VA(ei.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:oo(S.field),direction:QD(S.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function GD(i){let e=jD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const S=MA(w);return S instanceof ei&&cA(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(O){return new Sh(lo(O.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,qh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,D=w.values||[];return new wh(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,D=w.values||[];return new wh(D,S)}(n.endAt)),hD(e,o,f,u,m,"F",p,g)}function KD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return bt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ei.create(n.compositeFilter.filters.map(s=>MA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function QD(i){return MD[i]}function $D(i){return VD[i]}function YD(i){return PD[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Qt.fromServerFormat(i.fieldPath)}function VA(i){return i instanceof bt?function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(CE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(CE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:$D(n.op),value:n.value}}}(i):i instanceof ei?function(n){const s=n.getFilters().map(o=>VA(o));return s.length===1?s[0]:{compositeFilter:{op:YD(n.op),filters:s}}}(i):Ee()}function XD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=be.min(),f=be.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.Tt=e}}function ZD(i){const e=GD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.Tn=new e2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(cs.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class e2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(LA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",t2=1048576;function GE([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class n2{constructor(e){this.Hn=e,this.buffer=new Ot(GE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();GE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(FE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(FE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.er(3e5)})}}class r2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Hh.ae);const s=new n2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(qE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=De.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function s2(i,e){return new r2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Zl(s.mutation,o,Rn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=fr();const f=Wl(),m=function(){return Wl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Es)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Zl(T.mutation,g,T.mutation.getFieldMask(),Dt.now())):f.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new o2(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new it((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Rn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=vA();T.forEach(S=>{if(!u.has(S)){const D=SA(n.get(S),s.get(S));D!==null&&w.set(S,D),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(na());let m=iu,p=u;return f.next(g=>J.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(T=>({batchId:m,changes:_A(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,S){return new _u(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))});let m=Fl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Zl(T.mutation,g,Rn.empty(),Dt.now()),Qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ZD(o.bundledQuery),readTime:Ri(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.overlays=new it(ge.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new it((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=na(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ND(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new Ze([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new Ze([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Op:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Oe);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ge(u),0);let m=new Ot(Oe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.kr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qx(Hx(T),s)<=0||(o.has(T.key)||Qh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new m2(this)}getSize(e){return J.resolve(this.size)}}class m2 extends a2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.persistence=e,this.Qr=new da(n=>Vp(n),Pp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hp,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Hh(0),this.zr=!1,this.zr=!0,this.jr=new h2,this.referenceDelegate=e(this),this.Hr=new p2(this),this.indexManager=new JD,this.remoteDocumentCache=function(o){return new d2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new WD(n),this.Yr=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new f2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new g2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class g2 extends Gx{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new qp(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.oi=new da(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=s2(this,n)}static ri(e,n){return new xh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return GR()?8:Kx(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new y2;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(so()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(so()<=De.DEBUG&&le("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):J.resolve())}rs(e,n){if(kE(n))return J.resolve(null);let s=Si(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rh(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Rh(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return kE(n)||o.isEqual(be.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(so()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,f,n,Bx(o,iu)).next(m=>m))})}cs(e,n){let s=new Ot(gA(e));return n.forEach((o,u)=>{Qh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return so()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,cs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",v2=3e8;class E2{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new it(Oe),this.Is=new da(u=>Vp(u),Pp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function T2(i,e,n,s){return new E2(i,e,n,s)}async function jA(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function b2(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,S=w.keys();let D=J.resolve();return S.forEach(O=>{D=D.next(()=>T.getEntry(p,O)).next(G=>{const P=g.docVersions.get(O);Ge(P!==null),G.version.compareTo(P)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function zA(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function A2(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,w)=>{const S=o.get(w);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,w)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken($t.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(w,D),function(G,P,K){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=v2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,D,T)&&m.push(n.Hr.updateTargetData(u,D))});let p=fr(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(w2(u,f,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(be.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function w2(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=fr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Gp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function S2(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function R2(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new is(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ep(i,e,n){const s=we(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;le(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function KE(i,e,n){const s=we(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=we(p),S=w.Is.get(T);return S!==void 0?J.resolve(w.Ts.get(S)):w.Hr.getTargetData(g,T)}(s,f,Si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke())).next(m=>(I2(s,dD(e),m),{documents:m,gs:u})))}function I2(i,e,n){let s=i.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class QE{constructor(){this.activeTargetIds=vD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C2{constructor(){this.ho=new QE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new QE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class YE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le($E,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function tp(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=tp(),m=this.bo(e,n.toUriEncodedString());le(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(le(Im,`Received RPC '${e}' ${f}: `,g),g),g=>{throw po(Im,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=x2[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class k2 extends D2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=tp();return new Promise((f,m)=>{const p=new Gb;p.setWithCredentials(!0),p.listenOnce(Kb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const T=p.getResponseJson();le(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case ah.TIMEOUT:le(Zt,`RPC '${e}' ${u} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const w=p.getStatus();if(le(Zt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S==null?void 0:S.error;if(D&&D.status&&D.message){const O=function(P){const K=P.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(D.status);m(new ce(O,D.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(Zt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=tp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Yb(),m=$b(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);let S=!1,D=!1;const O=new O2({Fo:P=>{D?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(S||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Mo:()=>w.close()}),G=(P,K,q)=>{P.listen(K,Y=>{try{q(Y)}catch(ie){setTimeout(()=>{throw ie},0)}})};return G(w,ql.EventType.OPEN,()=>{D||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),G(w,ql.EventType.CLOSE,()=>{D||(D=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),O.Uo())}),G(w,ql.EventType.ERROR,P=>{D||(D=!0,po(Zt,`RPC '${e}' stream ${o} transport errored:`,P),O.Uo(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),G(w,ql.EventType.MESSAGE,P=>{var K;if(!D){const q=P.data[0];Ge(!!q);const Y=q,ie=(Y==null?void 0:Y.error)||((K=Y[0])===null||K===void 0?void 0:K.error);if(ie){le(Zt,`RPC '${e}' stream ${o} received error:`,ie);const ue=ie.status;let Te=function(R){const N=Et[R];if(N!==void 0)return IA(N)}(ue),M=ie.message;Te===void 0&&(Te=ee.INTERNAL,M="Unknown error status: "+ue+" with message "+ie.message),D=!0,O.Uo(new ce(Te,M)),w.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,q),O.Ko(q)}}),G(m,Qb.STAT_EVENT,P=>{P.stat===Hm.PROXY?le(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Hm.NOPROXY&&le(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){return new LD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class HA{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(XE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M2 extends HA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=zD(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ri(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:qD(u,p)}:{query:FD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=xA(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=KD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.I_(n)}}class V2 extends HA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=HD(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Jm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>BD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class L2 extends P2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Wm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Wm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class U2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hr(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class j2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ma(this)&&(le(ua,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.W_.add(4),await Tu(g),g.j_.set("Unknown"),g.W_.delete(4),await Zh(g)}(this))})}),this.j_=new U2(s,o)}}async function Zh(i){if(ma(i))for(const e of i.G_)await e(!0)}async function Tu(i){for(const e of i.G_)await e(!1)}function qA(i,e){const n=we(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Yp(n)?$p(n):xo(n).c_()&&Qp(n,e))}function Kp(i,e){const n=we(i),s=xo(n);n.K_.delete(e),s.c_()&&FA(n,e),n.K_.size===0&&(s.c_()?s.P_():ma(n)&&n.j_.set("Unknown"))}function Qp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(i).y_(e)}function FA(i,e){i.H_.Ne(e),xo(i).w_(e)}function $p(i){i.H_=new kD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.j_.B_()}function Yp(i){return ma(i)&&!xo(i).u_()&&i.K_.size>0}function ma(i){return we(i).W_.size===0}function GA(i){i.H_=void 0}async function z2(i){i.j_.set("Online")}async function B2(i){i.K_.forEach((e,n)=>{Qp(i,e)})}async function H2(i,e){GA(i),Yp(i)?(i.j_.q_(e),$p(i)):i.j_.set("Unknown")}async function q2(i,e,n){if(i.j_.set("Online"),e instanceof NA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof ch?i.H_.We(e):e instanceof CA?i.H_.Ze(e):i.H_.je(e),!n.isEqual(be.min()))try{const s=await zA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(g);T&&u.K_.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken($t.EMPTY_BYTE_STRING,T.snapshotVersion)),FA(u,p);const w=new is(T.target,p,g,T.sequenceNumber);Qp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){le(ua,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,n){if(!No(e))throw e;i.W_.add(1),await Tu(i),i.j_.set("Offline"),n||(n=()=>zA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(ua,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Zh(i)})}function KA(i,e){return e().catch(n=>Dh(i,n,e))}async function Jh(i){const e=we(i),n=ms(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Op;for(;F2(e);)try{const o=await S2(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,G2(e,o)}catch(o){await Dh(e,o)}QA(e)&&$A(e)}function F2(i){return ma(i)&&i.U_.length<10}function G2(i,e){i.U_.push(e);const n=ms(i);n.c_()&&n.S_&&n.b_(e.mutations)}function QA(i){return ma(i)&&!ms(i).u_()&&i.U_.length>0}function $A(i){ms(i).start()}async function K2(i){ms(i).C_()}async function Q2(i){const e=ms(i);for(const n of i.U_)e.b_(n.mutations)}async function $2(i,e,n){const s=i.U_.shift(),o=jp.from(s,e,n);await KA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jh(i)}async function Y2(i,e){e&&ms(i).S_&&await async function(s,o){if(function(f){return DD(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();ms(s).h_(),await KA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(s)}}(i,e),QA(i)&&$A(i)}async function WE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const s=ma(n);n.W_.add(3),await Tu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function X2(i,e){const n=we(i);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await Tu(n),n.j_.set("Unknown"))}function xo(i){return i.J_||(i.J_=function(n,s,o){const u=we(n);return u.M_(),new M2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:z2.bind(null,i),No:B2.bind(null,i),Lo:H2.bind(null,i),p_:q2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Yp(i)?$p(i):i.j_.set("Unknown")):(await i.J_.stop(),GA(i))})),i.J_}function ms(i){return i.Y_||(i.Y_=function(n,s,o){const u=we(n);return u.M_(),new V2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:K2.bind(null,i),Lo:Y2.bind(null,i),D_:Q2.bind(null,i),v_:$2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Jh(i)):(await i.Y_.stop(),i.U_.length>0&&(le(ua,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(i,e){if(hr("AsyncQueue",`${e}: ${i}`),No(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.Z_=new it(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Eo(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Z2{constructor(){this.queries=JE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=JE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function JE(){return new da(i=>pA(i),Kh)}async function Zp(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new W2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Wp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&eg(n)}async function Jp(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J2(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&eg(n)}function eO(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function eg(i){i.ia.forEach(e=>{e.next()})}var np,eT;(eT=np||(np={}))._a="default",eT.Cache="cache";class tg{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.key=e}}class XA{constructor(e){this.key=e}}class tO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=gA(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new ZE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const S=o.get(T),D=Qh(this.query,w)?w:null,O=!!S&&this.mutatedKeys.has(S.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;S&&D?S.data.isEqual(D.data)?O!==G&&(s.track({type:3,doc:D}),P=!0):this.va(S,D)||(s.track({type:2,doc:D}),P=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(m=!0)):!S&&D?(s.track({type:0,doc:D}),P=!0):S&&!D&&(s.track({type:1,doc:S}),P=!0,(p||g)&&(m=!0)),P&&(D?(f=f.add(D),u=G?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,w)=>function(D,O){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return G(D)-G(O)}(T.type,w.type)||this.ya(T.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new Eo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ZE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new XA(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new YA(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ng="SyncEngine";class nO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iO{constructor(e){this.key=e,this.Ba=!1}}class rO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new da(m=>pA(m),Kh),this.qa=new Map,this.Qa=new Set,this.$a=new it(ge.comparator),this.Ua=new Map,this.Ka=new Hp,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sO(i,e,n=!0){const s=nw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await WA(s,e,n,!0),o}async function aO(i,e){const n=nw(i);await WA(n,e,!0,!1)}async function WA(i,e,n,s){const o=await R2(i.localStore,Si(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&qA(i.remoteStore,o),m}async function oO(i,e,n,s,o){i.Ha=(w,S,D)=>async function(G,P,K,q){let Y=P.view.ba(K);Y.ls&&(Y=await KE(G.localStore,P.query,!1).then(({documents:M})=>P.view.ba(M,Y)));const ie=q&&q.targetChanges.get(P.targetId),ue=q&&q.targetMismatches.get(P.targetId)!=null,Te=P.view.applyChanges(Y,G.isPrimaryClient,ie,ue);return nT(G,P.targetId,Te.Ma),Te.snapshot}(i,w,S,D);const u=await KE(i.localStore,e,!0),f=new tO(e,u.gs),m=f.ba(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);nT(i,n,g.Ma);const T=new nO(e,n,f);return i.ka.set(e,T),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function lO(i,e,n){const s=we(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Kh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kp(s.remoteStore,o.targetId),ip(s,o.targetId)}).catch(Co)):(ip(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function uO(i,e){const n=we(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function cO(i,e,n){const s=yO(i);try{const o=await function(f,m){const p=we(f),g=Dt.now(),T=m.reduce((D,O)=>D.add(O.key),ke());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=fr(),G=ke();return p.ds.getEntries(D,T).next(P=>{O=P,O.forEach((K,q)=>{q.isValidDocument()||(G=G.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,O)).next(P=>{w=P;const K=[];for(const q of m){const Y=RD(q,w.get(q.key).overlayedDocument);Y!=null&&K.push(new Es(q.key,Y,oA(Y.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)}).next(P=>{S=P;const K=P.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(D,P.batchId,K)})}).then(()=>({batchId:S.batchId,changes:_A(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new it(Oe)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await bu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");n.reject(u)}}async function ZA(i,e){const n=we(i);try{const s=await A2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ge(f.Ba):o.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await bu(n,s,e)}catch(s){await Co(s)}}function tT(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const S of w.ta)S.sa(m)&&(g=!0)}),g&&eg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hO(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new it(ge.comparator);f=f.insert(u,en.newNoDocument(u,be.min()));const m=ke().add(u),p=new Xh(be.min(),new Map,new it(Oe),f,m);await ZA(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),ig(s)}else await ep(s.localStore,e,!1).then(()=>ip(s,e,n)).catch(Co)}async function fO(i,e){const n=we(i),s=e.batch.batchId;try{const o=await b2(n.localStore,e);ew(n,s,null),JA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await Co(o)}}async function dO(i,e,n){const s=we(i);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ge(w!==null),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);ew(s,e,n),JA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await Co(o)}}function JA(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function ew(i,e,n){const s=we(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ip(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||tw(i,s)})}function tw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Kp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),ig(i))}function nT(i,e,n){for(const s of n)s instanceof YA?(i.Ka.addReference(s.key,e),mO(i,s)):s instanceof XA?(le(ng,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||tw(i,s.key)):Ee()}function mO(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(le(ng,"New document in limbo: "+n),i.Qa.add(s),ig(i))}function ig(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ge(Ze.fromString(e)),s=i.za.next();i.Ua.set(s,new iO(n)),i.$a=i.$a.insert(n,s),qA(i.remoteStore,new is(Si(Gh(n.path)),s,"TargetPurposeLimboResolution",Hh.ae))}}async function bu(i,e,n){const s=we(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Fp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,S=>J.forEach(S.Hi,D=>T.persistence.referenceDelegate.addReference(w,S.targetId,D)).next(()=>J.forEach(S.Ji,D=>T.persistence.referenceDelegate.removeReference(w,S.targetId,D)))))}catch(w){if(!No(w))throw w;le(Gp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const D=T.Ts.get(S),O=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(O);T.Ts=T.Ts.insert(S,G)}}}(s.localStore,u))}async function pO(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){le(ng,"User change. New user:",e.toKey());const s=await jA(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Rs)}}function gO(i,e){const n=we(i),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function nw(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hO.bind(null,e),e.La.p_=J2.bind(null,e.eventManager),e.La.Ja=eO.bind(null,e.eventManager),e}function yO(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return T2(this.persistence,new _2,e.initialUser,this.serializer)}Xa(e){return new UA(qp.ri,this.serializer)}Za(e){return new C2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class _O extends Oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof xh);const s=this.persistence.referenceDelegate.garbageCollector;return new i2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new UA(s=>xh.ri(s,n),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z2}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),s=function(u){return new k2(u)}(e.databaseInfo);return function(u,f,m,p){return new L2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new j2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return YE.D()?new YE:new N2}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new rO(o,u,f,m,p,g);return T&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);le(ua,"RemoteStore shutting down."),u.W_.add(5),await Tu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class vO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),le(ps,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await jA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function iT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await EO(i);le(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>WE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>WE(e.remoteStore,o)),i._onlineComponents=e}async function EO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(ps,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Nm(i,new Oh)}}else le(ps,"Using default OfflineComponentProvider"),await Nm(i,new _O(void 0));return i._offlineComponents}async function iw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(ps,"Using user provided OnlineComponentProvider"),await iT(i,i._uninitializedComponentsProvider._online)):(le(ps,"Using default OnlineComponentProvider"),await iT(i,new rp))),i._onlineComponents}function TO(i){return iw(i).then(e=>e.syncEngine)}async function kh(i){const e=await iw(i),n=e.eventManager;return n.onListen=sO.bind(null,e.syncEngine),n.onUnlisten=lO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),n}function bO(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new rg({next:S=>{T.su(),f.enqueueAndForget(()=>Jp(u,w));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new tg(Gh(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Zp(u,w)}(await kh(i),i.asyncQueue,e,n,s)),s.promise}function AO(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new rg({next:S=>{T.su(),f.enqueueAndForget(()=>Jp(u,w)),S.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new tg(m,T,{includeMetadataChanges:!0,Ta:!0});return Zp(u,w)}(await kh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function wO(i,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function sT(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function aT(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firestore.googleapis.com",oT=!0;class lT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aw,this.ssl=oT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kx;switch(s.type){case"firstParty":return new Lx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=rT.get(n);s&&(le("ComponentProvider","Removing Datastore"),rT.delete(n),s.terminate())}(this),Promise.resolve()}}function SO(i,e,n,s={}){var o;const u=(i=gn(i,tf))._getSettings(),f=`${e}:${n}`;if(u.host!==aw&&u.host!==f&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Jt.MOCK_USER;else{m=PT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(g)}i._authCredentials=new Mx(new Xb(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class os extends Ts{constructor(e,n,s){super(e,n,Gh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ge(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function bs(i,e,...n){if(i=mt(i),sw("collection","path",e),i instanceof tf){const s=Ze.fromString(e,...n);return aT(s),new os(i,null,s)}{if(!(i instanceof tn||i instanceof os))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return aT(s),new os(i.firestore,null,s)}}function Gn(i,e,...n){if(i=mt(i),arguments.length===1&&(e=Wb.newId()),sw("doc","path",e),i instanceof tf){const s=Ze.fromString(e,...n);return sT(s),new tn(i,null,new ge(s))}{if(!(i instanceof tn||i instanceof os))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return sT(s),new tn(i.firestore,i instanceof os?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class cT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BA(this,"async_queue_retry"),this.Su=()=>{const s=Cm();s&&le(uT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!No(e))throw e;le(uT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw hr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function hT(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class dr extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new cT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cT(e),this._firestoreClient=void 0,await e}}}function RO(i,e){const n=typeof i=="object"?i:gp(),s=typeof i=="string"?i:bh,o=Uh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kT("firestore");u&&SO(o,...u)}return o}function nf(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IO(i),i._firestoreClient}function IO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,T){return new Wx(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rw(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new vO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To($t.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class NO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class ow{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lw(this.Lu)&&CO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wh(e)}ju(e,n,s,o=!1){return new lg({Lu:e,methodName:n,zu:s,path:Qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(i){const e=i._freezeSettings(),n=Wh(i._databaseId);return new xO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function uw(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);ug("Data must be an object, but it was:",f,s);const m=cw(s,f);let p,g;if(u.merge)p=new Rn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const S=sp(e,w,n);if(!f.contains(S))throw new ce(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);fw(T,S)||T.push(S)}p=new Rn(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new NO(new pn(m),p,g)}class af extends sg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function DO(i,e,n,s){const o=i.ju(1,e,n);ug("Data must be an object, but it was:",o,s);const u=[],f=pn.empty();vs(s,(p,g)=>{const T=cg(e,p,n);g=mt(g);const w=o.Uu(T);if(g instanceof af)u.push(T);else{const S=Au(g,w);S!=null&&(u.push(T),f.set(T,S))}});const m=new Rn(u);return new ow(f,m,o.fieldTransforms)}function OO(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[sp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(sp(e,u[S])),p.push(u[S+1]);const g=[],T=pn.empty();for(let S=m.length-1;S>=0;--S)if(!fw(g,m[S])){const D=m[S];let O=p[S];O=mt(O);const G=f.Uu(D);if(O instanceof af)g.push(D);else{const P=Au(O,G);P!=null&&(g.push(D),T.set(D,P))}}const w=new Rn(g);return new ow(T,w,f.fieldTransforms)}function kO(i,e,n,s=!1){return Au(n,i.ju(s?4:3,e))}function Au(i,e){if(hw(i=mt(i)))return ug("Unsupported field value:",e,i),cw(i,e);if(i instanceof sg)return function(s,o){if(!lw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ED(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof ag)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:xA(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof og)return function(f,m){return{mapValue:{fields:{[sA]:{stringValue:aA},[Ah]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Lp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${ef(s)}`)}(i,e)}function cw(i,e){const n={};return Jb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(i,(s,o)=>{const u=Au(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function hw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof ag||i instanceof To||i instanceof tn||i instanceof sg||i instanceof og)}function ug(i,e,n){if(!hw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=ef(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function sp(i,e,n){if((e=mt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return cg(i,e);throw Mh("Field path arguments must be of type string or ",i,!1,void 0,n)}const MO=new RegExp("[~\\*/\\[\\]]");function cg(i,e,n){if(e.search(MO)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function fw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VO extends dw{data(){return super.data()}}function hg(i,e){return typeof e=="string"?cg(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class pw extends fg{}function of(i,e,...n){let s=[];e instanceof fg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof dg).length,m=u.filter(p=>p instanceof lf).length;if(f>1||f>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class lf extends pw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return gw(e._query,n),new Ts(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=sf(e.firestore);return function(u,f,m,p,g,T,w){let S;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){dT(w,T);const O=[];for(const G of w)O.push(fT(p,u,G));S={arrayValue:{values:O}}}else S=fT(p,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||dT(w,T),S=kO(m,f,w,T==="in"||T==="not-in");return bt.create(g,T,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PO(i,e,n){const s=e,o=hg("where",i);return lf._create(o,s,n)}class dg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)gw(f,p),f=Ym(f,p)}(e._query,n),new Ts(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends pw{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new mg(e,n,s)}_apply(e){return new Ts(e.firestore,e.converter,Rh(e._query,this._limit,this._limitType))}}function LO(i){return mg._create("limit",i,"F")}function fT(i,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mA(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(i,new ge(s))}if(n instanceof tn)return IE(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function dT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UO{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new og(u)}convertGeoPoint(e){return new ag(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(PA(s));const o=new su(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends dw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hh extends _w{data(e={}){return super.data(e)}}class vw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:jO(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(i){i=gn(i,tn);const e=gn(i.firestore,dr);return bO(nf(e),i._key).then(n=>Tw(e,i,n))}class pg extends UO{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function uf(i){i=gn(i,Ts);const e=gn(i.firestore,dr),n=nf(e),s=new pg(e);return mw(i._query),AO(n,i._query).then(o=>new vw(e,s,i,o))}function zO(i,e,n){i=gn(i,tn);const s=gn(i.firestore,dr),o=yw(i.converter,e);return cf(s,[uw(sf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Fn.none())])}function uu(i,e,n,...s){i=gn(i,tn);const o=gn(i.firestore,dr),u=sf(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof rf?OO(u,"updateDoc",i._key,e,n,s):DO(u,"updateDoc",i._key,e),cf(o,[f.toMutation(i._key,Fn.exists(!0))])}function BO(i){return cf(gn(i.firestore,dr),[new Up(i._key,Fn.none())])}function Ew(i,e){const n=gn(i.firestore,dr),s=Gn(i),o=yw(i.converter,e);return cf(n,[uw(sf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function HO(i,...e){var n,s,o;i=mt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||hT(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(hT(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,T;if(i instanceof tn)g=gn(i.firestore,dr),T=Gh(i._key.path),p={next:w=>{e[f]&&e[f](Tw(g,i,w))},error:e[f+1],complete:e[f+2]};else{const w=gn(i,Ts);g=gn(w.firestore,dr),T=w._query;const S=new pg(g);p={next:D=>{e[f]&&e[f](new vw(g,S,w,D))},error:e[f+1],complete:e[f+2]},mw(i._query)}return function(S,D,O,G){const P=new rg(G),K=new tg(D,P,O);return S.asyncQueue.enqueueAndForget(async()=>Zp(await kh(S),K)),()=>{P.su(),S.asyncQueue.enqueueAndForget(async()=>Jp(await kh(S),K))}}(nf(g),T,m,p)}function cf(i,e){return function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget(async()=>cO(await TO(s),o,u)),u.promise}(nf(i),e)}function Tw(i,e,n){const s=n.docs.get(e._key),o=new pg(i);return new _w(i,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(ha),ra(new us("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new dr(new Vx(s.getProvider("auth-internal")),new Ux(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),bi(gE,yE,e),bi(gE,yE,"esm2017")})();const qO={apiKey:"AIzaSyDwoBCSIRG49sdI7mQHqdtv7MTjcm2Hr2A",authDomain:"examensarbete-325c6.firebaseapp.com",projectId:"examensarbete-325c6",storageBucket:"examensarbete-325c6.firebasestorage.app",messagingSenderId:"817421660109",appId:"1:817421660109:web:f005b26ea564213e709e84"},gg=jT(qO),yg=Ab(gg),bw=Nx(gg),Bt=RO(gg),Aw=z.createContext();function FO({children:i}){const[e,n]=z.useState(null);return z.useEffect(()=>{const s=yg.onAuthStateChanged(o=>{if(o){const u=of(bs(Bt,"users"),PO("uid","==",o.uid)),f=HO(u,m=>{m.empty||n(m.docs.map(p=>({...p.data(),id:p.id})))});return()=>f()}else n(null)});return()=>s()},[]),E.jsx(Aw.Provider,{value:e,children:i})}function Ni(){return z.useContext(Aw)}const ii=()=>{const i=Ni(),e=ca(),[n,s]=z.useState(0);z.useEffect(()=>{if(i&&i[0].cart){const u=i[0].cart.reduce((f,m)=>f+m.quantity,0);s(u)}},[i]);const o=()=>{yg.signOut().then(()=>{e("/login")})};return E.jsx("nav",{className:"navbar navbar-expand-lg navbar-light p-3",role:"navigation",children:E.jsxs("div",{className:"container-fluid",children:[E.jsx(Tt,{to:"/examensarbete",className:"navbar-brand fw-bold",children:"Happy Scribbles"}),E.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:E.jsx("span",{className:"navbar-toggler-icon"})}),E.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:E.jsxs("ul",{className:"navbar-nav ms-auto",children:[E.jsx("li",{className:"nav-item",children:E.jsx("button",{className:"nav-link text-black fw-bold",disabled:!0,children:i?`Hej ${i[0].username||i[0].email}!`:"Hej!"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/products",className:"nav-link",children:"Alla Produkter"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/about-us",className:"nav-link",children:"Om Oss"})}),!i&&E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/signup",className:"nav-link",children:"Registrera"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/login",className:"nav-link",children:"Login"})})]}),E.jsx("li",{className:"nav-item",children:E.jsxs(Tt,{to:"/cart",className:"nav-link position-relative","aria-label":"G till kundvagnen",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512","aria-hidden":"true",children:E.jsx("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"})}),n>0&&E.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:n})]})}),E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/Profile",className:"nav-link text-black","aria-label":"G till profil",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512","aria-hidden":"true",children:E.jsx("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"})})})}),i&&E.jsxs(E.Fragment,{children:[i[0].email==="admin@admin.se"&&E.jsx("li",{className:"nav-item",children:E.jsx(Tt,{to:"/admin",className:"nav-link",children:"Admin"})}),E.jsx("li",{className:"nav-item",children:E.jsx("button",{onClick:o,className:"nav-link btn primary btn-link p-2 px-4 ",children:"Logout"})})]})]})})]})})},ww=()=>{const[i,e]=z.useState([]),[n,s]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const u=of(bs(Bt,"products"),LO(3)),f=await uf(u),m=[];f.forEach(p=>{m.push({id:p.id,...p.data()})}),e(m)}catch(u){console.error("Error fetching products:",u)}finally{s(!1)}})()},[]),n?E.jsx("div",{role:"status","aria-live":"polite",children:"Laddar..."}):E.jsxs("section",{className:"featured-products container py-3 mb-4",children:[E.jsx("h2",{className:"text-center mb-4",children:"Utvalda Produkter"}),E.jsxs("div",{className:"row g-4",children:[i.map(o=>E.jsx("article",{className:"col-12 col-sm-6 col-md-4",children:E.jsx("div",{className:"product-card h-100 rounded-4",children:E.jsxs(Tt,{to:`/product/${o.id}`,className:"text-decoration-none position-relative d-block","aria-label":`Visa ${o.title}`,children:[E.jsxs("div",{className:"image-container position-relative",children:[E.jsx("img",{src:o.productImage,alt:o.title,className:"img-fluid rounded-4 w-100",style:{height:"300px",objectFit:"cover",aspectRatio:"4/3"},loading:"lazy"}),E.jsx("div",{className:"overlay d-flex align-items-center justify-content-center",children:E.jsx("span",{className:"btn btn-light",children:"Ls mer"})})]}),E.jsxs("div",{className:"product-info text-center mt-3 p-3",children:[E.jsx("h3",{className:"h5 product-title text-dark mb-2",children:o.title}),E.jsxs("p",{className:"product-price text-secondary mb-0",children:[E.jsx("span",{className:"visually-hidden",children:"Pris:"}),o.price," kr"]})]})]})})},o.id)),E.jsx("div",{className:"col-12 mt-4",children:E.jsx("div",{className:"d-flex justify-content-center",children:E.jsx(Tt,{to:"/products",className:"btn btn primary","aria-label":"Visa alla produkter",children:"Fler Produkter"})})})]})]})},mT=()=>(Ni(),E.jsxs(E.Fragment,{children:[E.jsx(ii,{}),E.jsxs("header",{children:[E.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,className:"hero-video","aria-label":"Bakgrundsvideo",children:[E.jsx("source",{src:"/src/Components/assets/da.mp4",type:"video/mp4"}),"Din webblsare stdjer inte videoelementet."]}),E.jsx("div",{className:"heroOverlay"}),E.jsx("div",{className:"hero d-flex justify-content-center align-items-center",children:E.jsxs("div",{className:"text-center px-4 w-100",children:[E.jsx("h1",{className:"display-4 fw-bold",children:"Unika handritade figurer  Direkt frn hjrtat till din vgg!"}),E.jsxs("div",{className:"col-lg-6 mx-auto",children:[E.jsx("p",{className:"lead mb-4",children:"Upptck charmiga och personliga illustrationer som sprider gldje."}),E.jsxs("div",{className:"d-grid gap-2 d-sm-flex justify-content-sm-center mb-5",children:[E.jsx("a",{href:"/products",className:"btn primary btn-lg px-4 me-sm-3",children:"Utforska Butiken"}),E.jsx("a",{href:"#signup",className:"btn secondary btn-lg px-4",children:"Skapa Konto & Brja Handla"})]})]})]})})]}),E.jsx("main",{className:"container px-5",children:E.jsxs("section",{"aria-labelledby":"featured-products",children:[E.jsx("h2",{id:"featured-products",className:"visually-hidden",children:"Utvalda Produkter"}),E.jsx(ww,{})]})}),E.jsx("section",{className:"about",id:"about",children:E.jsxs("div",{className:"container",children:[E.jsx("h2",{children:"Om Happy Scribbles"}),E.jsx("p",{children:"Alla vra illustrationer r handgjorda med krlek. Vi skapar lekfulla och unika illustrationer fr att sprida gldje!"}),E.jsx("p",{children:E.jsx("strong",{children:" Vill du veta mer om oss?"})}),E.jsx("a",{href:"/about-us",className:"btn primary",children:"Om oss"})]})})]})),GO=()=>{const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(""),p=ca(),g=Ab(),T=w=>{if(w.preventDefault(),!i||!n){u("Alla flt mste fyllas i");return}l1(g,i,n).then(()=>{m("Lyckad inloggning! Sidan kommer laddas till HEM."),e(""),s(""),u(""),setTimeout(()=>{p("/home")},3e3)}).catch(S=>{S.code==="auth/invalid-email"?u("Ogiltig e-postadress"):S.code==="auth/user-not-found"?u("E-postadressen hittas inte"):S.code==="auth/wrong-password"?u("Fel lsenord."):S.code==="auth/invalid-credential"?u("Ogiltigt anvndarnamn och/eller lsenord"):u("Ett fel uppstod. Frsk igen.")})};return E.jsxs(E.Fragment,{children:[E.jsx(ii,{}),E.jsx("main",{className:"container d-flex justify-content-center align-items-center vh-100",children:E.jsxs("section",{className:"card p-4 shadow",style:{width:"25rem"},children:[E.jsx("h2",{className:"text-center mb-3",children:"Login"}),f&&E.jsx("div",{className:"alert alert-success",children:f}),o&&E.jsx("div",{className:"alert alert-danger",children:o}),E.jsxs("form",{onSubmit:T,children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",htmlFor:"email",children:"E-post"}),E.jsx("input",{type:"email",id:"email",className:"form-control",placeholder:"E-post",value:i,onChange:w=>e(w.target.value)})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",htmlFor:"password",children:"Lsenord"}),E.jsx("input",{type:"password",id:"password",className:"form-control",placeholder:"Lsenord",value:n,onChange:w=>s(w.target.value)})]}),E.jsx("button",{type:"submit",className:"btn primary w-100",children:"Logga in"})]}),E.jsxs("div",{className:"text-center mt-3",children:[E.jsx("span",{children:"Har du inte ett konto?"}),E.jsx(Tt,{to:"/signup",className:"ms-1",children:"Registrera dig"})]})]})})]})},KO=()=>{const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),f=ca(),[m,p]=z.useState(""),[g,T]=z.useState(""),w=S=>{S.preventDefault(),o1(yg,n,o).then(D=>{const O=D.user,G=0;console.log(O),Ew(bs(Bt,"users"),{username:i,email:n,password:o,cart:G,uid:O.uid,purchaseHistory:[]}).then(()=>{T("Ny anvndare registrerad! Sidan kommer laddas om till inloggningssidan."),e(""),u(""),s(""),p(""),setTimeout(()=>{T(""),f("/login")},4e3)}).catch(P=>p(P.message))}).catch(D=>{D.message.includes("auth/invalid-email")?p("Ogiltig e-postadress"):D.message.includes("auth/email-already-in-use")?p("E-postadressen anvnds redan"):D.message.includes("auth/weak-password")?p("Lsenordet r fr svagt. Vlj ett starkare lsenord."):!n||!o||!i?p("Alla flt mste fyllas i"):o.length<6?p("Lsenordet mste vara minst 6 tecken"):p(D.message)})};return E.jsxs("div",{children:[E.jsx(ii,{}),E.jsx("div",{className:"container d-flex justify-content-center align-items-center vh-100",children:E.jsxs("div",{className:"card p-4 shadow",style:{width:"25rem"},children:[E.jsx("h2",{className:"text-center mb-3",children:"Skapa konto"}),g&&E.jsx("div",{className:"alert alert-success",children:g}),m&&E.jsx("div",{className:"alert alert-danger",children:m}),E.jsxs("form",{onSubmit:w,children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Anvndarnamn"}),E.jsx("input",{type:"text",className:"form-control",placeholder:"Anvndarnamn",onChange:S=>e(S.target.value)})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"E-post"}),E.jsx("input",{type:"email",className:"form-control",placeholder:"E-post",onChange:S=>s(S.target.value)})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Lsenord"}),E.jsx("input",{type:"password",className:"form-control",placeholder:"Lsenord",onChange:S=>u(S.target.value)})]}),E.jsx("button",{type:"submit",className:"btn primary w-100",children:"Registrera dig"})]}),E.jsxs("div",{className:"text-center mt-3",children:[E.jsx("span",{children:"Har du redan ett konto?"}),E.jsx(Tt,{to:"/login",className:"ms-1",children:"Logga in"})]})]})})]})};function QO(){return E.jsxs("div",{className:"container",children:[E.jsx(ii,{}),E.jsx("h3",{className:"text-center mt-5 pt-5",children:"404 Not Found"})]})}const $O=()=>{const i=Ni(),[e,n]=z.useState([]),[s,o]=z.useState(!0),[u,f]=z.useState(null),[m,p]=z.useState(0),[g,T]=z.useState({text:"",type:""}),w=ca();z.useEffect(()=>{(async()=>{if(!i){f("Du mste vara inloggad fr att se din kundvagn"),o(!1);return}try{const P=Gn(Bt,"users",i[0].id),K=await bo(P);if(K.exists()){const q=K.data();n(q.cart||[]),S(q.cart||[])}else f("Anvndaren kunde inte hittas")}catch{f("Ett fel uppstod vid hmtning av kundvagnen")}finally{o(!1)}})()},[i]);const S=G=>{const P=G.reduce((K,q)=>K+q.price*q.quantity,0);p(P)},D=async(G,P)=>{const K=e.map(q=>q.productId===G?{...q,quantity:Math.max(1,q.quantity+P)}:q);try{const q=Gn(Bt,"users",i[0].id);await uu(q,{cart:K}),n(K),S(K),T({text:"Antal uppdaterat!",type:"success"})}catch(q){console.error("Error updating quantity:",q),T({text:"Kunde inte uppdatera antalet",type:"error"})}},O=async G=>{try{const P=Gn(Bt,"users",i[0].id),K=e.filter(q=>q.productId!==G);await uu(P,{cart:K}),n(K),S(K),T({text:"Produkten har tagits bort frn kundvagnen!",type:"success"})}catch(P){console.error("Error removing from cart:",P),T({text:"Kunde inte ta bort produkten frn kundvagnen",type:"error"})}};return E.jsxs("div",{children:[E.jsx(ii,{}),E.jsxs("div",{className:"container mt-5",children:[E.jsx("h1",{children:"Kundvagn"}),g.text&&E.jsx("div",{className:`alert ${g.type==="success"?"alert-success":"alert-danger"} mb-3`,children:g.text}),u?E.jsxs("div",{children:[E.jsx("div",{className:"alert alert-danger",children:u}),E.jsx("button",{className:"btn btn-primary",onClick:()=>w("/login"),children:"Logga in"})]}):e.length===0?E.jsx("div",{children:E.jsx("p",{children:"Kundvagnen r tom. Lgg till produkter fr att se dem hr."})}):E.jsxs(E.Fragment,{children:[E.jsx("ul",{className:"list-group",children:e.map(G=>E.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:G.imageUrl,alt:G.title,className:"img-thumbnail me-3",style:{width:"80px",height:"80px",objectFit:"cover"}}),E.jsxs("div",{children:[E.jsx("h5",{className:"mb-1",children:G.title}),E.jsxs("p",{className:"mb-1",children:["Pris: ",G.price," kr"]}),E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("button",{className:"btn-sm me-2",onClick:()=>D(G.productId,-1),children:"-"}),E.jsx("span",{children:G.quantity}),E.jsx("button",{className:"btn-sm ms-2",onClick:()=>D(G.productId,1),children:"+"})]})]})]}),E.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>O(G.productId),children:"Ta bort"})]},G.productId))}),E.jsxs("h3",{className:"mt-4",children:["Totalt: ",m," kr"]}),E.jsx("button",{className:"btn btn-success mt-3",onClick:()=>w("/checkout"),children:"G till Checkout"})]})]})]})},YO=()=>{const i=Ni(),[e,n]=z.useState([]),[s,o]=z.useState(!0),[u,f]=z.useState(null);return z.useEffect(()=>{i===null?o(!1):(async()=>{if(!i||!i[0]){f("Du mste vara inloggad fr att se din profil"),o(!1);return}try{const p=Gn(Bt,"users",i[0].id),g=await bo(p);if(g.exists()){const T=g.data();n(T.purchaseHistory?T.purchaseHistory:[])}else f("Anvndaren kunde inte hittas")}finally{o(!1)}})()},[i]),E.jsxs("div",{children:[E.jsx(ii,{}),E.jsxs("div",{className:"container mt-5",children:[s&&E.jsx("p",{children:"Laddar..."}),u&&E.jsxs("p",{children:["Error: ",u]}),!s&&!u&&E.jsxs(E.Fragment,{children:[i?E.jsxs("div",{children:[E.jsx("h1",{className:"text-center p-4",children:"Min profil"}),E.jsx("div",{className:"d-flex justify-content-center",children:E.jsxs("table",{className:"table table-striped table-bordered w-50",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Namn"}),E.jsx("th",{children:"Email"}),E.jsx("th",{children:"Lsenord"})]})}),E.jsx("tbody",{children:E.jsxs("tr",{children:[E.jsx("td",{children:i[0].username}),E.jsx("td",{children:i[0].email}),E.jsx("td",{children:i[0].password})]})})]})})]}):E.jsxs("div",{className:"text-center p-4",children:[E.jsx("h1",{children:"Logga in fr att se din profil"}),E.jsx(Tt,{to:"/login",className:"btn btn-primary mt-3",children:"G till inloggning"})]}),E.jsx("h2",{className:"mt-5 text-center",children:" Kphistorik"}),!s&&!u&&e.length===0&&E.jsx("p",{className:"text-center",children:"Ingen kphistorik"}),e.length>0&&E.jsx(E.Fragment,{children:E.jsx("div",{className:"table-responsive",children:E.jsxs("table",{className:"order-history-table table table-striped table-bordered rounded-5",children:[E.jsx("thead",{className:"table-success ",children:E.jsxs("tr",{children:[E.jsx("th",{children:" Datum"}),E.jsx("th",{children:" Produkter"}),E.jsx("th",{children:" Totalt"})]})}),E.jsx("tbody",{children:e.map((m,p)=>E.jsxs("tr",{children:[E.jsx("td",{children:new Date(m.date).toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),E.jsx("td",{children:E.jsx("ul",{className:"list-unstyled mb-0",children:m.items.map(g=>E.jsxs("li",{className:"d-flex align-items-center mb-2",children:[E.jsx("img",{src:g.imageUrl,alt:g.title,className:"img-thumbnail me-2",style:{width:"40px",height:"40px",objectFit:"cover"}}),E.jsxs("div",{children:[E.jsx("span",{className:"fw-bold",children:g.title}),E.jsx("br",{}),E.jsxs("span",{className:"text-muted",children:[g.quantity," st  ",g.price," kr"]})]})]},g.productId))})}),E.jsxs("td",{className:"fw-bold text-success",children:[m.total," kr"]})]},p))})]})})})]})]})]})},Sw=()=>{const i=Ni(),[e,n]=z.useState({title:"",description:"",price:"",productImage:null}),[s,o]=z.useState({image:"",upload:""}),[u,f]=z.useState(""),[m,p]=z.useState(!1),g=["image/png","image/jpeg","image/jpg","image/webp"],T=5*1024*1024,[w,S]=z.useState(1),D=K=>{const{name:q,value:Y}=K.target;n(ie=>({...ie,[q]:Y}))},O=K=>K?g.includes(K.type.toLowerCase())?K.size>T?"Bilden mste vara mindre n 5MB":"":"Bild mste vara i formatet png, jpeg, jpg eller webp":"Ingen bild vald",G=K=>{const q=K.target.files[0],Y=O(q);o(ie=>({...ie,image:Y})),Y||n(ie=>({...ie,productImage:q}))},P=async K=>{if(K.preventDefault(),!e.title||!e.description||!e.price||!e.productImage){o(q=>({...q,upload:"Alla flt mste fyllas i"}));return}try{p(!0),o(ie=>({...ie,upload:""}));const q=qb(bw,`products-images/${Date.now()}-${e.productImage.name}`);await Bb(q,e.productImage);const Y=await Hb(q);await Ew(bs(Bt,"products"),{title:e.title,description:e.description,price:Number(e.price),productImage:Y,createdAt:new Date().toISOString(),createdBy:i[0].email}),f("Produkt tillagd!"),n({title:"",description:"",price:"",productImage:null})}catch(q){o(Y=>({...Y,upload:`Ngot gick fel: ${q.message}`}))}finally{p(!1)}};return E.jsx("div",{children:E.jsx("div",{className:"container",children:i&&i[0].email==="admin@admin.se"?E.jsxs("div",{className:"mt-5",children:[E.jsx("h1",{className:"mb-4",children:"Lgg till produkt"}),E.jsxs("form",{onSubmit:P,className:"d-flex flex-column gap-3",children:[u&&E.jsx("div",{className:"alert alert-success",children:u}),s.upload&&E.jsx("div",{className:"alert alert-danger",children:s.upload}),s.image&&E.jsx("div",{className:"alert alert-danger",children:s.image}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"text",name:"title",className:"form-control",placeholder:"Titel",value:e.title,onChange:D,required:!0})}),E.jsx("div",{className:"form-group",children:E.jsx("textarea",{name:"description",className:"form-control",placeholder:"Beskrivning",value:e.description,onChange:D,required:!0,rows:"3"})}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"number",name:"price",className:"form-control",placeholder:"Pris (kr)",value:e.price,onChange:D,required:!0,min:"0"})}),E.jsx("div",{className:"form-group",children:E.jsx("input",{type:"file",className:"form-control",onChange:G,accept:g.join(","),required:!0})}),E.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Lgger till...":"Lgg till produkt"})]})]}):E.jsx("div",{className:"mt-5 text-center",children:E.jsx("h1",{children:"Bara administratrer kan lgga till produkter"})})})})},Rw=async(i,e)=>{if(!i){alert("Du mste vara inloggad fr att handla");return}try{const n=Gn(Bt,"users",i[0].id),s=await bo(n);let o=[];s.exists()&&(o=s.data().cart||[]);const u=o.findIndex(m=>m.productId===e.id);let f;u>=0?(f=[...o],f[u].quantity+=1):f=[...o,{productId:e.id,quantity:1,title:e.title,price:e.price,imageUrl:e.productImage}],await uu(n,{cart:f})}catch(n){console.error("Error adding to cart:",n),alert("Kunde inte lgga till produkten i kundvagnen")}},XO=()=>{const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null),f=Ni();return z.useEffect(()=>{(async()=>{try{const p=of(bs(Bt,"products")),g=await uf(p),T=[];g.forEach(w=>{T.push({id:w.id,...w.data()})}),e(T),s(!1)}catch(p){u(p),s(!1)}})()},[]),E.jsxs("div",{children:[E.jsx(ii,{}),E.jsxs("div",{className:"container my-5",children:[E.jsx("h1",{children:"Products"}),n&&E.jsx("div",{children:"Laddar..."}),o&&E.jsxs("div",{children:["Error: ",o.message]}),E.jsx("div",{className:"row",children:i.map(m=>E.jsx("div",{className:"col-md-4 mb-4",children:E.jsxs("div",{className:"card h-100 rounded-5",children:[E.jsx(Tt,{to:`/product/${m.id}`,className:"text-decoration-none",children:E.jsx("img",{src:m.productImage,alt:m.title,className:"card-img-top rounded-top-5 shadow-sm",style:{height:"300px",objectFit:"cover"}})}),E.jsxs("div",{className:"card-body d-flex flex-column",children:[E.jsx("h5",{className:"card-title text-dark",children:m.title}),E.jsx("p",{className:"card-text mt-auto",children:E.jsxs("strong",{children:[m.price," kr"]})}),E.jsxs("div",{className:"buttons mt-2",children:[E.jsx("button",{className:"btn primary",onClick:()=>Rw(f,m),children:"Lgg till i kundvagn"}),E.jsx(Tt,{to:`/product/${m.id}`,className:"text-decoration-none",children:E.jsx("button",{className:"btn secondary",children:"Ls mer"})})]})]})]})},m.id))})]})]})},WO=()=>{const{id:i}=P0(),[e,n]=z.useState(null),[s,o]=z.useState(!0),[u,f]=z.useState(null),m=Ni();return z.useEffect(()=>{(async()=>{try{const g=Gn(Bt,"products",i),T=await bo(g);T.exists()?n({id:T.id,...T.data()}):f("Produkten kunde inte hittas")}catch{f("Ett fel uppstod vid hmtning av produkten")}finally{o(!1)}})()},[i]),e?E.jsxs("div",{children:[E.jsx(ii,{}),s&&E.jsx("div",{children:"Laddar..."}),u&&E.jsxs("div",{children:["Error: ",u.message]}),E.jsx("div",{className:"container mt-5",children:E.jsxs("div",{className:"row",children:[E.jsx("div",{className:"col-md-6",children:E.jsx("img",{src:e.productImage,alt:e.title,className:"img-fluid rounded-5"})}),E.jsxs("div",{className:"col-md-6",children:[E.jsx("h1",{children:e.title}),E.jsxs("p",{className:"lead",children:[e.price," kr"]}),E.jsx("p",{children:e.description}),E.jsx("button",{className:"btn primary",onClick:()=>Rw(m,e),children:"Lgg till i kundvagn"})]})]})})]}):E.jsx("div",{children:"Ingen produkt hittad"})},ZO=()=>{const i=Ni(),[e,n]=z.useState([]),[s,o]=z.useState(!0),[u,f]=z.useState(null),[m,p]=z.useState(0),[g,T]=z.useState(!1),w=ca();z.useEffect(()=>{(async()=>{if(!i){f("Du mste vara inloggad fr att se din kundvagn"),o(!1);return}try{const G=Gn(Bt,"users",i[0].id),P=await bo(G);if(P.exists()){const K=P.data();n(K.cart||[]),S(K.cart||[])}else f("Anvndaren kunde inte hittas")}catch{f("Ett fel uppstod vid hmtning av kundvagnen")}finally{o(!1)}})()},[i]);const S=O=>{const G=O.reduce((P,K)=>P+K.price*K.quantity,0);p(G)},D=async O=>{O.preventDefault(),alert("Betalning genomfrd! Tack fr ditt kp!");try{const G=Gn(Bt,"users",i[0].id),P=await bo(G);if(P.exists()){const q=P.data().purchaseHistory||[],Y={items:e,total:m,date:new Date().toISOString(),userId:i[0].id,userEmail:i[0].email,orderStatus:"paid"};q.push(Y);const ie=Gn(bs(Bt,"orders"));await zO(ie,Y),await uu(G,{cart:[],purchaseHistory:q}),n([]),T(!0),setTimeout(()=>{T(!1),w("/")},4e3)}}catch(G){console.error("Error saving purchase:",G),alert("Kunde inte spara kpet")}};return E.jsxs("div",{children:[E.jsx(ii,{}),E.jsxs("div",{className:"container mt-5",children:[s&&E.jsx("div",{children:"Laddar..."}),u&&E.jsxs("div",{children:["Error: ",u]}),!s&&!u&&E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:"Checkout"}),E.jsx("ul",{className:"list-group",children:e.map(O=>E.jsx("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:O.imageUrl,alt:O.title,className:"img-thumbnail me-3",style:{width:"80px",height:"80px",objectFit:"cover"}}),E.jsxs("div",{children:[E.jsx("h5",{className:"mb-1",children:O.title}),E.jsxs("p",{className:"mb-1",children:["Pris: ",O.price," kr"]}),E.jsxs("p",{className:"mb-1",children:["Antal: ",O.quantity]})]})]})},O.productId))}),E.jsxs("h3",{className:"mt-4",children:["Totalt: ",m," kr"]}),E.jsx("button",{className:"btn btn-success mt-3",onClick:D,children:"Betala"}),g&&E.jsx("div",{className:"alert alert-success mt-3",children:"Betalningen har genomfrts!"})]})]})]})},JO=()=>(Ni(),E.jsxs(E.Fragment,{children:[E.jsx(ii,{}),E.jsxs("div",{className:"containerAbout rounded-5",children:[E.jsx("header",{children:E.jsx("h1",{children:"Om Happy Scribbles"})}),E.jsxs("main",{className:!0,children:[E.jsx("section",{children:E.jsxs("p",{children:["Vlkommen till ",E.jsx("span",{className:"highlight",children:"Happy Scribbles"}),"  en plats dr kreativitet mter gldje i form av handritade illustrationer! "]})}),E.jsxs("article",{children:[E.jsx("h2",{children:"Vem str bakom?"}),E.jsxs("p",{children:["Jag heter ",E.jsx("span",{className:"highlight",children:"Carina"}),", och jag har alltid lskat att rita sm figurer och doodles som sprider gldje. ",E.jsx("strong",{children:"Happy Scribbles"})," fddes ur min passion fr att skapa  unika illustrationer med en personlig touch. Varje bild ritas digitalt fr att behlla den charmiga, handgjorda knslan  ingen massproduktion, bara kta kreativitet!"]})]}),E.jsxs("article",{children:[E.jsx("h2",{children:" Varfr Happy Scribbles?"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("span",{className:"highlight",children:"Handgjort & unikt"}),"  varje illustration r skapad med omsorg"]}),E.jsxs("li",{children:[E.jsx("span",{className:"highlight",children:"Snabb leverans"}),"  digital leverans direkt till din mejl"]}),E.jsxs("li",{children:[E.jsx("span",{className:"highlight",children:"Gldje i varje streck"}),"  skapad fr att sprida positivitet"]})]})]}),E.jsxs("aside",{className:"rounded-end-5",children:[E.jsxs("p",{children:[" ",E.jsx("strong",{children:"Har du frgor eller vill ha en specialbestllning?"})]}),E.jsxs("p",{children:["Tveka inte att ",E.jsx("a",{href:"mailto:dinmail@happyscribbles.com?subject=Denna%20butik%20finns%20ej&body=Hej!%0D%0A%0D%0ADenna%20butik%20finns%20ej.%20E-postadressen%20r%20ocks%20fejk.%0D%0A%0D%0AHa%20en%20bra%20dag!",children:" kontakta mig hr"}),"."]})]})]})]})]})),ek=()=>{const[i,e]=z.useState([]),[n,s]=z.useState(null),[o,u]=z.useState(!0),[f,m]=z.useState(null),[p,g]=z.useState(""),T=["image/png","image/jpeg","image/jpg","image/webp"],w=5*1024*1024;z.useEffect(()=>{S()},[]);const S=async()=>{try{const Y=(await uf(bs(Bt,"products"))).docs.map(ie=>({id:ie.id,...ie.data()}));e(Y),u(!1)}catch(q){console.error("Error fetching products:",q),u(!1)}},D=q=>q?T.includes(q.type.toLowerCase())?q.size>w?"Bilden mste vara mindre n 5MB":"":"Bild mste vara i formatet png, jpeg, jpg eller webp":"",O=q=>{const Y=q.target.files[0],ie=D(Y);g(ie),ie||m(Y)},G=async q=>{if(window.confirm("r du sker p att du vill ta bort denna produkt?"))try{await BO(Gn(Bt,"products",q)),e(i.filter(Y=>Y.id!==q))}catch(Y){console.error("Error deleting product:",Y)}},P=q=>{s({...q}),m(null),g("")},K=async()=>{try{const q=Gn(Bt,"products",n.id);let Y={title:n.title,description:n.description,price:Number(n.price)};if(f){const ie=qb(bw,`products-images/${Date.now()}-${f.name}`);await Bb(ie,f);const ue=await Hb(ie);Y.productImage=ue}await uu(q,Y),e(i.map(ie=>ie.id===n.id?{...ie,...Y}:ie)),s(null),m(null),g("")}catch(q){console.error("Error updating product:",q)}};return o?E.jsx("div",{children:"Laddar produkter..."}):E.jsxs("div",{children:[E.jsx("h2",{children:"Hantera Produkter"}),E.jsx("div",{className:"table-responsive",children:E.jsxs("table",{className:"table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Bild"}),E.jsx("th",{children:"Titel"}),E.jsx("th",{children:"Pris"}),E.jsx("th",{children:"tgrder"})]})}),E.jsx("tbody",{children:i.map(q=>E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("img",{src:q.productImage,alt:q.title,style:{width:"50px",height:"50px",objectFit:"cover"}})}),E.jsx("td",{children:q.title}),E.jsxs("td",{children:[q.price," kr"]}),E.jsxs("td",{children:[E.jsx("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>P(q),children:"Redigera"}),E.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>G(q.id),children:"Ta bort"})]})]},q.id))})]})}),n&&E.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:E.jsx("div",{className:"modal-dialog",children:E.jsxs("div",{className:"modal-content",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h5",{className:"modal-title",children:"Redigera Produkt"}),E.jsx("button",{type:"button",className:"btn-close",onClick:()=>s(null)})]}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Titel"}),E.jsx("input",{type:"text",className:"form-control",value:n.title,onChange:q=>s({...n,title:q.target.value})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Beskrivning"}),E.jsx("textarea",{className:"form-control",value:n.description,onChange:q=>s({...n,description:q.target.value})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Pris"}),E.jsx("input",{type:"number",className:"form-control",value:n.price,onChange:q=>s({...n,price:q.target.value})})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{className:"form-label",children:"Nuvarande bild"}),E.jsx("div",{children:E.jsx("img",{src:n.productImage,alt:n.title,style:{width:"100px",height:"100px",objectFit:"cover"},className:"mb-2"})}),E.jsx("label",{className:"form-label",children:"Byt bild (valfritt)"}),E.jsx("input",{type:"file",className:"form-control",onChange:O,accept:T.join(",")}),p&&E.jsx("div",{className:"text-danger mt-1",children:p}),f&&E.jsx("div",{className:"text-success mt-1",children:"Ny bild vald"})]})]}),E.jsxs("div",{className:"modal-footer",children:[E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(null),children:"Avbryt"}),E.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,disabled:p!=="",children:"Spara ndringar"})]})]})})})]})},tk=()=>{const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(null);return z.useEffect(()=>{(async()=>{try{const m=bs(Bt,"orders"),p=of(m),g=await uf(p),T=[];g.forEach(w=>{T.push({id:w.id,...w.data()})}),e(T)}catch(m){u("Kunde inte hmta ordrar"),console.error("Error fetching orders:",m)}finally{s(!1)}})()},[]),E.jsxs("div",{children:[E.jsx("h2",{children:"Ordrar"}),n&&E.jsx("div",{children:"Laddar..."}),o&&E.jsx("div",{className:"alert alert-danger",children:o}),!n&&!o&&E.jsx("div",{className:"accordion",id:"ordersAccordion",children:i.map(f=>E.jsxs("div",{className:"accordion-item",children:[E.jsx("h2",{className:"accordion-header",children:E.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#order-${f.id}`,children:E.jsxs("div",{className:"d-flex accordion justify-content-between w-100 me-3",children:[E.jsx("span",{children:f.id}),E.jsx("span",{className:"me-3",children:new Date(f.date).toLocaleDateString()}),E.jsxs("span",{className:"me-3",children:["Status: ",f.orderStatus]}),E.jsxs("span",{children:["Totalt: ",f.total," kr"]})]})})}),E.jsx("div",{id:`order-${f.id}`,className:"accordion-collapse collapse","data-bs-parent":"#ordersAccordion",children:E.jsxs("div",{className:"accordion-body",children:[E.jsxs("div",{className:"mb-3",children:[E.jsx("strong",{children:"Kund Information:"}),E.jsxs("p",{children:["Email: ",f.userEmail]}),E.jsxs("p",{children:["Order ID: ",f.id]}),E.jsxs("p",{children:["Datum: ",new Date(f.date).toLocaleString()]})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("strong",{children:"Produkter:"}),E.jsxs("table",{className:"table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Produkt"}),E.jsx("th",{children:"Antal"}),E.jsx("th",{children:"Pris"}),E.jsx("th",{children:"Totalt"})]})}),E.jsx("tbody",{children:f.items.map((m,p)=>E.jsxs("tr",{children:[E.jsx("td",{children:m.title}),E.jsx("td",{children:m.quantity}),E.jsxs("td",{children:[m.price," kr"]}),E.jsxs("td",{children:[m.price*m.quantity," kr"]})]},p))})]})]}),E.jsx("div",{className:"text-end",children:E.jsxs("strong",{children:["Ordertotal: ",f.total," kr"]})})]})})]},f.id))})]})},nk=()=>{const i=Ni();return i&&i[0].email==="admin@admin.se"?E.jsxs("div",{children:[E.jsx(ii,{}),E.jsxs("div",{className:"container mt-4",children:[E.jsx("h1",{children:"Admin Dashboard"}),E.jsxs("div",{className:"row mt-4",children:[E.jsx("div",{className:"col-md-3",children:E.jsxs("div",{className:"list-group",children:[E.jsx(Tt,{to:"/admin/add-product",className:"list-group-item list-group-item-action",children:"Lgg till produkt"}),E.jsx(Tt,{to:"/admin/manage-products",className:"list-group-item list-group-item-action",children:"Hantera produkter"}),E.jsx(Tt,{to:"/admin/orders",className:"list-group-item list-group-item-action",children:"Ordrar"})]})}),E.jsx("div",{className:"col-md-9",children:E.jsxs(wT,{children:[E.jsx(xt,{path:"/add-product",element:E.jsx(Sw,{})}),E.jsx(xt,{path:"/manage-products",element:E.jsx(ek,{})}),E.jsx(xt,{path:"/orders",element:E.jsx(tk,{})}),E.jsx(xt,{index:!0,element:E.jsx(ik,{})})]})})]})]})]}):E.jsx(X0,{to:"/",replace:!0})},ik=()=>E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{children:"Vlkommen till Admin Dashboard"}),E.jsx("p",{children:"Vlj en sektion frn menyn till vnster fr att brja."})]});function rk(){return E.jsx(FO,{children:E.jsx(TR,{children:E.jsxs(wT,{children:[E.jsx(xt,{exact:!0,path:"/examensarbete/",element:E.jsx(mT,{})}),E.jsx(xt,{exact:!0,path:"/examensarbete/home",element:E.jsx(mT,{})}),E.jsx(xt,{exact:!0,path:"/examensarbete/signup",element:E.jsx(KO,{})}),E.jsx(xt,{exact:!0,path:"/examensarbete/login",element:E.jsx(GO,{})}),E.jsx(xt,{exact:!0,path:"/examensarbete/cart",element:E.jsx($O,{})}),E.jsx(xt,{exact:!0,path:"/examensarbete/profile",element:E.jsx(YO,{})}),E.jsx(xt,{exact:!0,path:"/addProduct",element:E.jsx(Sw,{})}),E.jsx(xt,{exact:!0,path:"/products",element:E.jsx(XO,{})}),E.jsx(xt,{exact:!0,path:"/product/:id",element:E.jsx(WO,{})}),E.jsx(xt,{exact:!0,path:"/featuredProducts",element:E.jsx(ww,{})}),E.jsx(xt,{exact:!0,path:"/checkout",element:E.jsx(ZO,{})}),E.jsx(xt,{exact:!0,path:"/about-us",element:E.jsx(JO,{})}),E.jsx(xt,{path:"/admin/*",element:E.jsx(nk,{})}),E.jsx(xt,{path:"*",element:E.jsx(QO,{})})]})})})}a0.createRoot(document.getElementById("root")).render(E.jsx(z.StrictMode,{children:E.jsx(rk,{})}));
